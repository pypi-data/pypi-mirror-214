(this.webpackJsonpstreamlit_component_template=this.webpackJsonpstreamlit_component_template||[]).push([[0],{12:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNullableRenderData=void 0;var r=n(2),o=n(7);t.useNullableRenderData=function(){var e=(0,r.useState)(),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e=function(e){n(e.detail)};o.Streamlit.events.addEventListener(o.Streamlit.RENDER_EVENT,e),o.Streamlit.setComponentReady();return function(){o.Streamlit.events.removeEventListener(o.Streamlit.RENDER_EVENT,e)}}),[]),t}},15:function(e,t,n){e.exports=n(26)},20:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useRenderData=void 0;var l=n(11),u=i(n(2)),s=n(7),d=n(12),f=c(n(25)),p=u.default.createContext(void 0);t.useRenderData=function(){var e=(0,u.useContext)(p);if(null==e)throw new Error("useRenderData() must be used inside <StreamlitProvider />");return e};t.default=function(e){var t=(0,d.useNullableRenderData)();return(0,u.useEffect)((function(){s.Streamlit.setFrameHeight()})),null==t?null:(0,l.jsx)(f.default,{children:(0,l.jsx)(p.Provider,r({value:t},{children:e.children}),void 0)},void 0)}},25:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),i=function(e){function t(t){var n=e.call(this,t)||this;return n.state={error:void 0},n}return r(t,e),t.getDerivedStateFromError=function(e){return{error:e}},t.prototype.render=function(){return null!=this.state.error?(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{children:"Component Error"},void 0),(0,a.jsx)("span",{children:this.state.error.message},void 0)]},void 0):this.props.children},t}(o(n(2)).default.PureComponent);t.default=i},26:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),a=n(13),i=n.n(a),c=n(9),l=n(1),u=n(4),s=n(3),d=n(7),f=function(e){var t=e.data,n=t.x1,r=t.y1,a=t.x2,i=t.y2,c=t.name,l=t.dir1,u=t.dir2,s=e.index,d=e.color,f=e.setIndex,p=Math.sqrt(Math.pow(a-n,2)+Math.pow(i-r,2)),h=[(a-n)/p,(i-r)/p],v=[-h[1],h[0]],m="".concat(n+7*h[0],",").concat(r+7*h[1]),b="".concat(a,",").concat(i),y=(n+a)/2,x=(r+i)/2,g=function(){f(s)};return o.a.createElement("svg",null,o.a.createElement("circle",{key:"".concat(n).concat(r),cx:n,cy:r,r:"".concat(7),stroke:d,strokeWidth:"3",fill:"none",onClick:g}),o.a.createElement("circle",{key:"".concat(n).concat(r,"'"),cx:n,cy:r,r:"".concat(7),stroke:"transparent",strokeWidth:"6",fill:"transparent",onClick:g}),o.a.createElement("polyline",{key:"".concat(a).concat(i),points:"".concat(m," ").concat(b),stroke:d,strokeWidth:"3",fill:"none",onClick:g}),o.a.createElement("polyline",{key:"".concat(a).concat(i,"'"),points:"".concat(m," ").concat(b),stroke:"transparent",strokeWidth:"6",fill:"transparent",onClick:g}),o.a.createElement("text",{x:n-2*c.length,y:r-14,fontSize:10,fontFamily:"sans-serif",fill:"white",onClick:g},c),o.a.createElement("text",{x:y+7*v[0]*2,y:x+7*v[1]*2,textAnchor:"middle",fontSize:8,fontFamily:"sans-serif",fill:"white",onClick:g},l),o.a.createElement("text",{x:y-7*v[0]*2,y:x-7*v[1]*2,textAnchor:"middle",fontSize:8,fontFamily:"sans-serif",fill:"white",onClick:g},u))},p=function(e){var t=e.placeholder,n=e.value,a=e.whichProp,i=e.onClick,c=Object(r.useState)(!1),l=Object(s.a)(c,2),u=l[0],d=l[1],f=Object(r.useState)(n),p=Object(s.a)(f,2),h=p[0],v=p[1];return o.a.createElement("input",{type:"text",placeholder:t,value:h,style:{backgroundColor:"#282434",outline:u?"2px solid #ff3030":"none",padding:"10px",color:"#ffffff",borderRadius:"5px",border:"none",fontSize:"12px",margin:"4px",boxSizing:"border-box",width:"9.9%"},onChange:function(e){e.persist(),v(e.target.value),i(e.target.value,a)},onFocus:function(){return d(!0)},onBlur:function(){return d(!1)}})},h=function(e){var t=e.coords,n=e.index,r=e.setCoordinates,a=e.setCoordinatesChanged,i=e.setIndex,c=function(e,t){if(!isNaN(+e)){var o=+e;r((function(e){var r=e[n];return r[t]=o,e[n]=r,a(!0),Object(l.a)(e)}))}},u=function(e,t){r((function(r){var o=e;console.log(o);var i=r[n];return i[t]=o,r[n]=i,a(!0),Object(l.a)(r)}))};return o.a.createElement("div",null,o.a.createElement(p,{placeholder:"Name",value:t.name,whichProp:"name",onClick:u}),o.a.createElement(p,{placeholder:"Direction 1",value:t.dir1,whichProp:"dir1",onClick:u}),o.a.createElement(p,{placeholder:"Direction 2",value:t.dir2,whichProp:"dir2",onClick:u}),o.a.createElement(p,{placeholder:"First X-coordinate",value:String(t.x1),whichProp:"x1",onClick:c}),o.a.createElement(p,{placeholder:"First Y-coordinate",value:String(t.y1),whichProp:"y1",onClick:c}),o.a.createElement(p,{placeholder:"Second X-coordinate",value:String(t.x2),whichProp:"x2",onClick:c}),o.a.createElement(p,{placeholder:"Second Y-coordinate",value:String(t.y2),whichProp:"y2",onClick:c}),o.a.createElement("button",{onClick:function(){i(void 0),r((function(e){var t=Object(l.a)(e);return t.splice(n,1),a(!0),t}))},style:{backgroundColor:"#282434",outline:"none",padding:"10px",color:"#ffffff",borderRadius:"5px",border:"none",fontSize:"12px",margin:"4px",boxSizing:"border-box",width:"5%"}},"X"))};var v=function(){var e=Object(c.useRenderData)(),t=Object(r.useState)([]),n=Object(s.a)(t,2),a=n[0],i=n[1],p=Object(r.useState)([]),v=Object(s.a)(p,2),m=v[0],b=v[1],y=Object(r.useState)(),x=Object(s.a)(y,2),g=x[0],E=x[1],j=["red","green","blue","yellow","pink"],_=e.args.image,O=e.args.width,k=e.args.height,S=Object(r.useState)(e.args.key),w=Object(s.a)(S,2),C=w[0],P=(w[1],e.args.changed),D=0,R=Object(r.useState)(!1),M=Object(s.a)(R,2),N=M[0],z=M[1];var F=null;Object(r.useEffect)((function(){window.addEventListener("keydown",(function(e){(e.ctrlKey||e.metaKey)&&"z"===e.key&&(E(void 0),i((function(e){var t=e.slice(0,-1);return d.Streamlit.setComponentValue(t),t})),z(!0)),"Enter"===e.key&&E(void 0)}))}),[]),Object(r.useEffect)((function(){!function(){var t=e.args.lines;console.log(t),i((function(e){return n=e,r=t,(C===P?n:r).map((function(e){return Object(u.a)(Object(u.a)({},e),{},{id:(t=e,"".concat(t.x1).concat(t.y1).concat(t.x2).concat(t.y2).concat(t.name).concat(t.dir1).concat(t.dir2))});var t}));var n,r}))}()}),[e.args]),Object(r.useEffect)((function(){!function(){for(var e=[],t=0;t<a.length;t++){var n=a[t];e.push(o.a.createElement(f,{data:n,index:t,setIndex:E,color:j[D],key:"vertex_".concat(n.id,"}")})),D=(D+1)%j.length}b(e),N&&(d.Streamlit.setComponentValue(a),z(!1))}()}),[a]);return o.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},o.a.createElement("div",{style:{width:O,height:k,backgroundImage:"url(".concat(_,")"),backgroundSize:"cover",overflow:"hidden",position:"relative",display:"inline-block"},onClick:function(e){void 0===g&&function(e){var t=function(e){var t=e.target.getBoundingClientRect();return[e.clientX-t.left,e.clientY-t.top]}(e),n=Object(s.a)(t,2),r=n[0],o=n[1];if(null===F)F=[r,o];else{var a=F,c=Object(s.a)(a,2),u=c[0],d=c[1],f={x1:u,y1:d,x2:r,y2:o,name:"Vertex ".concat(m.length),dir1:"Up",dir2:"Down",id:"".concat(u).concat(d).concat(r).concat(o,"Vertex ".concat(m.length),"Up","Down")};C===P&&i((function(e){return[].concat(Object(l.a)(e),[f])})),z(!0),D=(D+1)%j.length,F=null}}(e)}},o.a.createElement("svg",{width:O,height:k},m)),o.a.createElement("div",null,C===P?void 0!==g?o.a.createElement(h,{coords:a[g],index:g,setCoordinates:i,setCoordinatesChanged:z,setIndex:E}):o.a.createElement("div",{style:{display:"flex",maxWidth:O,flexWrap:"wrap"}},a.map((function(e,t){return o.a.createElement("h4",{style:{backgroundColor:"#282434",outline:"none",padding:"10px",color:"#ffffff",borderRadius:"5px",border:"none",fontSize:"12px",margin:"4px",boxSizing:"border-box",width:O/8,fontFamily:"sans-serif",fontWeight:10},onClick:function(){return E(t)},key:"name_".concat(e.id)},e.name)}))):o.a.createElement(o.a.Fragment,null)))};i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(c.StreamlitProvider,null,o.a.createElement(v,null))),document.getElementById("root"))},9:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useNullableRenderData=t.StreamlitProvider=t.useRenderData=void 0;var o=n(20);Object.defineProperty(t,"useRenderData",{enumerable:!0,get:function(){return o.useRenderData}}),Object.defineProperty(t,"StreamlitProvider",{enumerable:!0,get:function(){return r(o).default}});var a=n(12);Object.defineProperty(t,"useNullableRenderData",{enumerable:!0,get:function(){return a.useNullableRenderData}})}},[[15,1,2]]]);
//# sourceMappingURL=main.a9c05652.chunk.js.map