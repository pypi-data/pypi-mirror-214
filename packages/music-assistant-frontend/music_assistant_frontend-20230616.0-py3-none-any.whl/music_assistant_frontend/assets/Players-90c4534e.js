import{l as L,H as M,r as A,N as n,a5 as F,b as T,w as j,$ as z,q as o,v as p,x as a,j as l,y as b,z as I,F as R,P as U,K as u,M as m,A as r,k as g,L as v}from"./index-4ed1b7ec.js";import{_ as q,V as $}from"./ProviderIcon.vue_vue_type_script_setup_true_lang-68d20eb3.js";import{V as P,b as G}from"./VMenu-33b23cd5.js";import{c as H,V as _}from"./VCard-d28303d2.js";import{V as K}from"./VContainer-30c95b48.js";import{V as k,j as C}from"./VBtn-59a8c524.js";import"./VDivider-2f28134f.js";/* empty css              */const O={class:"line-clamp-1"},S={class:"line-clamp-1"},Y={class:"list-actions"},x={key:0},J={key:1},ie=L({__name:"Players",setup(Q){const B=M(),d=A([]);console.log(d);const N=n.subscribe_multi([F.PLAYER_CONFIG_UPDATED],()=>{h()});T(N);const h=async function(){d.value=await n.getPlayerConfigs()},w=function(e){n.removePlayerConfig(e),d.value=d.value.filter(c=>c.player_id!=e)},f=function(e){e in n.players&&B.push(`/settings/editplayer/${e}`)},D=function(e){e.enabled=!e.enabled,n.savePlayerConfig(e.player_id,{enabled:e.enabled})},y=function(e){var c;return e.name||((c=n.players[e.player_id])==null?void 0:c.display_name)||e.default_name||e.player_id};return j(()=>n.players,e=>{e&&h()},{immediate:!0}),(e,c)=>{const E=z("hold");return o(),p(K,null,{default:a(()=>[l(H,null,{default:a(()=>[l(P,null,{default:a(()=>[(o(!0),b(R,null,I(d.value.sort((t,i)=>y(t).localeCompare(y(i))),t=>U((o(),p(_,{class:"list-item-main",link:"",onClick:i=>f(t.player_id),key:t.player_id},{prepend:a(()=>[l(q,{domain:t.provider,size:"40px",class:"listitem-media-thumb",style:{"margin-left":"10px"}},null,8,["domain"])]),title:a(()=>[u("div",O,m(y(t)),1)]),subtitle:a(()=>{var i;return[u("div",S,m(((i=r(n).providers[t.provider])==null?void 0:i.name)||t.provider),1)]}),append:a(()=>{var i;return[u("div",Y,[t.enabled?(i=r(n).players[t.player_id])!=null&&i.available?v("",!0):(o(),b("div",J,[l($,{location:"bottom"},{activator:a(({props:s})=>[l(k,g({class:"buttonicon",variant:"plain",ripple:!1,icon:!0},s),{default:a(()=>[l(C,{icon:"mdi-timer-sand"})]),_:2},1040)]),default:a(()=>[u("span",null,m(e.$t("settings.player_not_available")),1)]),_:1})])):(o(),b("div",x,[l($,{location:"bottom"},{activator:a(({props:s})=>[l(k,g({class:"buttonicon",variant:"plain",ripple:!1,icon:!0},s),{default:a(()=>[l(C,{icon:"mdi-cancel"})]),_:2},1040)]),default:a(()=>[u("span",null,m(e.$t("settings.player_disabled")),1)]),_:1})]))]),l(G,{location:"bottom end"},{activator:a(({props:s})=>[l(k,g({class:"buttonicon",variant:"plain",ripple:!1,icon:!0},s),{default:a(()=>[l(C,{icon:"mdi-dots-vertical"})]),_:2},1040)]),default:a(()=>[l(P,null,{default:a(()=>{var s;return[t.enabled&&t.player_id in r(n).players?(o(),p(_,{key:0,class:"list-item-main",title:e.$t("settings.configure"),"prepend-icon":"mdi-cog",onClick:V=>f(t.player_id)},null,8,["title","onClick"])):v("",!0),l(_,{class:"list-item-main",title:t.enabled?e.$t("settings.disable"):e.$t("settings.enable"),"prepend-icon":"mdi-cog",onClick:V=>D(t)},null,8,["title","onClick"]),r(n).providerManifests[t.provider].documentation?(o(),p(_,{key:1,class:"list-item-main",title:e.$t("settings.documentation"),"prepend-icon":"mdi-bookshelf",href:r(n).providerManifests[t.provider].documentation,target:"_blank"},null,8,["title","href"])):v("",!0),(s=r(n).players[t.player_id])!=null&&s.available?v("",!0):(o(),p(_,{key:2,class:"list-item-main",title:e.$t("settings.delete"),"prepend-icon":"mdi-delete",onClick:V=>w(t.player_id)},null,8,["title","onClick"]))]}),_:2},1024)]),_:2},1024)]}),_:2},1032,["onClick"])),[[E,()=>{f(t.player_id)}]])),128))]),_:1})]),_:1})]),_:1})}}});export{ie as default};
