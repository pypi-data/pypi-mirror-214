import{P as x}from"./ListviewItem.vue_vue_type_script_setup_true_lang-0ef9dac8.js";import{p as E,g as G,j as r,l as K,r as R,e as Y,H as q,w as J,b as O,B as k,c as A,q as i,y as d,x as t,v as s,L as l,A as f,K as p,J as g,M as m,k as H,F as M,z as B,_ as F,R as N,N as j}from"./index-4ed1b7ec.js";import{_ as D,c as U,p as Q}from"./MediaItemThumb.vue_vue_type_style_index_0_lang-00aa6de8.js";import{g as W,b as X}from"./MediaItemContextMenu.vue_vue_type_style_index_0_lang-ad208585.js";import{e as Z,a as z,f as ee,b as c,c as _,g as te,h as ae,V as ie}from"./VCard-d28303d2.js";import{V as re}from"./ProviderIcon.vue_vue_type_script_setup_true_lang-68d20eb3.js";import{a as oe,i as le,j as b,V as L,l as ne}from"./VBtn-59a8c524.js";import{b as se,V as me}from"./VMenu-33b23cd5.js";import{b as de,c as pe}from"./layout-b0721787.js";import{V as ue}from"./VDialog-1d6b20ef.js";import{V as ye}from"./VSpacer-068e5bd9.js";const fe=E({...oe(),...de()},"VLayout"),S=G()({name:"VLayout",props:fe(),setup(v,n){let{slots:u}=n;const{layoutClasses:V,layoutStyles:$,getLayoutItem:T,items:C,layoutRef:I}=pe(v);return le(()=>{var h;return r("div",{ref:I,class:[V.value,v.class],style:[$.value,v.style]},[(h=u.default)==null?void 0:h.call(u)])}),{getLayoutItem:T,items:C}}}),ge={key:0,xs5:"","pa-5":"",style:{width:"230px",height:"230px","margin-top":"15px","margin-bottom":"15px","margin-right":"24px"}},ce={key:0},be={key:1},ve={style:{"padding-bottom":"10px"}},he=["onClick"],ke={style:{color:"primary"}},Ve={style:{display:"flex","margin-left":"14px","padding-bottom":"10px"}},Ce=["innerHTML"],we={key:1,class:"justify-center",style:{"margin-left":"15px","padding-bottom":"20px"}},Le={style:{position:"absolute",float:"right",right:"15px",top:"15px"}},je=K({__name:"InfoHeader",props:{item:{}},setup(v){const n=v,u=R(!1),V=R(),{mobile:$}=Y(),T=new URL(""+new URL("info_gradient-a4aefd1d.jpg",import.meta.url).href,self.location).href,C=q();J(()=>n.item,async e=>{e&&(k.topBarTitle=e.name,V.value=await U(n.item,F.FANART)||await U(n.item,F.THUMB),k.topBarContextMenuItems=W([e],e))},{immediate:!0}),O(()=>{k.topBarContextMenuItems=[]});const I=function(e){C.push({name:"album",params:{itemId:e.item_id,provider:e.provider}})},h=function(e){console.log("artistClick",e),C.push({name:"artist",params:{itemId:e.item_id,provider:e.provider}})},w=A(()=>{let e="";return n.item?(n.item.metadata&&n.item.metadata.description?e=n.item.metadata.description:n.item.metadata&&n.item.metadata.copyright?e=n.item.metadata.copyright:"artists"in n.item&&n.item.artists.forEach(function(o){"metadata"in o&&o.metadata.description&&(e=o.metadata.description)}),e=e.replace(`\r
`,"<br /><br /><br />"),e=e.replace("\r","<br /><br />"),e=e.replace(`
`,"<br /><br />"),e):""}),P=A(()=>{const e=$.value?160:260;return w.value.length>e?w.value.substring(0,e)+"...":w.value});return(e,o)=>(i(),d("div",null,[r(_,{variant:"flat",img:f(T),style:{"margin-top":"-10px","z-index":"0"},height:"30vh","max-height":"500px","min-height":"340px"},{default:t(()=>[e.item?l("",!0):(i(),s(ne,{key:0,indeterminate:""})),r(Z,{width:"100%",height:"100%",cover:"",class:"background-image",src:V.value,gradient:e.$vuetify.theme.current.dark?"to bottom, rgba(0,0,0,.90), rgba(0,0,0,.75)":"to bottom, rgba(255,255,255,.90), rgba(255,255,255,.75)"},null,8,["src","gradient"]),e.item?(i(),s(S,{key:1,style:{margin:"0",position:"absolute",top:"50%","-ms-transform":"translateY(-50%)",transform:"translateY(-50%)","padding-left":"15px","align-items":"center","padding-right":"15px"}},{default:t(()=>[e.$vuetify.display.mobile?l("",!0):(i(),d("div",ge,[e.item.media_type&&(e.item.media_type==f(N).ARTIST||"owner"in e.item)?(i(),d("div",ce,[r(z,{size:"192"},{default:t(()=>[r(D,{item:e.item,height:230,width:230},null,8,["item"])]),_:1})])):(i(),d("div",be,[r(D,{width:230,item:e.item},null,8,["item"])]))])),p("div",null,[r(ee,null,{default:t(()=>[g(m(e.item.name),1)]),_:1}),p("div",ve,["version"in e.item&&e.item.version?(i(),s(c,{key:0,class:"caption"},{default:t(()=>[g(m(e.item.version)+" ",1),r(re,{location:"bottom"},{activator:t(({props:a})=>[f(Q)(e.item.metadata.explicit||!1)?(i(),s(b,H({key:0},a,{icon:"mdi-alpha-e-box",width:"35"}),null,16)):l("",!0)]),default:t(()=>[p("span",null,m(e.$t("tooltip.explicit")),1)]),_:1})]),_:1})):l("",!0),"artists"in e.item&&e.item.artists?(i(),s(c,{key:1,class:"title accent--text"},{default:t(()=>[r(b,{style:{"margin-left":"-3px","margin-right":"3px"},small:"",color:"primary",icon:"mdi-account-music"}),(i(!0),d(M,null,B(e.item.artists,(a,y)=>(i(),d("span",{key:a.item_id},[p("a",{style:{color:"accent"},onClick:$e=>h(a)},m(a.name),9,he),y+1<e.item.artists.length?(i(),d("span",{key:y,style:{color:"accent"}},m(" / "))):l("",!0)]))),128))]),_:1})):l("",!0),"artist"in e.item&&e.item.artist?(i(),s(c,{key:2,class:"title"},{default:t(()=>[r(b,{style:{"margin-left":"-3px","margin-right":"3px"},small:"",color:"primary",icon:"mdi-account-music"}),p("a",{onClick:o[0]||(o[0]=a=>h(e.item.artist))},m(e.item.artist.name),1)]),_:1})):l("",!0),"owner"in e.item&&e.item.owner?(i(),s(c,{key:3,class:"title"},{default:t(()=>[r(b,{color:"primary",style:{"margin-left":"-3px","margin-right":"3px"},small:"",icon:"mdi-account-music"}),p("a",ke,m(e.item.owner),1)]),_:1})):l("",!0),"album"in e.item&&e.item.album?(i(),s(c,{key:4},{default:t(()=>[r(b,{color:"primary",style:{"margin-left":"-3px","margin-right":"3px"},small:"",icon:"mdi-album"}),p("a",{style:{color:"secondary"},onClick:o[1]||(o[1]=a=>{var y;return I((y=e.item)==null?void 0:y.album)})},m(e.item.album.name),1)]),_:1})):l("",!0)]),p("div",Ve,[r(se,{location:"bottom"},{activator:t(({props:a})=>{var y;return[r(L,H({color:"primary"},a,{"prepend-icon":"mdi-play-circle",disabled:!((y=f(k).selectedPlayer)!=null&&y.available)||f(k).blockGlobalPlayMenu}),{default:t(()=>[g(m(e.$t("play")),1)]),_:2},1040,["disabled"])]}),default:t(()=>[r(_,{"min-width":"300"},{default:t(()=>[r(me,{lines:"one",density:"comfortable"},{default:t(()=>[(i(!0),d(M,null,B(f(X)([e.item]),a=>(i(),s(ie,{class:"list-item-main",key:a.label,title:e.$t(a.label,a.labelArgs),onClick:y=>a.action?a.action():""},{prepend:t(()=>[r(z,{style:{"padding-right":"10px"}},{default:t(()=>[r(b,{icon:a.icon},null,8,["icon"])]),_:2},1024)]),_:2},1032,["title","onClick"]))),128))]),_:1})]),_:1})]),_:1}),!e.$vuetify.display.mobile&&!e.item.in_library?(i(),s(L,{key:0,style:{"margin-left":"10px"},color:"primary",tile:"","prepend-icon":"mdi-heart-outline",onClick:o[2]||(o[2]=a=>f(j).addItemsToLibrary([e.item]))},{default:t(()=>[g(m(e.$t("add_library")),1)]),_:1})):l("",!0),!e.$vuetify.display.mobile&&e.item.in_library?(i(),s(L,{key:1,style:{"margin-left":"10px"},color:"primary",tile:"","prepend-icon":"mdi-heart",onClick:o[3]||(o[3]=a=>f(j).removeItemsFromLibrary([e.item]))},{default:t(()=>[g(m(e.$t("remove_library")),1)]),_:1})):l("",!0)]),P.value?(i(),s(c,{key:0,class:"body-2 justify-left",style:{"padding-bottom":"10px","white-space":"pre-line",cursor:"pointer"},onClick:o[4]||(o[4]=a=>u.value=!u.value)},{default:t(()=>[p("div",{innerHTML:P.value},null,8,Ce)]),_:1})):l("",!0),e.item&&e.item.metadata.genres?(i(),d("div",we,[(i(!0),d(M,null,B(e.item.metadata.genres.slice(0,e.$vuetify.display.mobile?15:25),a=>(i(),s(ye,{key:a,color:"blue-grey lighten-1",style:{"margin-right":"5px","margin-bottom":"5px"},small:"",outlined:""},{default:t(()=>[g(m(a),1)]),_:2},1024))),128))])):l("",!0)])]),_:1})):l("",!0),e.item?(i(),s(S,{key:2,style:{"z-index":"800",height:"100%","padding-left":"15px"}},{default:t(()=>[p("div",Le,[r(x,{"provider-mappings":e.item.provider_mappings,height:25,"enable-details":!0,"enable-preview":e.item.media_type==f(N).TRACK},null,8,["provider-mappings","enable-preview"])])]),_:1})):l("",!0)]),_:1},8,["img"]),r(ue,{modelValue:u.value,"onUpdate:modelValue":o[6]||(o[6]=a=>u.value=a),"max-width":"975",width:"auto"},{default:t(()=>[r(_,null,{default:t(()=>[r(te,{innerHTML:w.value},null,8,["innerHTML"]),r(ae,null,{default:t(()=>[r(L,{color:"primary",block:"",onClick:o[5]||(o[5]=a=>u.value=!1)},{default:t(()=>[g(m(e.$t("close")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}});export{je as _};
