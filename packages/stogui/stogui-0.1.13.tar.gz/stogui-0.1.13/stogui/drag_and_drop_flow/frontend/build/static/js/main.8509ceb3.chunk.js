(this.webpackJsonpstreamlit_component_template=this.webpackJsonpstreamlit_component_template||[]).push([[0],{151:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},l=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{u(a.next(e))}catch(t){o(t)}}function l(e){try{u(a.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((a=a.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(u){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){i.label=l[1];break}if(6===l[0]&&i.label<r[1]){i.label=r[1],r=l;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(l);break}r[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(u){l=[6,u],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DnDFlow=void 0;var d=n(2),f=i(n(88));n(178);var p=s(n(179)),v=s(n(356)),m=n(357),h=n(358),b=s(n(359)),g=s(n(360)),y=s(n(361)),_=s(n(366)),E=i(n(87)),w=s(n(2)),N=new p.default.graphlib.Graph;N.setDefaultEdgeLabel((function(){return{}}));t.DnDFlow=function(){var e=(0,d.useRef)(null),t=(0,f.useNodesState)([]),n=t[0],r=t[1],o=t[2],i=(0,f.useEdgesState)([]),s=i[0],S=i[1],O=i[2],P=(0,d.useState)(null),x=P[0],j=P[1],D=(0,d.useState)({open:!1,type:"upload",data:{}}),k=D[0],C=D[1],M=(0,d.useState)(!1),T=M[0],B=M[1],F=(0,d.useState)([]),A=F[0],J=F[1];(0,d.useEffect)((function(){l(void 0,void 0,void 0,(function(){var e,t;return u(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,E.getFuncNodes()];case 1:return e=n.sent(),J(e),[3,3];case 2:return t=n.sent(),console.log("Error in API.getFuncNodes",t.toString()),[3,3];case 3:return[2]}}))}))}),[]);var I=(0,d.useMemo)((function(){return{textUpdater:function(e){return w.default.createElement(b.default,a({},e,{type:"varNode"}))},custom:function(e){return w.default.createElement(g.default,a({},e,{type:"funcNode",funcList:A}))}}}),[A]),L=(0,d.useCallback)((function(e){var t=e.source;e.target;if(!s.find((function(e){return e.source===t}))){var n=a(a({},e),{type:"smoothstep",animated:!0});S((function(e){return(0,f.addEdge)(n,e)}))}}),[s]),G=(0,d.useCallback)((function(e){var t=function(e,t,n){void 0===n&&(n="TB");var a="TB"===n;return N.setGraph({rankdir:n}),e.forEach((function(e){N.setNode(e.id,{width:200,height:75})})),t.forEach((function(e){N.setEdge(e.source,e.target)})),p.default.layout(N),e.forEach((function(e){var t=N.node(e.id);return e.targetPosition=a?"left":"top",e.sourcePosition=a?"right":"bottom",e.position={x:t.x-100,y:t.y-37.5},e})),{nodes:e,edges:t}}(n,s,e),a=t.nodes,o=t.edges;r(c([],a,!0)),S(c([],o,!0))}),[n,s]);(0,d.useEffect)((function(){G("TB")}),[T]);var H=(0,d.useCallback)((function(e){var t=(0,h.convertFuncNodeToJsonNode)(e),n=(0,h.convertFuncNodeToJsonEdge)(e);r(t),S(n),B(!T)}),[r,S,B]),z=(0,d.useCallback)((function(){if(x){var e=x.toObject(),t={func_nodes:(0,m.convertJsonToFuncNodes)(e)};C({open:!0,type:"download",data:t}),localStorage.setItem("example-flow",JSON.stringify(e)),localStorage.setItem("MappedJson",JSON.stringify(t))}}),[x]),U=(0,d.useCallback)((function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"}),[]),R=s.map((function(e){return e.sourceHandle&&(e.markerEnd={type:f.MarkerType.ArrowClosed}),e.id="".concat(e.source," + ").concat(e.target),e})),V=(0,d.useCallback)((function(t){var n,a;t.preventDefault();var o=null===(a=null===e||void 0===e?void 0:e.current)||void 0===a?void 0:a.getBoundingClientRect(),i=t.dataTransfer.getData("application/reactflow");if("undefined"!==typeof i&&i){var l=null===x||void 0===x?void 0:x.project({x:t.clientX-o.left,y:t.clientY-o.top}),u=function(e){return"".concat("input"===e||"textUpdater"===e?"variable_"+Math.floor(1e3*Math.random()):"function_"+Math.floor(1e3*Math.random()))}(i),c={id:u,type:i,position:l,data:{label:"",initialEdge:"right"}};"custom"===i&&(c.data={label:"Add",ddType:"Add",initialEdge:"right",selects:(n={},n[u]="Add",n)}),r((function(e){return e.concat(c)}))}}),[x]),Y=n.map((function(e){return e})),q=function(){C({open:!1,type:"upload",data:{}})};return w.default.createElement("div",{className:"dndflow ".concat((null===k||void 0===k?void 0:k.open)&&"overlayEffect")},w.default.createElement(f.ReactFlowProvider,null,w.default.createElement(v.default,null),w.default.createElement("div",{className:"reactflow-wrapper",ref:e},w.default.createElement(f.default,{nodes:Y,snapToGrid:!0,snapGrid:[2,2],edges:R,onNodesChange:o,onEdgesChange:O,isValidConnection:function(e){var t,a,r=e.source,o=e.target;return(null===(t=n.find((function(e){return e.id===r})))||void 0===t?void 0:t.type)!==(null===(a=n.find((function(e){return e.id===o})))||void 0===a?void 0:a.type)},onConnect:L,onInit:j,onDrop:V,onDragOver:U,fitView:!0,nodeTypes:I},w.default.createElement(f.Background,{variant:f.BackgroundVariant.Lines,color:"#2a2b2d",style:{backgroundColor:"#1E1F22"}}),w.default.createElement(f.Controls,null),w.default.createElement(f.Panel,{position:"top-right"},w.default.createElement("button",{onClick:z,className:"saveBtn panelBtn"},"save"),w.default.createElement("button",{onClick:function(){B(!1),C(a(a({},k),{open:!0,type:"upload"}))},className:"panelBtn"},"load"))))),(null===k||void 0===k?void 0:k.open)&&w.default.createElement("div",{className:"overlayPosition"},"upload"===(null===k||void 0===k?void 0:k.type)?w.default.createElement(y.default,{onClose:q,type:null===k||void 0===k?void 0:k.type,data:null===k||void 0===k?void 0:k.data,onDataUploaded:H}):w.default.createElement(_.default,{onClose:q,type:null===k||void 0===k?void 0:k.type,data:null===k||void 0===k?void 0:k.data,onDataUploaded:H})))},t.default=(0,d.memo)(t.DnDFlow)},155:function(e,t,n){e.exports=n(369)},356:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(2));t.default=function(){var e=function(e,t){e.dataTransfer.setData("application/reactflow",t),e.dataTransfer.effectAllowed="move"};return r.default.createElement("aside",null,r.default.createElement("div",{className:"description"},"You can drag these nodes to the pane on the right."),r.default.createElement("div",{className:"dndnode input",onDragStart:function(t){return e(t,"textUpdater")},draggable:!0},"Variable Node"),r.default.createElement("div",{className:"dndnode function",onDragStart:function(t){return e(t,"custom")},draggable:!0},"Function Node"))}},357:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertJsonToFuncNodes=void 0,t.convertJsonToFuncNodes=function(e){var t=e.edges,n=e.nodes,a=n.filter((function(e){return"custom"===e.type})),r=n.filter((function(e){return"custom"!==e.type})),o=[];return a.forEach((function(e){var n={};n.name=e.id,n.func_label=e.data.label;var a={};t.map((function(t){var o,i=null===(o=t.id)||void 0===o?void 0:o.split("+");(i[0].trim()===e.id||i[1].trim()===e.id&&t.target===e.id)&&r.map((function(e){var n;e.id===t.source&&Object.assign(a,((n={})[e.data.label]=e.data.label,n))})),n.bind=a,(i[0].trim()===e.id||i[1].trim()===e.id&&t.source===e.id)&&r.map((function(e){e.id===t.target&&(n.out=e.data.label)}))})),o.push(n)})),o}},358:function(e,t,n){"use strict";var a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};function r(){return Math.floor(350*Math.random())}Object.defineProperty(t,"__esModule",{value:!0}),t.convertFuncNodeToJsonEdge=t.randomPosition=t.convertFuncNodeToJsonNode=void 0,t.convertFuncNodeToJsonNode=function(e){var t=e.func_nodes,n=[],o=[],i=[];return t.map((function(e,t){var a={id:e.name,type:"custom",data:{label:e.func_label,selects:e.func_label},position:{x:r(),y:r()}};n.push(a),Object.values(e.bind).map((function(t){o.push(t),i.push(e.out)}))})),a([],new Set(a([],new Set(o),!0).concat(a([],new Set(i),!0))),!0).map((function(e,t){var a={id:e,type:"textUpdater",data:{label:e},position:{x:r(),y:r()}};n.push(a)})),n},t.randomPosition=r,t.convertFuncNodeToJsonEdge=function(e){var t=e.func_nodes,n=[];return t.map((function(e){var t={id:"".concat(e.out+"."+e.name,"_edge"),markerEnd:{type:"arrowclosed"},source:e.name,target:e.out,type:"smoothstep",animated:!0};n.push(t),Object.values(e.bind).map((function(t){var a={id:"".concat(e.out+"."+e.name,"_edge"),markerEnd:{type:"arrowclosed"},source:t,target:e.name,type:"smoothstep",animated:!0};n.push(a)}))})),n}},359:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var l=i(n(2)),u=n(88),c=n(86);t.default=(0,l.memo)((function(e){var t=e.id,n=e.isConnectable,r=e.type,o=e.sourcePosition,i=e.data,s=(0,l.useState)(e.data.label),d=s[0],f=s[1],p=(0,l.useState)({title:"func_node",label:"func_label",placeHolder:"function name"}),v=p[0],m=p[1],h=(0,l.useState)(!1),b=h[0],g=h[1],y=(0,u.useReactFlow)().setNodes,_=(0,u.useStoreApi)(),E=(0,l.useCallback)((function(e){var n=_.getState().nodeInternals,r=e.target.value;c.pythonIdentifierPattern.test(r)?(g(!1),f(r),y(Array.from(n.values()).map((function(e){return e.id===t&&(e.data=a(a({},e.data),{label:r})),e})))):(console.log("Invalid identifier"),g(!0))}),[e]);return(0,l.useEffect)((function(){"funcNode"!==r&&m({title:"var_node",label:"var_label",placeHolder:"variable name"})}),[e.type]),l.default.createElement("div",{className:"text-updater-node"},l.default.createElement("h4",{className:"nodeTitle ".concat(r)},v.title),l.default.createElement(u.Handle,{type:"target",position:"right"===(null===i||void 0===i?void 0:i.initialEdge)||"right"===o?u.Position.Top:u.Position.Left,isConnectable:n}),l.default.createElement("div",{className:"flexProps ".concat(r)},l.default.createElement("div",{className:"inputStyler"},l.default.createElement("label",{htmlFor:"text"},v.label,":"),l.default.createElement("input",{id:"text",name:"text",onChange:E,className:"titleBox",placeholder:v.placeHolder,value:d})),b&&l.default.createElement("span",{className:"invalidMsg"},"Invalid Entry")),l.default.createElement(u.Handle,{type:"source",position:"right"===(null===i||void 0===i?void 0:i.initialEdge)||"right"===o?u.Position.Bottom:u.Position.Right,isConnectable:n}))}))},360:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var l=i(n(2)),u=n(88),c=n(86);function s(e){var t=e.value,n=e.handleId,r=e.nodeId,o=e.sourcePosition,i=e.data,s=e.selector,d=(0,u.useReactFlow)().setNodes,f=(0,u.useStoreApi)(),p=(0,l.useState)(),v=p[0],m=p[1],h=(0,l.useState)(""),b=h[0],g=h[1],y=(0,l.useState)(!1),_=y[0],E=y[1],w=(0,l.useCallback)((function(e){var t=f.getState().nodeInternals,n=e.target.value;c.pythonIdentifierPattern.test(n)?(g(n),E(!1),d(Array.from(t.values()).map((function(e){return e.id===r&&(e.data=a(a({},e.data),{label:n})),e})))):(console.log("Invalid identifier"),E(!0))}),[]);return l.default.createElement("div",{className:"custom-node__select"},l.default.createElement("select",{className:"nodrag titleBox",onChange:function(e){var t=f.getState().nodeInternals;m(e.target.value),d(Array.from(t.values()).map((function(t){var o;return t.id===r&&(t.data=a(a({},t.data),{label:e.target.value,ddType:e.target.value,selects:a(a({},t.data.selects),(o={},o[n]=e.target.value,o))})),t})))},value:t},null===s||void 0===s?void 0:s.map((function(e){return l.default.createElement("option",{key:null===e||void 0===e?void 0:e.value,value:null===e||void 0===e?void 0:e.value},null===e||void 0===e?void 0:e.label)}))),"new"===v&&l.default.createElement(l.default.Fragment,null,l.default.createElement("input",{id:"text",name:"text",onChange:w,className:"titleBox",value:b,placeholder:"function Name",pattern:c.pythonIdentifierPattern.toString()}),_&&l.default.createElement("span",{className:"invalidMsg"},"Invalid Entry")),l.default.createElement(u.Handle,{type:"target",position:"right"===(null===i||void 0===i?void 0:i.initialEdge)||"right"===o?u.Position.Top:u.Position.Left,id:n}),l.default.createElement(u.Handle,{type:"source",position:"right"===(null===i||void 0===i?void 0:i.initialEdge)||"right"===o?u.Position.Bottom:u.Position.Right,id:n}))}t.default=(0,l.memo)((function(e){var t=e.id,n=e.data,a=e.type,r=e.sourcePosition,o=e.funcList;return l.default.createElement("section",{className:"text-updater-node ".concat(a)},l.default.createElement("h4",{className:"nodeTitle ".concat(a)},"func_node"),l.default.createElement("div",{className:"flexProps ".concat(a)},l.default.createElement(s,{nodeId:t,value:"new"===n.ddType?n.ddType:n.label,handleId:n.label,sourcePosition:r,data:n,selector:o})))}))},361:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},i=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{u(a.next(e))}catch(t){o(t)}}function l(e){try{u(a.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((a=a.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(u){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){i.label=l[1];break}if(6===l[0]&&i.label<r[1]){i.label=r[1],r=l;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(l);break}r[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(u){l=[6,u],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(2)),c=o(n(87));t.default=(0,u.memo)((function(e){var t=this,n=e.onClose,a=(0,u.useState)(JSON.stringify(e.data,null,2)),r=a[0],o=a[1],s=(0,u.useState)(!1),d=s[0],f=s[1],p=(0,u.useState)(!1),v=p[0],m=p[1],h=(0,u.useState)(!1),b=h[0],g=h[1],y=(0,u.useState)(""),_=y[0],E=y[1],w=(0,u.useState)([]),N=w[0],S=w[1];return(0,u.useEffect)((function(){i(t,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return[4,c.getDagList()];case 1:return e=t.sent(),S(e),[2]}}))}))}),[]),u.default.createElement("div",{className:"ModalBox"},u.default.createElement("h3",{className:"ModalTitle"},"DAG Load"),!v&&u.default.createElement("form",{onSubmit:function(a){return i(t,void 0,void 0,(function(){return l(this,(function(t){return a.preventDefault(),c.loadDag(_).then((function(t){e.onDataUploaded(t),f(!1),n()})).catch((function(e){console.log("errpr",e.message),f(!0)})),[2]}))}))}},u.default.createElement("div",{className:"dagList"},u.default.createElement("label",{htmlFor:"dagList"},"Choose your Dag:"),u.default.createElement("select",{name:"dagList",id:"dagList",defaultValue:"",onChange:function(e){return i(t,void 0,void 0,(function(){return l(this,(function(t){return E(e.target.value),[2]}))}))}},u.default.createElement("option",{disabled:!0,value:""},"Select a Dag"),null===N||void 0===N?void 0:N.map((function(e){return u.default.createElement("option",{key:null===e||void 0===e?void 0:e.value,value:null===e||void 0===e?void 0:e.value},null===e||void 0===e?void 0:e.label)})))),d&&u.default.createElement("p",{className:"jsonError"},"The JSON upload failed. Please check the JSON and try again"),u.default.createElement("button",{type:"submit",className:"uploadSubmitButton btnSize"},"Load"),u.default.createElement("button",{onClick:n,className:"uploadCancelButton btnSize"},"Close")),v&&u.default.createElement("form",{onSubmit:function(a){return i(t,void 0,void 0,(function(){var t;return l(this,(function(o){a.preventDefault();try{t=JSON.parse(r),e.onDataUploaded(t)}catch(i){return g(!0),[2]}return"upload"===e.type?localStorage.setItem("data",r):navigator.clipboard.writeText(r),n(),[2]}))}))}},u.default.createElement("textarea",{name:"data",value:r,onChange:function(e){o(e.target.value)},className:"textAreaSize",placeholder:"Paste Your JSON",required:!0}),b&&u.default.createElement("p",{className:"jsonError"},"The JSON upload failed. Please check the JSON and try again"),u.default.createElement("button",{type:"submit",className:"uploadSubmitButton btnSize"},"Load"),u.default.createElement("button",{onClick:n,className:"uploadCancelButton btnSize"},"Close")),v?u.default.createElement("p",{className:"sampleText"},u.default.createElement("span",{onClick:function(){return m(!1)},className:"clickHere"},u.default.createElement("b",null,"Click here")," ")," to Select a Dag"):u.default.createElement("p",{className:"sampleText"},u.default.createElement("span",{onClick:function(){return m(!0)},className:"clickHere"},u.default.createElement("b",null,"Click here")," "),"to Enter DAG JSON"))}))},366:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},l=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{u(a.next(e))}catch(t){o(t)}}function l(e){try{u(a.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((a=a.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(u){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){i.label=l[1];break}if(6===l[0]&&i.label<r[1]){i.label=r[1],r=l;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(l);break}r[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(u){l=[6,u],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(2)),d=c(n(367)),f=i(n(87)),p=n(86);t.default=(0,s.memo)((function(e){var t=this,n=JSON.stringify(e.data,null,2),r=e.onClose,o=(0,s.useState)(!1),i=o[0],c=o[1],v=(0,s.useState)(""),m=v[0],h=v[1];return s.default.createElement("div",{className:"ModalBox"},s.default.createElement("form",{onSubmit:function(n){return l(t,void 0,void 0,(function(){var t;return u(this,(function(o){return n.preventDefault(),t=a({dagName:m},e.data),r(),f.saveDag(t).then((function(e){})).catch((function(e){return console.log("error",e.message)})),[2]}))}))},className:"jsonData"},s.default.createElement("h3",{className:"ModalTitle"},"Save DAG"),s.default.createElement("div",{className:"dagNameSection"},s.default.createElement("label",{htmlFor:"text"},"Name:"),s.default.createElement("input",{id:"text",name:"text",className:"dagNameBox",placeholder:"Name of DAG",required:!0,onChange:function(e){var t=e.target.value;p.pythonIdentifierPattern.test(t)&&h(t)},value:m})),s.default.createElement("img",{onClick:function(){navigator.clipboard.writeText(n),c(!0)},src:d.default,alt:"copyBtn",className:"copyBtn",title:i?"Copied!":"Copy"}),s.default.createElement("textarea",{name:"data",id:"textarea",value:n,className:"textAreaSize",placeholder:"Copy Your JSON",required:!0,readOnly:!0}),s.default.createElement("button",{type:"submit",className:"uploadSubmitButton btnSize"},"Save"),s.default.createElement("button",{onClick:r,className:"uploadCancelButton btnSize"},"Close")))}))},367:function(e,t,n){e.exports=n.p+"static/media/files.e95174f1.png"},369:function(e,t,n){"use strict";n.r(t);var a=n(14),r=n.n(a),o=n(148),i=n.n(o),l=n(149),u=n(63),c=n(151),s=function(){return Object(a.useEffect)((function(){return u.Streamlit.setFrameHeight()})),r.a.createElement(c.DnDFlow,null)};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.StreamlitProvider,null,r.a.createElement(s,null))),document.getElementById("root"))},86:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pythonIdentifierPattern=void 0,t.pythonIdentifierPattern=/^[a-zA-Z_][a-zA-Z0-9_]*$/},87:function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{u(a.next(e))}catch(t){o(t)}}function l(e){try{u(a.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(u){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){i.label=l[1];break}if(6===l[0]&&i.label<r[1]){i.label=r[1],r=l;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(l);break}r[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(u){l=[6,u],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.saveDag=t.loadDag=t.getDagList=t.getFuncNodes=void 0;var i=o(n(368)),l="https://mocki.io/v1/0f770953-182c-4073-a9fc-f5effccb001d",u="https://mocki.io/v1/7dea7725-5f86-49ee-8280-05c24b8d2dd7",c="https://mocki.io/v1/7dea7725-5f86-49ee-8280-05c24b8d2dd7",s="https://dagger.free.beeceptor.com/",d=function(e){return a(void 0,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,i.default.get(e)];case 1:return[2,t.sent().data]}}))}))};function f(e,t){return a(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,i.default.post(e,t)];case 1:return[2,n.sent().data]}}))}))}t.getFuncNodes=function(){return d(l)},t.getDagList=function(){return d(u)};t.loadDag=function(e){return a(void 0,void 0,void 0,(function(){return r(this,(function(t){return[2,d(s+e)]}))}))};t.saveDag=function(e){return a(void 0,void 0,void 0,(function(){return r(this,(function(t){return[2,f(c,e)]}))}))}}},[[155,1,2]]]);
//# sourceMappingURL=main.8509ceb3.chunk.js.map