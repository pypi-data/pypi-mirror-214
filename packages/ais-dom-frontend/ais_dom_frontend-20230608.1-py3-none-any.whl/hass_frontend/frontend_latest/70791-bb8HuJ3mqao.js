"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[70791,4631],{43986:(t,e,i)=>{i.d(e,{L:()=>o,a:()=>a});var n=i(87367);const a={ms:1,s:1e3,min:6e4,h:36e5,d:864e5},o=(t,e)=>(0,n.Z)(parseFloat(t)*a[e])||"0"},26410:(t,e,i)=>{i.a(t,(async(t,n)=>{try{i.d(e,{Bt:()=>l,T8:()=>d});var a=i(22075),o=i(66477),r=i(4631),s=t([r]);r=(s.then?(await s)():s)[0];const c=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],l=t=>t.first_weekday===o.FS.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(t.language).weekInfo.firstDay%7:(0,a.L)(t.language)%7:c.includes(t.first_weekday)?c.indexOf(t.first_weekday):1,d=t=>{const e=l(t);return c[e]};n()}catch(t){n(t)}}))},12198:(t,e,i)=>{i.a(t,(async(t,n)=>{try{i.d(e,{D_:()=>b,NC:()=>y,Nh:()=>g,WB:()=>h,mn:()=>f,p6:()=>d,pU:()=>c,yQ:()=>k});var a=i(14516),o=i(66477),r=i(4631),s=t([r]);r=(s.then?(await s)():s)[0];const c=(t,e)=>l(e).format(t),l=(0,a.Z)((t=>new Intl.DateTimeFormat(t.language,{weekday:"long",month:"long",day:"numeric"}))),d=(t,e)=>u(e).format(t),u=(0,a.Z)((t=>new Intl.DateTimeFormat(t.language,{year:"numeric",month:"long",day:"numeric"}))),h=(t,e)=>{var i,n,a,r;const s=m(e);if(e.date_format===o.t6.language||e.date_format===o.t6.system)return s.format(t);const c=s.formatToParts(t),l=null===(i=c.find((t=>"literal"===t.type)))||void 0===i?void 0:i.value,d=null===(n=c.find((t=>"day"===t.type)))||void 0===n?void 0:n.value,u=null===(a=c.find((t=>"month"===t.type)))||void 0===a?void 0:a.value,h=null===(r=c.find((t=>"year"===t.type)))||void 0===r?void 0:r.value,f=c.at(c.length-1);let v="literal"===(null==f?void 0:f.type)?null==f?void 0:f.value:"";"bg"===e.language&&e.date_format===o.t6.YMD&&(v="");return{[o.t6.DMY]:`${d}${l}${u}${l}${h}${v}`,[o.t6.MDY]:`${u}${l}${d}${l}${h}${v}`,[o.t6.YMD]:`${h}${l}${u}${l}${d}${v}`}[e.date_format]},m=(0,a.Z)((t=>{const e=t.date_format===o.t6.system?void 0:t.language;return t.date_format===o.t6.language||(t.date_format,o.t6.system),new Intl.DateTimeFormat(e,{year:"numeric",month:"numeric",day:"numeric"})})),f=(t,e)=>v(e).format(t),v=(0,a.Z)((t=>new Intl.DateTimeFormat(t.language,{day:"numeric",month:"short"}))),y=(t,e)=>p(e).format(t),p=(0,a.Z)((t=>new Intl.DateTimeFormat(t.language,{month:"long",year:"numeric"}))),g=(t,e)=>_(e).format(t),_=(0,a.Z)((t=>new Intl.DateTimeFormat(t.language,{month:"long"}))),k=(t,e)=>w(e).format(t),w=(0,a.Z)((t=>new Intl.DateTimeFormat(t.language,{year:"numeric"}))),b=(t,e)=>$(e).format(t),$=(0,a.Z)((t=>new Intl.DateTimeFormat(t.language,{weekday:"long"})));n()}catch(t){n(t)}}))},44583:(t,e,i)=>{i.a(t,(async(t,n)=>{try{i.d(e,{DG:()=>h,E8:()=>y,o0:()=>d,yD:()=>f});var a=i(14516),o=i(4631),r=i(65810),s=i(12198),c=i(49684),l=t([o,s,c]);[o,s,c]=l.then?(await l)():l;const d=(t,e)=>u(e).format(t),u=(0,a.Z)((t=>new Intl.DateTimeFormat("en"!==t.language||(0,r.y)(t)?t.language:"en-u-hc-h23",{year:"numeric",month:"long",day:"numeric",hour:(0,r.y)(t)?"numeric":"2-digit",minute:"2-digit",hour12:(0,r.y)(t)}))),h=(t,e)=>m(e).format(t),m=(0,a.Z)((t=>new Intl.DateTimeFormat("en"!==t.language||(0,r.y)(t)?t.language:"en-u-hc-h23",{year:"numeric",month:"short",day:"numeric",hour:(0,r.y)(t)?"numeric":"2-digit",minute:"2-digit",hour12:(0,r.y)(t)}))),f=(t,e)=>v(e).format(t),v=(0,a.Z)((t=>new Intl.DateTimeFormat("en"!==t.language||(0,r.y)(t)?t.language:"en-u-hc-h23",{month:"short",day:"numeric",hour:(0,r.y)(t)?"numeric":"2-digit",minute:"2-digit",hour12:(0,r.y)(t)}))),y=(t,e)=>p(e).format(t),p=(0,a.Z)((t=>new Intl.DateTimeFormat("en"!==t.language||(0,r.y)(t)?t.language:"en-u-hc-h23",{year:"numeric",month:"long",day:"numeric",hour:(0,r.y)(t)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hour12:(0,r.y)(t)})));n()}catch(t){n(t)}}))},49684:(t,e,i)=>{i.a(t,(async(t,n)=>{try{i.d(e,{Vu:()=>d,Zs:()=>f,mr:()=>c,xO:()=>h});var a=i(14516),o=i(4631),r=i(65810),s=t([o]);o=(s.then?(await s)():s)[0];const c=(t,e)=>l(e).format(t),l=(0,a.Z)((t=>new Intl.DateTimeFormat("en"!==t.language||(0,r.y)(t)?t.language:"en-u-hc-h23",{hour:"numeric",minute:"2-digit",hour12:(0,r.y)(t)}))),d=(t,e)=>u(e).format(t),u=(0,a.Z)((t=>new Intl.DateTimeFormat("en"!==t.language||(0,r.y)(t)?t.language:"en-u-hc-h23",{hour:(0,r.y)(t)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hour12:(0,r.y)(t)}))),h=(t,e)=>m(e).format(t),m=(0,a.Z)((t=>new Intl.DateTimeFormat("en"!==t.language||(0,r.y)(t)?t.language:"en-u-hc-h23",{weekday:"long",hour:(0,r.y)(t)?"numeric":"2-digit",minute:"2-digit",hour12:(0,r.y)(t)}))),f=t=>v().format(t),v=(0,a.Z)((()=>new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit",hour12:!1})));n()}catch(t){n(t)}}))},87367:(t,e,i)=>{i.d(e,{Z:()=>a});const n=(t,e=2)=>{let i=""+t;for(let t=1;t<e;t++)i=parseInt(i)<10**t?`0${i}`:i;return i};function a(t){const e=Math.floor(t/1e3/3600),i=Math.floor(t/1e3%3600/60),a=Math.floor(t/1e3%3600%60),o=Math.floor(t%1e3);return e>0?`${e}:${n(i)}:${n(a)}`:i>0?`${i}:${n(a)}`:a>0||o>0?`${a}${o>0?`.${n(o,3)}`:""}`:null}},5435:(t,e,i)=>{i.a(t,(async(t,n)=>{try{i.d(e,{G:()=>l});var a=i(14516),o=i(4631),r=i(96191),s=t([o,r]);[o,r]=s.then?(await s)():s;const c=(0,a.Z)((t=>new Intl.RelativeTimeFormat(t.language,{numeric:"auto"}))),l=(t,e,i,n=!0)=>{const a=(0,r.W)(t,i,e);return n?c(e).format(a.value,a.unit):Intl.NumberFormat(e.language,{style:"unit",unit:a.unit,unitDisplay:"long"}).format(Math.abs(a.value))};n()}catch(t){n(t)}}))},65810:(t,e,i)=>{i.d(e,{y:()=>o});var n=i(14516),a=i(66477);const o=(0,n.Z)((t=>{if(t.time_format===a.zt.language||t.time_format===a.zt.system){const e=t.time_format===a.zt.language?t.language:void 0,i=(new Date).toLocaleString(e);return i.includes("AM")||i.includes("PM")}return t.time_format===a.zt.am_pm}))},58831:(t,e,i)=>{i.d(e,{M:()=>n});const n=t=>t.substr(0,t.indexOf("."))},29171:(t,e,i)=>{i.a(t,(async(t,n)=>{try{i.d(e,{D1:()=>y,cG:()=>p,v4:()=>v});var a=i(56007),o=i(24833),r=i(43986),s=i(12198),c=i(44583),l=i(49684),d=i(18457),u=i(68307),h=i(58831),m=i(40095),f=t([s,c,l]);[s,c,l]=f.then?(await f)():f;const v=(t,e,i,n,a)=>p(t,i,n,e.entity_id,e.attributes,void 0!==a?a:e.state),y=(t,e,i,n,a)=>{const o=n[e.entity_id];return p(t,i,o,e.entity_id,e.attributes,void 0!==a?a:e.state)},p=(t,e,i,n,f,v)=>{if(v===a.lz||v===a.nZ)return t(`state.default.${v}`);if((0,d.sJ)(f)){if("duration"===f.device_class&&f.unit_of_measurement&&r.a[f.unit_of_measurement])try{return(0,r.L)(v,f.unit_of_measurement)}catch(t){}if("monetary"===f.device_class)try{return(0,d.uf)(v,e,{style:"currency",currency:f.unit_of_measurement,minimumFractionDigits:2,...(0,d.l4)({state:v,attributes:f},i)})}catch(t){}const t=f.unit_of_measurement?"%"===f.unit_of_measurement?(0,u.K)(e)+"%":` ${f.unit_of_measurement}`:"";return`${(0,d.uf)(v,e,(0,d.l4)({state:v,attributes:f},i))}${t}`}const y=(0,h.M)(n);if("datetime"===y){const t=new Date(v);return(0,c.o0)(t,e)}if(["date","input_datetime","time"].includes(y))try{const t=v.split(" ");if(2===t.length)return(0,c.o0)(new Date(t.join("T")),e);if(1===t.length){if(v.includes("-"))return(0,s.p6)(new Date(`${v}T00:00`),e);if(v.includes(":")){const t=new Date;return(0,l.mr)(new Date(`${t.toISOString().split("T")[0]}T${v}`),e)}}return v}catch(t){return v}if("humidifier"===y&&"on"===v&&f.humidity)return`${f.humidity} %`;if("counter"===y||"number"===y||"input_number"===y)return(0,d.uf)(v,e,(0,d.l4)({state:v,attributes:f},i));if(["button","input_button","scene","stt","tts"].includes(y)||"sensor"===y&&"timestamp"===f.device_class)try{return(0,c.o0)(new Date(v),e)}catch(t){return v}var p;return"update"===y?"on"===v?(0,o.X4)(f)?(0,m.f)(f,o.k6)&&"number"==typeof f.in_progress?t("ui.card.update.installing_with_progress",{progress:f.in_progress}):t("ui.card.update.installing"):f.latest_version:f.skipped_version===f.latest_version?null!==(p=f.latest_version)&&void 0!==p?p:t("state.default.unavailable"):t("ui.card.update.up_to_date"):(null==i?void 0:i.translation_key)&&t(`component.${i.platform}.entity.${y}.${i.translation_key}.state.${v}`)||f.device_class&&t(`component.${y}.entity_component.${f.device_class}.state.${v}`)||t(`component.${y}.entity_component._.state.${v}`)||v};n()}catch(t){n(t)}}))},22311:(t,e,i)=>{i.d(e,{N:()=>a});var n=i(58831);const a=t=>(0,n.M)(t.entity_id)},40095:(t,e,i)=>{i.d(e,{e:()=>n,f:()=>a});const n=(t,e)=>a(t.attributes,e),a=(t,e)=>0!=(t.supported_features&e)},21780:(t,e,i)=>{i.d(e,{f:()=>n});const n=t=>t.charAt(0).toUpperCase()+t.slice(1)},68307:(t,e,i)=>{i.d(e,{K:()=>n});const n=t=>{switch(null==t?void 0:t.language){case"cz":case"de":case"fi":case"fr":case"sk":case"sv":return" ";default:return""}}},96191:(t,e,i)=>{i.a(t,(async(t,n)=>{try{i.d(e,{W:()=>h});var a=i(24112),o=i(59401),r=i(35040),s=i(26410),c=t([s]);s=(c.then?(await c)():c)[0];const l=1e3,d=60,u=60*d;function h(t,e=Date.now(),i,n={}){const c={...m,...n||{}},h=(+t-+e)/l;if(Math.abs(h)<c.second)return{value:Math.round(h),unit:"second"};const f=h/d;if(Math.abs(f)<c.minute)return{value:Math.round(f),unit:"minute"};const v=h/u;if(Math.abs(v)<c.hour)return{value:Math.round(v),unit:"hour"};const y=new Date(t),p=new Date(e);y.setHours(0,0,0,0),p.setHours(0,0,0,0);const g=(0,a.Z)(y,p);if(0===g)return{value:Math.round(v),unit:"hour"};if(Math.abs(g)<c.day)return{value:g,unit:"day"};const _=(0,s.Bt)(i),k=(0,o.Z)(y,{weekStartsOn:_}),w=(0,o.Z)(p,{weekStartsOn:_}),b=(0,r.Z)(k,w);if(0===b)return{value:g,unit:"day"};if(Math.abs(b)<c.week)return{value:b,unit:"week"};const $=y.getFullYear()-p.getFullYear(),x=12*$+y.getMonth()-p.getMonth();return 0===x?{value:b,unit:"week"}:Math.abs(x)<c.month||0===$?{value:x,unit:"month"}:{value:Math.round($),unit:"year"}}const m={second:45,minute:45,hour:22,day:5,week:4,month:11};n()}catch(f){n(f)}}))},9381:(t,e,i)=>{var n=i(17463),a=i(68144),o=i(79932),r=i(83448),s=i(47181);i(10983),i(52039);const c={info:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z",warning:"M12,2L1,21H23M12,6L19.53,19H4.47M11,10V14H13V10M11,16V18H13V16",error:"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z",success:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2,4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"};(0,n.Z)([(0,o.Mo)("ha-alert")],(function(t,e){return{F:class extends e{constructor(...e){super(...e),t(this)}},d:[{kind:"field",decorators:[(0,o.Cb)()],key:"title",value:()=>""},{kind:"field",decorators:[(0,o.Cb)({attribute:"alert-type"})],key:"alertType",value:()=>"info"},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"dismissable",value:()=>!1},{kind:"method",key:"render",value:function(){return a.dy` <div class="issue-type ${(0,r.$)({[this.alertType]:!0})}" role="alert"> <div class="icon ${this.title?"":"no-title"}"> <slot name="icon"> <ha-svg-icon .path="${c[this.alertType]}"></ha-svg-icon> </slot> </div> <div class="content"> <div class="main-content"> ${this.title?a.dy`<div class="title">${this.title}</div>`:""} <slot></slot> </div> <div class="action"> <slot name="action"> ${this.dismissable?a.dy`<ha-icon-button @click="${this._dismiss_clicked}" label="Dismiss alert" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}"></ha-icon-button>`:""} </slot> </div> </div> </div> `}},{kind:"method",key:"_dismiss_clicked",value:function(){(0,s.B)(this,"alert-dismissed-clicked")}},{kind:"field",static:!0,key:"styles",value:()=>a.iv`.issue-type{position:relative;padding:8px;display:flex}.issue-type::after{position:absolute;top:0;right:0;bottom:0;left:0;opacity:.12;pointer-events:none;content:"";border-radius:4px}.icon{z-index:1}.icon.no-title{align-self:center}.content{display:flex;justify-content:space-between;align-items:center;width:100%;text-align:var(--float-start)}.action{z-index:1;width:min-content;--mdc-theme-primary:var(--primary-text-color)}.main-content{overflow-wrap:anywhere;word-break:break-word;margin-left:8px;margin-right:0;margin-inline-start:8px;margin-inline-end:0;direction:var(--direction)}.title{margin-top:2px;font-weight:700}.action ha-icon-button,.action mwc-button{--mdc-theme-primary:var(--primary-text-color);--mdc-icon-button-size:36px}.issue-type.info>.icon{color:var(--info-color)}.issue-type.info::after{background-color:var(--info-color)}.issue-type.warning>.icon{color:var(--warning-color)}.issue-type.warning::after{background-color:var(--warning-color)}.issue-type.error>.icon{color:var(--error-color)}.issue-type.error::after{background-color:var(--error-color)}.issue-type.success>.icon{color:var(--success-color)}.issue-type.success::after{background-color:var(--success-color)}`}]}}),a.oi)},42952:(t,e,i)=>{i.a(t,(async(t,e)=>{try{var n=i(17463),a=i(34541),o=i(47838),r=i(68144),s=i(79932),c=i(5435),l=i(21780),d=t([c]);c=(d.then?(await d)():d)[0];(0,n.Z)([(0,s.Mo)("ha-relative-time")],(function(t,e){class i extends e{constructor(...e){super(...e),t(this)}}return{F:i,d:[{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"datetime",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Boolean})],key:"capitalize",value:()=>!1},{kind:"field",key:"_interval",value:void 0},{kind:"method",key:"disconnectedCallback",value:function(){(0,a.Z)((0,o.Z)(i.prototype),"disconnectedCallback",this).call(this),this._clearInterval()}},{kind:"method",key:"connectedCallback",value:function(){(0,a.Z)((0,o.Z)(i.prototype),"connectedCallback",this).call(this),this.datetime&&this._startInterval()}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"firstUpdated",value:function(t){(0,a.Z)((0,o.Z)(i.prototype),"firstUpdated",this).call(this,t),this._updateRelative()}},{kind:"method",key:"update",value:function(t){(0,a.Z)((0,o.Z)(i.prototype),"update",this).call(this,t),this._updateRelative()}},{kind:"method",key:"_clearInterval",value:function(){this._interval&&(window.clearInterval(this._interval),this._interval=void 0)}},{kind:"method",key:"_startInterval",value:function(){this._clearInterval(),this._interval=window.setInterval((()=>this._updateRelative()),6e4)}},{kind:"method",key:"_updateRelative",value:function(){if(this.datetime){const t=(0,c.G)(new Date(this.datetime),this.hass.locale);this.innerHTML=this.capitalize?(0,l.f)(t):t}else this.innerHTML=this.hass.localize("ui.components.relative_time.never")}}]}}),r.fl);e()}catch(t){e(t)}}))},43709:(t,e,i)=>{var n=i(17463),a=i(34541),o=i(47838),r=i(53464),s=i(4301),c=i(68144),l=i(79932),d=i(62359);(0,n.Z)([(0,l.Mo)("ha-switch")],(function(t,e){class i extends e{constructor(...e){super(...e),t(this)}}return{F:i,d:[{kind:"field",decorators:[(0,l.Cb)({type:Boolean})],key:"haptic",value:()=>!1},{kind:"method",key:"firstUpdated",value:function(){(0,a.Z)((0,o.Z)(i.prototype),"firstUpdated",this).call(this),this.addEventListener("change",(()=>{this.haptic&&(0,d.j)("light")}))}},{kind:"field",static:!0,key:"styles",value:()=>[s.W,c.iv`:host{--mdc-theme-secondary:var(--switch-checked-color)}.mdc-switch.mdc-switch--checked .mdc-switch__thumb{background-color:var(--switch-checked-button-color);border-color:var(--switch-checked-button-color)}.mdc-switch.mdc-switch--checked .mdc-switch__track{background-color:var(--switch-checked-track-color);border-color:var(--switch-checked-track-color)}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__thumb{background-color:var(--switch-unchecked-button-color);border-color:var(--switch-unchecked-button-color)}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__track{background-color:var(--switch-unchecked-track-color);border-color:var(--switch-unchecked-track-color)}`]}]}}),r.H)},26765:(t,e,i)=>{i.d(e,{D9:()=>c,Ys:()=>r,g7:()=>s});var n=i(47181);const a=()=>Promise.all([i.e(28597),i.e(52154),i.e(1281)]).then(i.bind(i,1281)),o=(t,e,i)=>new Promise((o=>{const r=e.cancel,s=e.confirm;(0,n.B)(t,"show-dialog",{dialogTag:"dialog-box",dialogImport:a,dialogParams:{...e,...i,cancel:()=>{o(!(null==i||!i.prompt)&&null),r&&r()},confirm:t=>{o(null==i||!i.prompt||t),s&&s(t)}}})})),r=(t,e)=>o(t,e),s=(t,e)=>o(t,e,{confirmation:!0}),c=(t,e)=>o(t,e,{prompt:!0})},93491:(t,e,i)=>{i.d(e,{K:()=>d});i(27763);var n=i(68144),a=i(57835),o=i(47181),r=i(36639);const s="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;class c extends HTMLElement{constructor(){super(),this.holdTime=500,this.ripple=void 0,this.timer=void 0,this.held=!1,this.cancelled=!1,this.dblClickTimeout=void 0,this.ripple=document.createElement("mwc-ripple")}connectedCallback(){Object.assign(this.style,{position:"fixed",width:s?"100px":"50px",height:s?"100px":"50px",transform:"translate(-50%, -50%)",pointerEvents:"none",zIndex:"999"}),this.appendChild(this.ripple),this.ripple.primary=!0,["touchcancel","mouseout","mouseup","touchmove","mousewheel","wheel","scroll"].forEach((t=>{document.addEventListener(t,(()=>{this.cancelled=!0,this.timer&&(this.stopAnimation(),clearTimeout(this.timer),this.timer=void 0)}),{passive:!0})}))}bind(t,e={}){t.actionHandler&&(0,r.v)(e,t.actionHandler.options)||(t.actionHandler?(t.removeEventListener("touchstart",t.actionHandler.start),t.removeEventListener("touchend",t.actionHandler.end),t.removeEventListener("touchcancel",t.actionHandler.end),t.removeEventListener("mousedown",t.actionHandler.start),t.removeEventListener("click",t.actionHandler.end),t.removeEventListener("keydown",t.actionHandler.handleKeyDown)):t.addEventListener("contextmenu",(t=>{const e=t||window.event;return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1,!1})),t.actionHandler={options:e},e.disabled||(t.actionHandler.start=t=>{let i,n;this.cancelled=!1,t.touches?(i=t.touches[0].clientX,n=t.touches[0].clientY):(i=t.clientX,n=t.clientY),e.hasHold&&(this.held=!1,this.timer=window.setTimeout((()=>{this.startAnimation(i,n),this.held=!0}),this.holdTime))},t.actionHandler.end=t=>{if(["touchend","touchcancel"].includes(t.type)&&this.cancelled)return;const i=t.target;t.cancelable&&t.preventDefault(),e.hasHold&&(clearTimeout(this.timer),this.stopAnimation(),this.timer=void 0),e.hasHold&&this.held?(0,o.B)(i,"action",{action:"hold"}):e.hasDoubleClick?"click"===t.type&&t.detail<2||!this.dblClickTimeout?this.dblClickTimeout=window.setTimeout((()=>{this.dblClickTimeout=void 0,(0,o.B)(i,"action",{action:"tap"})}),250):(clearTimeout(this.dblClickTimeout),this.dblClickTimeout=void 0,(0,o.B)(i,"action",{action:"double_tap"})):(0,o.B)(i,"action",{action:"tap"})},t.actionHandler.handleKeyDown=t=>{["Enter"," "].includes(t.key)&&t.currentTarget.actionHandler.end(t)},t.addEventListener("touchstart",t.actionHandler.start,{passive:!0}),t.addEventListener("touchend",t.actionHandler.end),t.addEventListener("touchcancel",t.actionHandler.end),t.addEventListener("mousedown",t.actionHandler.start,{passive:!0}),t.addEventListener("click",t.actionHandler.end),t.addEventListener("keydown",t.actionHandler.handleKeyDown)))}startAnimation(t,e){Object.assign(this.style,{left:`${t}px`,top:`${e}px`,display:null}),this.ripple.disabled=!1,this.ripple.startPress(),this.ripple.unbounded=!0}stopAnimation(){this.ripple.endPress(),this.ripple.disabled=!0,this.style.display="none"}}customElements.define("action-handler",c);const l=(t,e)=>{const i=(()=>{const t=document.body;if(t.querySelector("action-handler"))return t.querySelector("action-handler");const e=document.createElement("action-handler");return t.appendChild(e),e})();i&&i.bind(t,e)},d=(0,a.XM)(class extends a.Xe{update(t,[e]){return l(t.element,e),n.Jb}render(t){}})},17616:(t,e,i)=>{i.d(e,{G:()=>h});var n=i(47181),a=i(83849),o=i(62359),r=i(5986),s=i(26765),c=i(81796),l=i(49706),d=i(58831);const u=(t,e)=>((t,e,i=!0)=>{const n=(0,d.M)(e),a="group"===n?"homeassistant":n;let o;switch(n){case"lock":o=i?"unlock":"lock";break;case"cover":o=i?"open_cover":"close_cover";break;case"button":case"input_button":o="press";break;case"scene":o="turn_on";break;default:o=i?"turn_on":"turn_off"}return t.callService(a,o,{entity_id:e})})(t,e,l.tj.includes(t.states[e].state)),h=async(t,e,i,l)=>{let d;if("double_tap"===l&&i.double_tap_action?d=i.double_tap_action:"hold"===l&&i.hold_action?d=i.hold_action:"tap"===l&&i.tap_action&&(d=i.tap_action),d||(d={action:"more-info"}),d.confirmation&&(!d.confirmation.exemptions||!d.confirmation.exemptions.some((t=>{var i;return t.user===(null===(i=e.user)||void 0===i?void 0:i.id)})))){let i;if((0,o.j)("warning"),"call-service"===d.action){const[t,n]=d.service.split(".",2),a=e.services;if(t in a&&n in a[t]){const o=await e.loadBackendTranslation("title");i=`${(0,r.Lh)(o,t)}: ${a[t][n].name||n}`}}if(!await(0,s.g7)(t,{text:d.confirmation.text||e.localize("ui.panel.lovelace.cards.actions.action_confirmation","action",i||e.localize(`ui.panel.lovelace.editor.action-editor.actions.${d.action}`)||d.action)}))return}switch(d.action){case"more-info":i.entity||i.camera_image?(0,n.B)(t,"hass-more-info",{entityId:i.entity?i.entity:i.camera_image}):((0,c.C)(t,{message:e.localize("ui.panel.lovelace.cards.actions.no_entity_more_info")}),(0,o.j)("failure"));break;case"navigate":d.navigation_path?(0,a.c)(d.navigation_path):((0,c.C)(t,{message:e.localize("ui.panel.lovelace.cards.actions.no_navigation_path")}),(0,o.j)("failure"));break;case"url":d.url_path?window.open(d.url_path):((0,c.C)(t,{message:e.localize("ui.panel.lovelace.cards.actions.no_url")}),(0,o.j)("failure"));break;case"toggle":i.entity?(u(e,i.entity),(0,o.j)("light")):((0,c.C)(t,{message:e.localize("ui.panel.lovelace.cards.actions.no_entity_toggle")}),(0,o.j)("failure"));break;case"call-service":{var h;if(!d.service)return(0,c.C)(t,{message:e.localize("ui.panel.lovelace.cards.actions.no_service")}),void(0,o.j)("failure");const[i,n]=d.service.split(".",2);e.callService(i,n,null!==(h=d.data)&&void 0!==h?h:d.service_data,d.target),(0,o.j)("light");break}case"fire-dom-event":(0,n.B)(t,"ll-custom",d)}}},22193:(t,e,i)=>{function n(t){return void 0!==t&&"none"!==t.action}i.d(e,{_:()=>n})},53658:(t,e,i)=>{i.d(e,{G2:()=>s,SN:()=>a,Wh:()=>c});var n=i(90271);function a(t,e){if(e.has("_config"))return!0;const i=e.get("hass");return!i||(i.connected!==t.hass.connected||i.themes!==t.hass.themes||i.locale!==t.hass.locale||i.localize!==t.hass.localize||i.config.state!==t.hass.config.state)}function o(t,e,i){return t.states[i]!==e.states[i]}function r(t,e,i){const n=t.entities[i],a=e.entities[i];return(null==n?void 0:n.display_precision)!==(null==a?void 0:a.display_precision)}function s(t,e){if(a(t,e))return!0;const i=e.get("hass"),n=t.hass;return o(i,n,t._config.entity)||r(i,n,t._config.entity)}function c(t,e){if(a(t,e))return!0;const i=e.get("hass"),s=t.hass;return(0,n.A)(t._config.entities,!1).some((t=>"entity"in t&&(o(i,s,t.entity)||r(i,s,t.entity))))}},90271:(t,e,i)=>{i.d(e,{A:()=>a});var n=i(84627);const a=(t,e=!0)=>{if(!t||!Array.isArray(t))throw new Error("Entities need to be an array");return t.map(((t,i)=>{if("object"==typeof t&&!Array.isArray(t)&&t.type)return t;let a;if("string"==typeof t)a={entity:t};else{if("object"!=typeof t||Array.isArray(t))throw new Error(`Invalid entity ID at position ${i}`);if(!("entity"in t))throw new Error(`Object at position ${i} is missing entity field`);a=t}if(e&&!(0,n.T)(a.entity))throw new Error(`Invalid entity ID at position ${i}: ${a.entity}`);return a}))}},91476:(t,e,i)=>{i.a(t,(async(t,e)=>{try{var n=i(17463),a=i(34541),o=i(47838),r=i(68144),s=i(79932),c=i(83448),l=i(30153),d=i(49706),u=i(70518),h=i(58831),m=i(91741),f=i(87744),v=(i(3143),i(42952)),y=i(93491),p=i(17616),g=i(22193),_=i(75502),k=t([v]);v=(k.then?(await k)():k)[0];let w=(0,n.Z)(null,(function(t,e){class i extends e{constructor(...e){super(...e),t(this)}}return{F:i,d:[{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"config",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"secondaryText",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Boolean})],key:"hideName",value:()=>!1},{kind:"field",decorators:[(0,s.Cb)({type:Boolean})],key:"catchInteraction",value:void 0},{kind:"method",key:"render",value:function(){var t,e;if(!this.hass||!this.config)return r.Ld;const i=this.config.entity?this.hass.states[this.config.entity]:void 0;if(!i)return r.dy` <hui-warning> ${(0,_.i)(this.hass,this.config.entity)} </hui-warning> `;const n=(0,h.M)(this.config.entity),a=!(this.config.tap_action&&"none"===this.config.tap_action.action),o=this.secondaryText||this.config.secondary_info,s=null!==(t=this.config.name)&&void 0!==t?t:(0,m.C)(i);return r.dy` <state-badge class="${(0,c.$)({pointer:a})}" .hass="${this.hass}" .stateObj="${i}" .overrideIcon="${this.config.icon}" .overrideImage="${this.config.image}" .stateColor="${this.config.state_color}" @action="${this._handleAction}" .actionHandler="${(0,y.K)({hasHold:(0,g._)(this.config.hold_action),hasDoubleClick:(0,g._)(this.config.double_tap_action)})}" tabindex="${(0,l.o)(a?"0":void 0)}"></state-badge> ${this.hideName?r.Ld:r.dy`<div class="info ${(0,c.$)({pointer:a,"text-content":!o})}" @action="${this._handleAction}" .actionHandler="${(0,y.K)({hasHold:(0,g._)(this.config.hold_action),hasDoubleClick:(0,g._)(this.config.double_tap_action)})}" .title="${s}"> ${this.config.name||(0,m.C)(i)} ${o?r.dy` <div class="secondary"> ${this.secondaryText||("entity-id"===this.config.secondary_info?i.entity_id:"last-changed"===this.config.secondary_info?r.dy` <ha-relative-time .hass="${this.hass}" .datetime="${i.last_changed}" capitalize></ha-relative-time> `:"last-updated"===this.config.secondary_info?r.dy` <ha-relative-time .hass="${this.hass}" .datetime="${i.last_updated}" capitalize></ha-relative-time> `:"last-triggered"===this.config.secondary_info?i.attributes.last_triggered?r.dy` <ha-relative-time .hass="${this.hass}" .datetime="${i.attributes.last_triggered}" capitalize></ha-relative-time> `:this.hass.localize("ui.panel.lovelace.cards.entities.never_triggered"):"position"===this.config.secondary_info&&void 0!==i.attributes.current_position?`${this.hass.localize("ui.card.cover.position")}: ${i.attributes.current_position}`:"tilt-position"===this.config.secondary_info&&void 0!==i.attributes.current_tilt_position?`${this.hass.localize("ui.card.cover.tilt_position")}: ${i.attributes.current_tilt_position}`:"brightness"===this.config.secondary_info&&i.attributes.brightness?r.dy`${Math.round(i.attributes.brightness/255*100)} %`:"")} </div> `:""} </div>`} ${(null!==(e=this.catchInteraction)&&void 0!==e?e:!d.AF.includes(n))?r.dy`<div class="text-content value ${(0,c.$)({pointer:a})}" @action="${this._handleAction}" .actionHandler="${(0,y.K)({hasHold:(0,g._)(this.config.hold_action),hasDoubleClick:(0,g._)(this.config.double_tap_action)})}"> <div class="state"><slot></slot></div> </div>`:r.dy`<slot></slot>`} `}},{kind:"method",key:"updated",value:function(t){var e;(0,a.Z)((0,o.Z)(i.prototype),"updated",this).call(this,t),(0,u.X)(this,"no-secondary",!(this.secondaryText||null!==(e=this.config)&&void 0!==e&&e.secondary_info)),t.has("hass")&&(0,u.X)(this,"rtl",(0,f.HE)(this.hass))}},{kind:"method",key:"_handleAction",value:function(t){(0,p.G)(this,this.hass,this.config,t.detail.action)}},{kind:"get",static:!0,key:"styles",value:function(){return r.iv`:host{display:flex;align-items:center;flex-direction:row}.info{margin-left:16px;margin-right:8px;flex:1 1 30%}.info,.info>*{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.flex ::slotted(*){margin-left:8px;min-width:0}.flex ::slotted([slot=secondary]){margin-left:0}.secondary,ha-relative-time{color:var(--secondary-text-color)}state-badge{flex:0 0 40px}:host([rtl]) .flex{margin-left:0;margin-right:16px}:host([rtl]) .flex ::slotted(*){margin-left:0;margin-right:8px}.pointer{cursor:pointer}.state{text-align:right}.state.rtl{text-align:left}.value{direction:ltr}`}}]}}),r.oi);customElements.define("hui-generic-entity-row",w),e()}catch(t){e(t)}}))},75502:(t,e,i)=>{i.d(e,{i:()=>s});var n=i(17463),a=i(28101),o=i(68144),r=i(79932);i(9381);const s=(t,e)=>t.config.state!==a.UE?t.localize("ui.panel.lovelace.warning.entity_not_found","entity",e||"[empty]"):t.localize("ui.panel.lovelace.warning.starting");(0,n.Z)([(0,r.Mo)("hui-warning")],(function(t,e){return{F:class extends e{constructor(...e){super(...e),t(this)}},d:[{kind:"method",key:"render",value:function(){return o.dy`<ha-alert alert-type="warning"><slot></slot></ha-alert> `}}]}}),o.oi)},4631:(t,e,i)=>{i.a(t,(async(t,n)=>{try{i.r(e);var a=i(43170),o=i(27499),r=i(32812),s=i(27815),c=i(64532),l=i(69906),d=i(24517);const t=async()=>{const t=(0,l.sS)(),e=[];(0,r.Y)()&&await Promise.all([i.e(77021),i.e(48196)]).then(i.bind(i,48196)),(0,s.Y)(t)&&e.push(Promise.all([i.e(77021),i.e(20655)]).then(i.bind(i,20655))),(0,c.Y)(t)&&e.push(Promise.all([i.e(77021),i.e(20759)]).then(i.bind(i,20759))),(0,a.Y)(t)&&e.push(Promise.all([i.e(77021),i.e(76554)]).then(i.bind(i,76554)).then((()=>i.e(6042).then(i.t.bind(i,6042,23))))),(0,o.Yq)(t)&&e.push(Promise.all([i.e(77021),i.e(72684)]).then(i.bind(i,72684))),0!==e.length&&await Promise.all(e).then((()=>(0,d.n)(t)))};await t(),n()}catch(t){n(t)}}),1)}}]);
//# sourceMappingURL=70791-bb8HuJ3mqao.js.map