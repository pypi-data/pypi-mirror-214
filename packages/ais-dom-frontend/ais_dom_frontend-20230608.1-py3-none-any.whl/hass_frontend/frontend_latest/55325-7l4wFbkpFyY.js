/*! For license information please see 55325-7l4wFbkpFyY.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[55325],{18601:(e,i,t)=>{t.d(i,{Wg:()=>d,qN:()=>l.q});var a,s,n=t(87480),o=t(79932),l=t(78220);const r=null!==(s=null===(a=window.ShadyDOM)||void 0===a?void 0:a.inUse)&&void 0!==s&&s;class d extends l.H{constructor(){super(...arguments),this.disabled=!1,this.containingForm=null,this.formDataListener=e=>{this.disabled||this.setFormData(e.formData)}}findFormElement(){if(!this.shadowRoot||r)return null;const e=this.getRootNode().querySelectorAll("form");for(const i of Array.from(e))if(i.contains(this))return i;return null}connectedCallback(){var e;super.connectedCallback(),this.containingForm=this.findFormElement(),null===(e=this.containingForm)||void 0===e||e.addEventListener("formdata",this.formDataListener)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this.containingForm)||void 0===e||e.removeEventListener("formdata",this.formDataListener),this.containingForm=null}click(){this.formElement&&!this.disabled&&(this.formElement.focus(),this.formElement.click())}firstUpdated(){super.firstUpdated(),this.shadowRoot&&this.mdcRoot.addEventListener("change",(e=>{this.dispatchEvent(new Event("change",e))}))}}d.shadowRootOptions={mode:"open",delegatesFocus:!0},(0,n.__decorate)([(0,o.Cb)({type:Boolean})],d.prototype,"disabled",void 0)},87276:(e,i,t)=>{t.r(i);var a=t(17463),s=(t(14271),t(63436),t(68144)),n=t(79932),o=t(47181),l=t(85415),r=(t(9381),t(34821));t(61814),t(3555);const d=()=>Promise.all([t.e(7270),t.e(89240)]).then(t.bind(t,4454));var c=t(11654);const h={round:!1,type:"image/jpeg",quality:.75,aspectRatio:1.78};let u=(0,a.Z)(null,(function(e,i){return{F:class extends i{constructor(...i){super(...i),e(this)}},d:[{kind:"field",decorators:[(0,n.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_name",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_aliases",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_picture",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_params",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_submitting",value:void 0},{kind:"method",key:"showDialog",value:async function(e){var i;this._params=e,this._error=void 0,this._name=this._params.entry?this._params.entry.name:"",this._aliases=this._params.entry?this._params.entry.aliases:[],this._picture=(null===(i=this._params.entry)||void 0===i?void 0:i.picture)||null,await this.updateComplete}},{kind:"method",key:"closeDialog",value:function(){this._error="",this._params=void 0,(0,o.B)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){if(!this._params)return s.Ld;const e=this._params.entry,i=!this._isNameValid();return s.dy` <ha-dialog open @closed="${this.closeDialog}" .heading="${(0,r.i)(this.hass,e?e.name:this.hass.localize("ui.panel.config.areas.editor.default_name"))}"> <div> ${this._error?s.dy`<ha-alert alert-type="error">${this._error}</ha-alert>`:""} <div class="form"> ${e?s.dy` <div> ${this.hass.localize("ui.panel.config.areas.editor.area_id")}: ${e.area_id} </div> `:""} <ha-textfield .value="${this._name}" @input="${this._nameChanged}" .label="${this.hass.localize("ui.panel.config.areas.editor.name")}" .errorMessage="${this.hass.localize("ui.panel.config.areas.editor.name_required")}" .invalid="${i}" dialogInitialFocus></ha-textfield> <div class="label"> ${this.hass.localize("ui.panel.config.areas.editor.aliases_section")} </div> <mwc-list class="aliases" @action="${this._handleAliasesClicked}"> <mwc-list-item .twoline="${this._aliases.length>0}" hasMeta> <span> ${this._aliases.length>0?this.hass.localize("ui.panel.config.areas.editor.configured_aliases",{count:this._aliases.length}):this.hass.localize("ui.panel.config.areas.editor.no_aliases")} </span> <span slot="secondary"> ${[...this._aliases].sort(((e,i)=>(0,l.$)(e,i,this.hass.locale.language))).join(", ")} </span> <ha-svg-icon slot="meta" .path="${"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"}"></ha-svg-icon> </mwc-list-item> </mwc-list> <div class="secondary"> ${this.hass.localize("ui.panel.config.areas.editor.aliases_description")} </div> <ha-picture-upload .hass="${this.hass}" .value="${this._picture}" crop .cropOptions="${h}" @change="${this._pictureChanged}"></ha-picture-upload> </div> </div> ${e?s.dy` <mwc-button slot="secondaryAction" class="warning" @click="${this._deleteEntry}" .disabled="${this._submitting}"> ${this.hass.localize("ui.panel.config.areas.editor.delete")} </mwc-button> `:s.Ld} <mwc-button slot="primaryAction" @click="${this._updateEntry}" .disabled="${i||this._submitting}"> ${e?this.hass.localize("ui.panel.config.areas.editor.update"):this.hass.localize("ui.panel.config.areas.editor.create")} </mwc-button> </ha-dialog> `}},{kind:"method",key:"_handleAliasesClicked",value:function(){var e,i;e=this,i={name:this._name,aliases:this._aliases,updateAliases:async e=>{this._aliases=e}},(0,o.B)(e,"show-dialog",{dialogTag:"dialog-aliases",dialogImport:d,dialogParams:i})}},{kind:"method",key:"_isNameValid",value:function(){return""!==this._name.trim()}},{kind:"method",key:"_nameChanged",value:function(e){this._error=void 0,this._name=e.target.value}},{kind:"method",key:"_pictureChanged",value:function(e){this._error=void 0,this._picture=e.target.value}},{kind:"method",key:"_updateEntry",value:async function(){this._submitting=!0;try{const e={name:this._name.trim(),picture:this._picture,aliases:this._aliases};this._params.entry?await this._params.updateEntry(e):await this._params.createEntry(e),this.closeDialog()}catch(e){this._error=e.message||this.hass.localize("ui.panel.config.areas.editor.unknown_error")}finally{this._submitting=!1}}},{kind:"method",key:"_deleteEntry",value:async function(){this._submitting=!0;try{await this._params.removeEntry()&&this.closeDialog()}finally{this._submitting=!1}}},{kind:"get",static:!0,key:"styles",value:function(){return[c.yu,s.iv`ha-textfield{display:block;margin-bottom:16px}`]}}]}}),s.oi);customElements.define("dialog-area-registry-detail",u)},81563:(e,i,t)=>{t.d(i,{E_:()=>p,OR:()=>l,_Y:()=>d,fk:()=>c,hN:()=>o,hl:()=>u,i9:()=>m,pt:()=>n,ws:()=>_});var a=t(15304);const{I:s}=a._$LH,n=e=>null===e||"object"!=typeof e&&"function"!=typeof e,o=(e,i)=>void 0===i?void 0!==(null==e?void 0:e._$litType$):(null==e?void 0:e._$litType$)===i,l=e=>void 0===e.strings,r=()=>document.createComment(""),d=(e,i,t)=>{var a;const n=e._$AA.parentNode,o=void 0===i?e._$AB:i._$AA;if(void 0===t){const i=n.insertBefore(r(),o),a=n.insertBefore(r(),o);t=new s(i,a,e,e.options)}else{const i=t._$AB.nextSibling,s=t._$AM,l=s!==e;if(l){let i;null===(a=t._$AQ)||void 0===a||a.call(t,e),t._$AM=e,void 0!==t._$AP&&(i=e._$AU)!==s._$AU&&t._$AP(i)}if(i!==o||l){let e=t._$AA;for(;e!==i;){const i=e.nextSibling;n.insertBefore(e,o),e=i}}}return t},c=(e,i,t=e)=>(e._$AI(i,t),e),h={},u=(e,i=h)=>e._$AH=i,m=e=>e._$AH,_=e=>{var i;null===(i=e._$AP)||void 0===i||i.call(e,!1,!0);let t=e._$AA;const a=e._$AB.nextSibling;for(;t!==a;){const e=t.nextSibling;t.remove(),t=e}},p=e=>{e._$AR()}},57835:(e,i,t)=>{t.d(i,{XM:()=>a.XM,Xe:()=>a.Xe,pX:()=>a.pX});var a=t(38941)}}]);
//# sourceMappingURL=55325-7l4wFbkpFyY.js.map