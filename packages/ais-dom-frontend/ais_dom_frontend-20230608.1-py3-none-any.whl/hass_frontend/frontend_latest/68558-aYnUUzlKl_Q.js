"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[68558],{68558:(t,i,e)=>{e.a(t,(async(t,n)=>{try{e.r(i),e.d(i,{HuiHumidifierCard:()=>k});var s=e(17463),o=e(34541),r=e(47838),a=(e(2014),e(68144)),d=e(79932),h=e(83448),l=e(62877),u=e(47181),c=e(95664),f=e(91741),m=e(87744),y=(e(22098),e(10983),e(56007)),g=e(15688),v=e(53658),p=e(75502),x=t([c]);c=(x.then?(await x)():x)[0];const b="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z";let k=(0,s.Z)([(0,d.Mo)("hui-humidifier-card")],(function(t,i){class n extends i{constructor(...i){super(...i),t(this)}}return{F:n,d:[{kind:"method",static:!0,key:"getConfigElement",value:async function(){return await e.e(57210).then(e.bind(e,57210)),document.createElement("hui-humidifier-card-editor")}},{kind:"method",static:!0,key:"getStubConfig",value:function(t,i,e){return{type:"humidifier",entity:(0,g.j)(t,1,i,e,["humidifier"])[0]||""}}},{kind:"field",decorators:[(0,d.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,d.SB)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,d.SB)()],key:"_setHum",value:void 0},{kind:"method",key:"getCardSize",value:function(){return 6}},{kind:"method",key:"setConfig",value:function(t){if(!t.entity||"humidifier"!==t.entity.split(".")[0])throw new Error("Specify an entity from within the humidifier domain");this._config=t}},{kind:"method",key:"render",value:function(){if(!this.hass||!this._config)return a.Ld;const t=this.hass.states[this._config.entity];if(!t)return a.dy` <hui-warning> ${(0,p.i)(this.hass,this._config.entity)} </hui-warning> `;const i=this._config.name||(0,f.C)(this.hass.states[this._config.entity]),e=null!==t.attributes.humidity&&Number.isFinite(Number(t.attributes.humidity))?t.attributes.humidity:t.attributes.min_humidity,n=this._setHum?this._setHum:e,s=(0,m.Zu)(this.hass),o=(0,y.rk)(t.state)?a.dy` <round-slider disabled="true"></round-slider> `:a.dy` <round-slider class="${(0,h.$)({"round-slider_off":"off"===t.state})}" .value="${e}" .min="${t.attributes.min_humidity}" .max="${t.attributes.max_humidity}" .rtl="${"rtl"===s}" step="1" @value-changing="${this._dragEvent}" @value-changed="${this._setHumidity}"></round-slider> `,r=a.dy` <svg viewBox="0 0 24 20"> <text x="50%" dx="1" y="73%" text-anchor="middle" id="set-values"> ${(0,y.rk)(t.state)||null==n?"":a.YP` ${n.toFixed()} <tspan dx="-3" dy="-6.5" style="font-size:4px"> % </tspan> `} </text> </svg> `,d=a.dy` <svg viewBox="0 0 40 10" id="humidity"> <text x="50%" y="50%" text-anchor="middle" id="set-mode"> ${this.hass.localize(`state.default.${t.state}`)} ${t.attributes.mode&&!(0,y.rk)(t.state)?a.dy` - ${(0,c.a)(this.hass.localize,t,this.hass.locale,this.hass.entities,"mode")} `:""} </text> </svg> `;return a.dy` <ha-card> <ha-icon-button .path="${b}" class="more-info" @click="${this._handleMoreInfo}" tabindex="0"></ha-icon-button> <div class="content"> <div id="controls"> <div id="slider"> ${o} <div id="slider-center"> <ha-icon-button class="toggle-button" .disabled="${(0,y.rk)(t.state)}" @click="${this._toggle}" tabindex="0"> ${r} </ha-icon-button> ${d} </div> </div> </div> <div id="info" .title="${i}">${i}</div> </div> </ha-card> `}},{kind:"method",key:"shouldUpdate",value:function(t){return(0,v.G2)(this,t)}},{kind:"method",key:"updated",value:function(t){if((0,o.Z)((0,r.Z)(n.prototype),"updated",this).call(this,t),!this._config||!this.hass||!t.has("hass")&&!t.has("_config"))return;const i=t.get("hass"),e=t.get("_config");i&&e&&i.themes===this.hass.themes&&e.theme===this._config.theme||(0,l.R)(this,this.hass.themes,this._config.theme)}},{kind:"method",key:"willUpdate",value:function(t){if(!this.hass||!this._config||!t.has("hass"))return;const i=this.hass.states[this._config.entity];if(!i)return;const e=t.get("hass");e&&e.states[this._config.entity]===i||(this._setHum=this._getSetHum(i))}},{kind:"method",key:"_getSetHum",value:function(t){if(!(0,y.rk)(t.state))return t.attributes.humidity}},{kind:"method",key:"_dragEvent",value:function(t){this._setHum=t.detail.value}},{kind:"method",key:"_setHumidity",value:function(t){this.hass.callService("humidifier","set_humidity",{entity_id:this._config.entity,humidity:t.detail.value})}},{kind:"method",key:"_toggle",value:function(){this.hass.callService("humidifier","toggle",{entity_id:this._config.entity})}},{kind:"method",key:"_handleMoreInfo",value:function(){(0,u.B)(this,"hass-more-info",{entityId:this._config.entity})}},{kind:"get",static:!0,key:"styles",value:function(){return a.iv`:host{display:block}ha-card{height:100%;position:relative;overflow:hidden;--name-font-size:1.2rem;--brightness-font-size:1.2rem;--rail-border-color:transparent}.more-info{position:absolute;cursor:pointer;top:0;right:0;border-radius:100%;color:var(--secondary-text-color);z-index:25;inset-inline-start:initial;inset-inline-end:0;direction:var(--direction)}.content{height:100%;display:flex;flex-direction:column;justify-content:center}#controls{display:flex;justify-content:center;padding:16px;position:relative;direction:ltr}#slider{height:100%;width:100%;position:relative;max-width:250px;min-width:100px}round-slider{--round-slider-path-color:var(--slider-track-color);--round-slider-bar-color:var(--primary-color);padding-bottom:10%}.round-slider_off{--round-slider-path-color:var(--slider-track-color);--round-slider-bar-color:var(--disabled-text-color);padding-bottom:10%}#slider-center{position:absolute;width:calc(100% - 40px);height:calc(100% - 40px);box-sizing:border-box;border-radius:100%;left:20px;top:20px;text-align:center;overflow-wrap:break-word}#humidity{max-width:80%;transform:translate(0,350%)}#set-values{font-size:13px;font-family:var(--paper-font-body1_-_font-family);font-weight:var(--paper-font-body1_-_font-weight)}#set-mode{fill:var(--secondary-text-color);font-size:4px}.toggle-button{color:var(--primary-text-color);width:60%;height:auto;position:absolute;max-width:calc(100% - 40px);box-sizing:border-box;border-radius:100%;top:39%;left:50%;transform:translate(-50%,-50%);--mdc-icon-button-size:100%;--mdc-icon-size:100%}#info{display:flex-vertical;justify-content:center;text-align:center;padding:16px;margin-top:-60px;font-size:var(--name-font-size)}text{fill:var(--primary-text-color)}`}}]}}),a.oi);n()}catch(t){n(t)}}))}}]);
//# sourceMappingURL=68558-aYnUUzlKl_Q.js.map