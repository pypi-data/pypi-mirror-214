"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[57935],{12133:(o,a,e)=>{e.r(a),e.d(a,{DialogHassioBackupUpload:()=>n});var r=e(17463),t=e(68144),i=e(79932),d=e(47181),l=(e(90806),e(10983),e(11654));e(36369);let n=(0,r.Z)([(0,i.Mo)("dialog-hassio-backup-upload")],(function(o,a){return{F:class extends a{constructor(...a){super(...a),o(this)}},d:[{kind:"field",decorators:[(0,i.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,i.SB)()],key:"_dialogParams",value:void 0},{kind:"method",key:"showDialog",value:async function(o){this._dialogParams=o,await this.updateComplete}},{kind:"method",key:"closeDialog",value:function(){this._dialogParams&&!this._dialogParams.onboarding&&this._dialogParams.reloadBackup&&this._dialogParams.reloadBackup(),this._dialogParams=void 0,(0,d.B)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){var o,a,e;return this._dialogParams?t.dy` <ha-dialog open scrimClickAction escapeKeyAction hideActions .heading="${(null===(o=this.hass)||void 0===o?void 0:o.localize("ui.panel.page-onboarding.restore.upload_backup"))||"Upload backup"}" @closed="${this.closeDialog}"> <div slot="heading"> <ha-header-bar> <span slot="title">${(null===(a=this.hass)||void 0===a?void 0:a.localize("ui.panel.page-onboarding.restore.upload_backup"))||"Upload backup"}</span> <ha-icon-button .label="${(null===(e=this.hass)||void 0===e?void 0:e.localize("ui.common.close"))||"Close"}" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}" slot="actionItems" dialogAction="cancel" dialogInitialFocus></ha-icon-button> </ha-header-bar> </div> <hassio-upload-backup @backup-uploaded="${this._backupUploaded}" .hass="${this.hass}"></hassio-upload-backup> </ha-dialog> `:t.Ld}},{kind:"method",key:"_backupUploaded",value:function(o){var a;const e=o.detail.backup;null===(a=this._dialogParams)||void 0===a||a.showBackup(e.slug),this.closeDialog()}},{kind:"get",static:!0,key:"styles",value:function(){return[l.yu,t.iv`ha-header-bar{--mdc-theme-on-primary:var(--primary-text-color);--mdc-theme-primary:var(--mdc-theme-surface);flex-shrink:0}@media all and (max-width:450px),all and (max-height:500px){ha-header-bar{--mdc-theme-primary:var(--app-header-background-color);--mdc-theme-on-primary:var(--app-header-text-color, white)}}`]}}]}}),t.oi)},54736:(o,a,e)=>{var r=e(17463),t=e(68144),i=e(79932);(0,r.Z)([(0,i.Mo)("ha-ansi-to-html")],(function(o,a){return{F:class extends a{constructor(...a){super(...a),o(this)}},d:[{kind:"field",decorators:[(0,i.Cb)()],key:"content",value:void 0},{kind:"method",key:"render",value:function(){return t.dy`${this._parseTextToColoredPre(this.content)}`}},{kind:"get",static:!0,key:"styles",value:function(){return t.iv`pre{overflow-x:auto;white-space:pre-wrap;overflow-wrap:break-word}.bold{font-weight:700}.italic{font-style:italic}.underline{text-decoration:underline}.strikethrough{text-decoration:line-through}.underline.strikethrough{text-decoration:underline line-through}.fg-red{color:var(--error-color)}.fg-green{color:var(--success-color)}.fg-yellow{color:var(--warning-color)}.fg-blue{color:var(--info-color)}.fg-magenta{color:#762671}.fg-cyan{color:#2cb5e9}.fg-white{color:#ccc}.bg-black{background-color:#000}.bg-red{background-color:var(--error-color)}.bg-green{background-color:var(--success-color)}.bg-yellow{background-color:var(--warning-color)}.bg-blue{background-color:var(--info-color)}.bg-magenta{background-color:#762671}.bg-cyan{background-color:#2cb5e9}.bg-white{background-color:#ccc}`}},{kind:"method",key:"_parseTextToColoredPre",value:function(o){const a=document.createElement("pre"),e=/\033(?:\[(.*?)[@-~]|\].*?(?:\007|\033\\))/g;let r=0;const t={bold:!1,italic:!1,underline:!1,strikethrough:!1,foregroundColor:null,backgroundColor:null},i=o=>{const e=document.createElement("span");t.bold&&e.classList.add("bold"),t.italic&&e.classList.add("italic"),t.underline&&e.classList.add("underline"),t.strikethrough&&e.classList.add("strikethrough"),null!==t.foregroundColor&&e.classList.add(`fg-${t.foregroundColor}`),null!==t.backgroundColor&&e.classList.add(`bg-${t.backgroundColor}`),e.appendChild(document.createTextNode(o)),a.appendChild(e)};let d;for(;null!==(d=e.exec(o));){const a=d.index;i(o.substring(r,a)),r=a+d[0].length,void 0!==d[1]&&d[1].split(";").forEach((o=>{switch(parseInt(o,10)){case 0:t.bold=!1,t.italic=!1,t.underline=!1,t.strikethrough=!1,t.foregroundColor=null,t.backgroundColor=null;break;case 1:t.bold=!0;break;case 3:t.italic=!0;break;case 4:t.underline=!0;break;case 9:t.strikethrough=!0;break;case 22:t.bold=!1;break;case 23:t.italic=!1;break;case 24:t.underline=!1;break;case 29:t.strikethrough=!1;break;case 30:case 39:t.foregroundColor=null;break;case 31:t.foregroundColor="red";break;case 32:t.foregroundColor="green";break;case 33:t.foregroundColor="yellow";break;case 34:t.foregroundColor="blue";break;case 35:t.foregroundColor="magenta";break;case 36:t.foregroundColor="cyan";break;case 37:t.foregroundColor="white";break;case 40:t.backgroundColor="black";break;case 41:t.backgroundColor="red";break;case 42:t.backgroundColor="green";break;case 43:t.backgroundColor="yellow";break;case 44:t.backgroundColor="blue";break;case 45:t.backgroundColor="magenta";break;case 46:t.backgroundColor="cyan";break;case 47:t.backgroundColor="white";break;case 49:t.backgroundColor=null}}))}return i(o.substring(r)),a}}]}}),t.oi)},22098:(o,a,e)=>{var r=e(17463),t=e(68144),i=e(79932);(0,r.Z)([(0,i.Mo)("ha-card")],(function(o,a){return{F:class extends a{constructor(...a){super(...a),o(this)}},d:[{kind:"field",decorators:[(0,i.Cb)()],key:"header",value:void 0},{kind:"field",decorators:[(0,i.Cb)({type:Boolean,reflect:!0})],key:"raised",value:()=>!1},{kind:"get",static:!0,key:"styles",value:function(){return t.iv`:host{background:var(--ha-card-background,var(--card-background-color,#fff));box-shadow:var(--ha-card-box-shadow,none);box-sizing:border-box;border-radius:var(--ha-card-border-radius,12px);border-width:var(--ha-card-border-width,1px);border-style:solid;border-color:var(--ha-card-border-color,var(--divider-color,#e0e0e0));color:var(--primary-text-color);display:block;transition:all .3s ease-out;position:relative}:host([raised]){border:none;box-shadow:var(--ha-card-box-shadow,0px 2px 1px -1px rgba(0,0,0,.2),0px 1px 1px 0px rgba(0,0,0,.14),0px 1px 3px 0px rgba(0,0,0,.12))}.card-header,:host ::slotted(.card-header){color:var(--ha-card-header-color,--primary-text-color);font-family:var(--ha-card-header-font-family,inherit);font-size:var(--ha-card-header-font-size,24px);letter-spacing:-.012em;line-height:48px;padding:12px 16px 16px;display:block;margin-block-start:0px;margin-block-end:0px;font-weight:400}:host ::slotted(.card-content:not(:first-child)),slot:not(:first-child)::slotted(.card-content){padding-top:0px;margin-top:-8px}:host ::slotted(.card-content){padding:16px}:host ::slotted(.card-actions){border-top:1px solid var(--divider-color,#e8e8e8);padding:5px 16px}`}},{kind:"method",key:"render",value:function(){return t.dy` ${this.header?t.dy`<h1 class="card-header">${this.header}</h1>`:t.Ld} <slot></slot> `}}]}}),t.oi)},57935:(o,a,e)=>{e.r(a);var r=e(17463),t=e(34541),i=e(47838),d=(e(14271),e(68144)),l=e(79932),n=e(47181);e(12133);e(22098),e(54736);var s=e(76307),c=e(74265),u=e(69431),h=e(11654);e(38544);(0,r.Z)([(0,l.Mo)("onboarding-restore-backup")],(function(o,a){class r extends a{constructor(...a){super(...a),o(this)}}return{F:r,d:[{kind:"field",decorators:[(0,l.Cb)()],key:"localize",value:void 0},{kind:"field",decorators:[(0,l.Cb)()],key:"language",value:void 0},{kind:"field",decorators:[(0,l.Cb)({type:Boolean})],key:"restoring",value:()=>!1},{kind:"method",key:"render",value:function(){return this.restoring?d.dy`<ha-card .header="${this.localize("ui.panel.page-onboarding.restore.in_progress")}"> <onboarding-loading></onboarding-loading> </ha-card>`:d.dy` <button class="link" @click="${this._uploadBackup}"> ${this.localize("ui.panel.page-onboarding.restore.description")} </button> `}},{kind:"method",key:"_uploadBackup",value:function(){var o,a;o=this,a={showBackup:o=>this._showBackupDialog(o),onboarding:!0},(0,n.B)(o,"show-dialog",{dialogTag:"dialog-hassio-backup-upload",dialogImport:()=>Promise.resolve().then(e.bind(e,12133)),dialogParams:a})}},{kind:"method",key:"firstUpdated",value:function(o){(0,t.Z)((0,i.Z)(r.prototype),"firstUpdated",this).call(this,o),(0,c.lD)(this,this.shadowRoot),setInterval((()=>this._checkRestoreStatus()),1e3)}},{kind:"method",key:"_checkRestoreStatus",value:async function(){if(this.restoring)try{await(0,s.Dq)()}catch(o){"unauthorized"===o.message&&window.location.replace("/")}}},{kind:"method",key:"_showBackupDialog",value:function(o){var a,r;a=this,r={slug:o,onboarding:!0,localize:this.localize},(0,n.B)(a,"show-dialog",{dialogTag:"dialog-hassio-backup",dialogImport:()=>Promise.all([e.e(63436),e.e(28597),e.e(99608),e.e(65666),e.e(41985),e.e(53430),e.e(70632),e.e(52154),e.e(50795),e.e(19605)]).then(e.bind(e,19605)),dialogParams:r})}},{kind:"get",static:!0,key:"styles",value:function(){return[h.Qx,d.iv`.logentry{text-align:center}ha-card{padding:4px;margin-top:8px}ha-ansi-to-html{display:block;line-height:22px;padding:0 8px;white-space:pre-wrap}@media all and (min-width:600px){ha-card{width:600px;margin-left:-100px}}`]}}]}}),(0,u.q)(d.oi))}}]);
//# sourceMappingURL=57935-XLCZXObpmz0.js.map