"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[34871],{66711:function(t,e,n){n.r(e),n.d(e,{HaTargetSelector:function(){return b}});var r,i,u=n(88962),a=n(33368),o=n(71650),c=n(82390),s=n(69205),f=n(70906),d=n(91808),l=n(88771),y=n(47838),v=n(68144),h=n(79932),p=n(14516),_=n(76680),g=n(57292),k=n(75012),m=n(33855),b=(n(63681),(0,d.Z)([(0,h.Mo)("ha-selector-target")],(function(t,e){var n=function(e){(0,s.Z)(r,e);var n=(0,f.Z)(r);function r(){var e;(0,o.Z)(this,r);for(var i=arguments.length,u=new Array(i),a=0;a<i;a++)u[a]=arguments[a];return e=n.call.apply(n,[this].concat(u)),t((0,c.Z)(e)),e}return(0,a.Z)(r)}(e);return{F:n,d:[{kind:"field",decorators:[(0,h.Cb)()],key:"hass",value:void 0},{kind:"field",decorators:[(0,h.Cb)()],key:"selector",value:void 0},{kind:"field",decorators:[(0,h.Cb)()],key:"value",value:void 0},{kind:"field",decorators:[(0,h.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,h.Cb)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,h.Cb)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,h.SB)()],key:"_entitySources",value:void 0},{kind:"field",key:"_deviceIntegrationLookup",value:function(){return(0,p.Z)(g.HP)}},{kind:"method",key:"_hasIntegration",value:function(t){var e,n;return(null===(e=t.target)||void 0===e?void 0:e.entity)&&(0,_.r)(t.target.entity).some((function(t){return t.integration}))||(null===(n=t.target)||void 0===n?void 0:n.device)&&(0,_.r)(t.target.device).some((function(t){return t.integration}))}},{kind:"method",key:"updated",value:function(t){var e=this;(0,l.Z)((0,y.Z)(n.prototype),"updated",this).call(this,t),t.has("selector")&&this._hasIntegration(this.selector)&&!this._entitySources&&(0,k.m)(this.hass).then((function(t){e._entitySources=t}))}},{kind:"method",key:"render",value:function(){return this._hasIntegration(this.selector)&&!this._entitySources?v.Ld:(0,v.dy)(r||(r=(0,u.Z)(['<ha-target-picker .hass="','" .value="','" .helper="','" .deviceFilter="','" .entityFilter="','" .disabled="','"></ha-target-picker>'])),this.hass,this.value,this.helper,this._filterDevices,this._filterEntities,this.disabled)}},{kind:"field",key:"_filterEntities",value:function(){var t=this;return function(e){var n;return null===(n=t.selector.target)||void 0===n||!n.entity||(0,_.r)(t.selector.target.entity).some((function(n){return(0,m.lV)(n,e,t._entitySources)}))}}},{kind:"field",key:"_filterDevices",value:function(){var t=this;return function(e){var n;if(null===(n=t.selector.target)||void 0===n||!n.device)return!0;var r=t._entitySources?t._deviceIntegrationLookup(t._entitySources,Object.values(t.hass.entities)):void 0;return(0,_.r)(t.selector.target.device).some((function(t){return(0,m.lE)(t,e,r)}))}}},{kind:"get",static:!0,key:"styles",value:function(){return(0,v.iv)(i||(i=(0,u.Z)(["ha-target-picker{display:block}"])))}}]}}),v.oi))},57066:function(t,e,n){if(n.d(e,{Dl:function(){return v},IO:function(){return c},Lo:function(){return o},TD:function(){return y},qv:function(){return s},sG:function(){return l}}),32143==n.j)var r=n(40039);var i=n(97330),u=n(85415),a=n(38346),o=function(t,e){return t.callWS(Object.assign({type:"config/area_registry/create"},e))},c=function(t,e,n){return t.callWS(Object.assign({type:"config/area_registry/update",area_id:e},n))},s=function(t,e){return t.callWS({type:"config/area_registry/delete",area_id:e})},f=function(t){return t.sendMessagePromise({type:"config/area_registry/list"}).then((function(t){return t.sort((function(t,e){return(0,u.$)(t.name,e.name)}))}))},d=function(t,e){return t.subscribeEvents((0,a.D)((function(){return f(t).then((function(t){return e.setState(t,!0)}))}),500,!0),"area_registry_updated")},l=function(t,e){return(0,i.B)("_areaRegistry",f,d,t,e)},y=function(t){var e,n={},i=(0,r.Z)(t);try{for(i.s();!(e=i.n()).done;){var u=e.value;u.area_id&&(u.area_id in n||(n[u.area_id]=[]),n[u.area_id].push(u))}}catch(a){i.e(a)}finally{i.f()}return n},v=function(t){var e,n={},i=(0,r.Z)(t);try{for(i.s();!(e=i.n()).done;){var u=e.value;u.area_id&&(u.area_id in n||(n[u.area_id]=[]),n[u.area_id].push(u))}}catch(a){i.e(a)}finally{i.f()}return n}},22814:function(t,e,n){if(n.d(e,{TZ:function(){return l},W2:function(){return d},WD:function(){return f},iI:function(){return s},oT:function(){return c},uw:function(){return o}}),32143==n.j)var r=n(99312);if(32143==n.j)var i=n(81043);var u,a,o="".concat(location.protocol,"//").concat(location.host),c=function(t){return t.map((function(t){if("string"!==t.type)return t;switch(t.name){case"username":return Object.assign(Object.assign({},t),{},{autocomplete:"username"});case"password":return Object.assign(Object.assign({},t),{},{autocomplete:"current-password"});case"code":return Object.assign(Object.assign({},t),{},{autocomplete:"one-time-code"});default:return t}}))},s=function(t,e){return t.callWS({type:"auth/sign_path",path:e})},f=function(){return fetch("/auth/providers",{credentials:"same-origin"})},d=32143==n.j?(u=(0,i.Z)((0,r.Z)().mark((function t(e,n,i,u){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.callWS({type:"config/auth_provider/homeassistant/create",user_id:n,username:i,password:u}));case 1:case"end":return t.stop()}}),t)}))),function(t,e,n,r){return u.apply(this,arguments)}):null,l=32143==n.j?(a=(0,i.Z)((0,r.Z)().mark((function t(e,n,i){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:n,password:i}));case 1:case"end":return t.stop()}}),t)}))),function(t,e,n){return a.apply(this,arguments)}):null},74186:function(t,e,n){n.d(e,{Iq:function(){return y},L3:function(){return l},LM:function(){return k},Mw:function(){return w},Nv:function(){return v},_V:function(){return Z},eD:function(){return s},hg:function(){return p},ol:function(){return b},vA:function(){return d},w1:function(){return S},wX:function(){return f},z3:function(){return h}});var r=n(40039),i=n(97330),u=n(14516),a=n(91741),o=n(85415),c=n(38346),s=function(t,e){return e.find((function(e){return t.states[e.entity_id]&&"battery"===t.states[e.entity_id].attributes.device_class}))},f=function(t,e){return e.find((function(e){return t.states[e.entity_id]&&"battery_charging"===t.states[e.entity_id].attributes.device_class}))},d=function(t,e){if(e.name)return e.name;var n=t.states[e.entity_id];return n?(0,a.C)(n):e.original_name?e.original_name:e.entity_id},l=function(t,e){return t.callWS({type:"config/entity_registry/get",entity_id:e})},y=function(t,e){return t.callWS({type:"config/entity_registry/get_entries",entity_ids:e})},v=function(t,e,n){return t.callWS(Object.assign({type:"config/entity_registry/update",entity_id:e},n))},h=function(t,e){return t.callWS({type:"config/entity_registry/remove",entity_id:e})},p=function(t){return t.sendMessagePromise({type:"config/entity_registry/list"})},_=function(t){return t.sendMessagePromise({type:"config/entity_registry/list_for_display"})},g=function(t,e){return t.subscribeEvents((0,c.D)((function(){return p(t).then((function(t){return e.setState(t,!0)}))}),500,!0),"entity_registry_updated")},k=function(t,e){return(0,i.B)("_entityRegistry",p,g,t,e)},m=function(t,e){return t.subscribeEvents((0,c.D)((function(){return _(t).then((function(t){return e.setState(t,!0)}))}),500,!0),"entity_registry_updated")},b=function(t,e){return(0,i.B)("_entityRegistryDisplay",_,m,t,e)},Z=function(t,e){return t.sort((function(t,n){return(0,o.f)(t.name||"",n.name||"",e)}))},S=(0,u.Z)((function(t){var e,n={},i=(0,r.Z)(t);try{for(i.s();!(e=i.n()).done;){var u=e.value;n[u.entity_id]=u}}catch(a){i.e(a)}finally{i.f()}return n})),w=(0,u.Z)((function(t){var e,n={},i=(0,r.Z)(t);try{for(i.s();!(e=i.n()).done;){var u=e.value;n[u.id]=u}}catch(a){i.e(a)}finally{i.f()}return n}))},75012:function(t,e,n){n.d(e,{m:function(){return o}});var r=n(99312),i=n(81043),u=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e,n,i,a,o){var c,s,f,d,l,y,v,h=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(c=h.length,s=new Array(c>5?c-5:0),f=5;f<c;f++)s[f-5]=h[f];if(l=(d=o)[e],y=function(t){return a&&a(o,t.result)!==t.cacheKey?(d[e]=void 0,u.apply(void 0,[e,n,i,a,o].concat(s))):t.result},!l){t.next=6;break}return t.abrupt("return",l instanceof Promise?l.then(y):y(l));case 6:return v=i.apply(void 0,[o].concat(s)),d[e]=v,v.then((function(t){d[e]={result:t,cacheKey:null==a?void 0:a(o,t)},setTimeout((function(){d[e]=void 0}),n)}),(function(){d[e]=void 0})),t.abrupt("return",v);case 10:case"end":return t.stop()}}),t)})));return function(e,n,r,i,u){return t.apply(this,arguments)}}(),a=function(t,e){return t.callWS({type:"entity/source",entity_id:e})},o=function(t,e){return e?a(t,e):u("_entitySources",3e4,a,(function(t){return Object.keys(t.states).length}),t)}}}]);
//# sourceMappingURL=34871-OfV7G7hV1qw.js.map