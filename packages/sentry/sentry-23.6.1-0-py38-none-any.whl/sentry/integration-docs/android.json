{
  "id": "android",
  "name": "Android",
  "html": "<h2 id=\"integrating-the-sdk\" style=\"position:relative;\">Integrating the SDK</h2>\n<p>Sentry captures data by using an SDK within your application\u2019s runtime. These are platform-specific and allow Sentry to have a deep understanding of how your app works.</p>\n<h3 id=\"auto-installation-and-source-context-with-the-sentry-android-gradle-plugin\" style=\"position:relative;\">Auto-Installation and Source Context With the Sentry Android Gradle Plugin</h3>\n<p>The Sentry Android Gradle plugin will install the Android SDK and integrations relevant to your application.\nIt can also upload your source code to Sentry so it can be shown as part of the stack traces.</p>\n<p>To install the plugin, please update your app's <code>build.gradle</code> file as follows:</p>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy highlight\"><code class=\"language-groovy\">buildscript <span class=\"token punctuation\">{</span>\n  repositories <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">mavenCentral</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\nplugins <span class=\"token punctuation\">{</span>\n  id <span class=\"token interpolation-string\"><span class=\"token string\">\"io.sentry.android.gradle\"</span></span> version <span class=\"token interpolation-string\"><span class=\"token string\">\"3.11.0\"</span></span>\n<span class=\"token punctuation\">}</span>\n\nsentry <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Generates a JVM (Java, Kotlin, etc.) source bundle and uploads your source code to Sentry.</span>\n  <span class=\"token comment\">// This enables source context, allowing you to see your source</span>\n  <span class=\"token comment\">// code as part of your stack traces in Sentry.</span>\n  includeSourceContext <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n\n  org <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"___ORG_SLUG___\"</span></span>\n  projectName <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"___PROJECT_SLUG___\"</span></span>\n  authToken <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"your-sentry-auth-token\"</span></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The plugin version <code>3.11.0</code> will automatically add the Sentry Android SDK (version <code>6.23.0</code>) to your app.</p>\n<h2 id=\"connecting-the-sdk-to-sentry\" style=\"position:relative;\">Connecting the SDK to Sentry</h2>\n<p>Configuration is done via the application <code>AndroidManifest.xml</code>. The code snippet below includes the DSN, which tells the SDK to send the events to this project.</p>\n<p>Here's an example config which should get you started:</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml highlight\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>application</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token comment\">&lt;!-- Required: set your sentry.io project identifier (DSN) --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta-data</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>io.sentry.dsn<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>___PUBLIC_DSN___<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n\n  <span class=\"token comment\">&lt;!-- enable automatic breadcrumbs for user interactions (clicks, swipes, scrolls) --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta-data</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>io.sentry.traces.user-interaction.enable<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n  <span class=\"token comment\">&lt;!-- enable screenshot for crashes --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta-data</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>io.sentry.attach-screenshot<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n  <span class=\"token comment\">&lt;!-- enable view hierarchy for crashes --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta-data</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>io.sentry.attach-view-hierarchy<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n\n  <span class=\"token comment\">&lt;!-- enable the performance API by setting a sample-rate, adjust in production env --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta-data</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>io.sentry.traces.sample-rate<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1.0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n  <span class=\"token comment\">&lt;!-- enable profiling when starting transactions, adjust in production env --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta-data</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>io.sentry.traces.profiling.sample-rate<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1.0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>application</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div>\n<p>Under the hood Sentry uses a <code>ContentProvider</code> to initalize the SDK based on the values provided above. This way the SDK can capture important crashes and metrics right from the app start.</p>\n<p>Additional options can be found <a href=\"https://docs.sentry.io/platforms/android/configuration/options/\">on our dedicated options page</a>.</p>\n<p>If you want to customize the SDK init behaviour, you can still use the <a href=\"https://docs.sentry.io/platforms/android/configuration/manual-init/\">Manual Initialization method</a>.</p>\n<h2 id=\"verifying-your-setup\" style=\"position:relative;\">Verifying Your Setup</h2>\n<p>Great! Now that you\u2019ve completed setting up the SDK, maybe you want to quickly test out how Sentry works. Start by capturing an exception:</p>\n<p>In <strong>Java</strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java highlight\"><code class=\"language-java\"><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">androidx<span class=\"token punctuation\">.</span>appcompat<span class=\"token punctuation\">.</span>app<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AppCompatActivity</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">android<span class=\"token punctuation\">.</span>os<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Bundle</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">io<span class=\"token punctuation\">.</span>sentry<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Sentry</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MyActivity</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AppCompatActivity</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Bundle</span> savedInstanceState<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span>savedInstanceState<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Sentry</span><span class=\"token punctuation\">.</span><span class=\"token function\">captureMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"testing SDK setup\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>In <strong>Kotlin</strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin highlight\"><code class=\"language-kotlin\"><span class=\"token keyword\">import</span> androidx<span class=\"token punctuation\">.</span>appcompat<span class=\"token punctuation\">.</span>app<span class=\"token punctuation\">.</span>AppCompatActivity\n<span class=\"token keyword\">import</span> android<span class=\"token punctuation\">.</span>os<span class=\"token punctuation\">.</span>Bundle\n\n<span class=\"token keyword\">import</span> io<span class=\"token punctuation\">.</span>sentry<span class=\"token punctuation\">.</span>Sentry\n\n<span class=\"token keyword\">class</span> MyActivity <span class=\"token operator\">:</span> <span class=\"token function\">AppCompatActivity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span>savedInstanceState<span class=\"token operator\">:</span> Bundle<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span>savedInstanceState<span class=\"token punctuation\">)</span>\n    Sentry<span class=\"token punctuation\">.</span><span class=\"token function\">captureMessage</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"testing SDK setup\"</span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"performance-monitoring\" style=\"position:relative;\">Performance Monitoring</h2>\n<p>Set <code>io.sentry.traces.sample-rate</code> to 1.0 to capture 100% of transactions for performance monitoring.</p>\n<p>We recommend adjusting this value in production.</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml highlight\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>application</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta-data</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>io.sentry.traces.sample-rate<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1.0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>application</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div>\n<p>You can measure the performance of your code by capturing transactions and spans.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin highlight\"><code class=\"language-kotlin\"><span class=\"token keyword\">import</span> io<span class=\"token punctuation\">.</span>sentry<span class=\"token punctuation\">.</span>Sentry\n\n<span class=\"token comment\">// Transaction can be started by providing, at minimum, the name and the operation</span>\n<span class=\"token keyword\">val</span> transaction <span class=\"token operator\">=</span> Sentry<span class=\"token punctuation\">.</span><span class=\"token function\">startTransaction</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"test-transaction-name\"</span></span><span class=\"token punctuation\">,</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"test-transaction-operation\"</span></span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Transactions can have child spans (and those spans can have child spans as well)</span>\n<span class=\"token keyword\">val</span> span <span class=\"token operator\">=</span> transaction<span class=\"token punctuation\">.</span><span class=\"token function\">startChild</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"test-child-operation\"</span></span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// ...</span>\n<span class=\"token comment\">// (Perform the operation represented by the span/transaction)</span>\n<span class=\"token comment\">// ...</span>\n\n\nspan<span class=\"token punctuation\">.</span><span class=\"token function\">finish</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// Mark the span as finished</span>\ntransaction<span class=\"token punctuation\">.</span><span class=\"token function\">finish</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// Mark the transaction as finished and send it to Sentry</span></code></pre></div>\n<p>Check out <a href=\"https://docs.sentry.io/platforms/android/performance/instrumentation/\">the documentation</a> to learn more about the API and automatic instrumentations.</p>\n<h3 id=\"next-steps\" style=\"position:relative;\">Next Steps</h3>\n<p>Using ProGuard/DexGuard or R8 to obfuscate your app? Check out <a href=\"https://docs.sentry.io/platforms/android/proguard/\">our docs on how to set it up</a>.</p>\n<p>Using Jetpack Compose? Try out our new <a href=\"https://docs.sentry.io/platforms/android/configuration/integrations/jetpack-compose/\">Jetpack Compose</a> integration. It automatically adds a breadcrumb and starts a transaction for each navigation or user interaction event.</p>\n<p><a href=\"https://docs.sentry.io/platforms/android/configuration/\">The documentation</a> has more information about the many configurations and API available in Sentry's SDK.</p>\n<blockquote>\n<p>Let us know if you have feedback through <a href=\"https://github.com/getsentry/sentry-java/issues/new?assignees=&amp;labels=Platform%3A+Android%2CType%3A+Bug&amp;template=bug_report_android.yml\">GitHub issues</a>.</p>\n</blockquote>",
  "link": "https://docs.sentry.io/platforms/android/",
  "wizard_setup": null
}
