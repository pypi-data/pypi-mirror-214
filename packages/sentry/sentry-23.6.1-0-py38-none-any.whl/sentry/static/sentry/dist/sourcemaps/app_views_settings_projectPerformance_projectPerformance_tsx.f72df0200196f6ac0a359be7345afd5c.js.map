{"version":3,"file":"chunks/app_views_settings_projectPerformance_projectPerformance_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/utils/routeTitle.tsx","webpack:///./app/views/asyncView.tsx","webpack:///./app/views/settings/project/permissionAlert.tsx","webpack:///./app/views/settings/projectPerformance/projectPerformance.tsx"],"sourcesContent":["function routeTitleGen(\n  routeName: string,\n  orgSlug: string,\n  withSentry: boolean = true,\n  projectSlug?: string\n): string {\n  const tmplBase = `${routeName} - ${orgSlug}`;\n  const tmpl = projectSlug ? `${tmplBase} - ${projectSlug}` : tmplBase;\n\n  return withSentry ? `${tmpl} - Sentry` : tmpl;\n}\n\nexport default routeTitleGen;\n","import AsyncComponent from 'sentry/components/asyncComponent';\nimport SentryDocumentTitle from 'sentry/components/sentryDocumentTitle';\n\ntype AsyncViewState = AsyncComponent['state'];\ntype AsyncViewProps = AsyncComponent['props'];\n\nexport default class AsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends AsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    return (\n      <SentryDocumentTitle title={this.getTitle()}>\n        {this.renderComponent() as React.ReactChild}\n      </SentryDocumentTitle>\n    );\n  }\n}\n","import Access from 'sentry/components/acl/access';\nimport {Alert} from 'sentry/components/alert';\nimport {t} from 'sentry/locale';\nimport {Project, Scope, Team} from 'sentry/types';\n\ninterface Props extends React.ComponentPropsWithoutRef<typeof Alert> {\n  access?: Scope[];\n  project?: Project | null | undefined;\n  team?: Team | null | undefined;\n}\n\nexport const permissionAlertText = t(\n  'These settings can only be edited by users with the organization-level owner, manager, or team-level admin roles.'\n);\n\nfunction PermissionAlert({access = ['project:write'], project, team, ...props}: Props) {\n  return (\n    <Access access={access} project={project} team={team}>\n      {({hasAccess}) =>\n        !hasAccess && (\n          <Alert data-test-id=\"project-permission-alert\" type=\"warning\" {...props}>\n            {permissionAlertText}\n          </Alert>\n        )\n      }\n    </Access>\n  );\n}\n\nexport default PermissionAlert;\n","import {Fragment} from 'react';\nimport {RouteComponentProps} from 'react-router';\nimport styled from '@emotion/styled';\n\nimport Access from 'sentry/components/acl/access';\nimport Feature from 'sentry/components/acl/feature';\nimport {Button} from 'sentry/components/button';\nimport Form from 'sentry/components/forms/form';\nimport JsonForm from 'sentry/components/forms/jsonForm';\nimport {Field} from 'sentry/components/forms/types';\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport {PanelItem} from 'sentry/components/panels';\nimport {t, tct} from 'sentry/locale';\nimport ProjectsStore from 'sentry/stores/projectsStore';\nimport {Organization, Project, Scope} from 'sentry/types';\nimport {DynamicSamplingBiasType} from 'sentry/types/sampling';\nimport {trackAnalytics} from 'sentry/utils/analytics';\nimport routeTitleGen from 'sentry/utils/routeTitle';\nimport AsyncView from 'sentry/views/asyncView';\nimport SettingsPageHeader from 'sentry/views/settings/components/settingsPageHeader';\nimport PermissionAlert from 'sentry/views/settings/project/permissionAlert';\n\n// These labels need to be exported so that they can be used in audit logs\nexport const retentionPrioritiesLabels = {\n  boostLatestRelease: t('Prioritize new releases'),\n  boostEnvironments: t('Prioritize dev environments'),\n  boostLowVolumeTransactions: t('Prioritize low-volume transactions'),\n  ignoreHealthChecks: t('Deprioritize health checks'),\n};\n\ntype RouteParams = {orgId: string; projectId: string};\n\ntype Props = RouteComponentProps<{projectId: string}, {}> & {\n  organization: Organization;\n  project: Project;\n};\n\ntype ProjectThreshold = {\n  metric: string;\n  threshold: string;\n  editedBy?: string;\n  id?: string;\n};\n\ntype State = AsyncView['state'] & {\n  threshold: ProjectThreshold;\n};\n\nclass ProjectPerformance extends AsyncView<Props, State> {\n  getTitle() {\n    const {projectId} = this.props.params;\n\n    return routeTitleGen(t('Performance'), projectId, false);\n  }\n\n  getProjectEndpoint({orgId, projectId}: RouteParams) {\n    return `/projects/${orgId}/${projectId}/`;\n  }\n\n  getPerformanceIssuesEndpoint({orgId, projectId}: RouteParams) {\n    return `/projects/${orgId}/${projectId}/performance-issues/configure/`;\n  }\n\n  getEndpoints(): ReturnType<AsyncView['getEndpoints']> {\n    const {params, organization} = this.props;\n    const {projectId} = params;\n\n    const endpoints: ReturnType<AsyncView['getEndpoints']> = [\n      [\n        'threshold',\n        `/projects/${organization.slug}/${projectId}/transaction-threshold/configure/`,\n      ],\n      ['project', `/projects/${organization.slug}/${projectId}/`],\n    ];\n\n    if (organization.features.includes('performance-issues-dev')) {\n      const performanceIssuesEndpoint = [\n        'performance_issue_settings',\n        `/projects/${organization.slug}/${projectId}/performance-issues/configure/`,\n      ] as [string, string];\n\n      endpoints.push(performanceIssuesEndpoint);\n    }\n\n    return endpoints;\n  }\n\n  getRetentionPrioritiesData(...data) {\n    return {\n      dynamicSamplingBiases: Object.entries(data[1].form).map(([key, value]) => ({\n        id: key,\n        active: value,\n      })),\n    };\n  }\n\n  handleDelete = () => {\n    const {projectId} = this.props.params;\n    const {organization} = this.props;\n\n    this.setState({\n      loading: true,\n    });\n\n    this.api.request(\n      `/projects/${organization.slug}/${projectId}/transaction-threshold/configure/`,\n      {\n        method: 'DELETE',\n        success: () => {\n          trackAnalytics('performance_views.project_transaction_threshold.clear', {\n            organization,\n          });\n        },\n        complete: () => this.fetchData(),\n      }\n    );\n  };\n\n  getEmptyMessage() {\n    return t('There is no threshold set for this project.');\n  }\n\n  renderLoading() {\n    return (\n      <LoadingIndicatorContainer>\n        <LoadingIndicator />\n      </LoadingIndicatorContainer>\n    );\n  }\n\n  get formFields(): Field[] {\n    const fields: Field[] = [\n      {\n        name: 'metric',\n        type: 'select',\n        label: t('Calculation Method'),\n        options: [\n          {value: 'duration', label: t('Transaction Duration')},\n          {value: 'lcp', label: t('Largest Contentful Paint')},\n        ],\n        help: tct(\n          'This determines which duration is used to set your thresholds. By default, we use transaction duration which measures the entire length of the transaction. You can also set this to use a [link:Web Vital].',\n          {\n            link: (\n              <ExternalLink href=\"https://docs.sentry.io/product/performance/web-vitals/\" />\n            ),\n          }\n        ),\n      },\n      {\n        name: 'threshold',\n        type: 'string',\n        label: t('Response Time Threshold (ms)'),\n        placeholder: t('300'),\n        help: tct(\n          'Define what a satisfactory response time is based on the calculation method above. This will affect how your [link1:Apdex] and [link2:User Misery] thresholds are calculated. For example, misery will be 4x your satisfactory response time.',\n          {\n            link1: (\n              <ExternalLink href=\"https://docs.sentry.io/performance-monitoring/performance/metrics/#apdex\" />\n            ),\n            link2: (\n              <ExternalLink href=\"https://docs.sentry.io/product/performance/metrics/#user-misery\" />\n            ),\n          }\n        ),\n      },\n    ];\n    return fields;\n  }\n\n  get performanceIssueFormFields(): Field[] {\n    return [\n      {\n        name: 'performanceIssueCreationRate',\n        type: 'range',\n        label: t('Performance Issue Creation Rate'),\n        min: 0.0,\n        max: 1.0,\n        step: 0.01,\n        defaultValue: 0,\n        help: t(\n          'This determines the rate at which performance issues are created. A rate of 0.0 will disable performance issue creation.'\n        ),\n      },\n      {\n        name: 'performanceIssueSendToPlatform',\n        type: 'boolean',\n        label: t('Send Occurrences To Platform'),\n        defaultValue: false,\n        help: t(\n          'This determines whether performance issue occurrences are sent to the issues platform.'\n        ),\n      },\n      {\n        name: 'performanceIssueCreationThroughPlatform',\n        type: 'boolean',\n        label: t('Create Issues Through Issues Platform'),\n        defaultValue: false,\n        help: t(\n          'This determines whether performance issues are created through the issues platform.'\n        ),\n      },\n    ];\n  }\n\n  get performanceIssueDetectorsFormFields(): Field[] {\n    return [\n      {\n        name: 'n_plus_one_db_detection_rate',\n        type: 'range',\n        label: t('N+1 (DB) Detection Rate'),\n        min: 0.0,\n        max: 1.0,\n        step: 0.01,\n        defaultValue: 0,\n      },\n      {\n        name: 'n_plus_one_db_count',\n        type: 'number',\n        label: t('N+1 (DB) Minimum Count'),\n        min: 0,\n        max: 1000,\n        defaultValue: 5,\n      },\n      {\n        name: 'n_plus_one_db_duration_threshold',\n        type: 'number',\n        label: t('N+1 (DB) Duration Threshold'),\n        min: 0,\n        max: 1000000.0,\n        defaultValue: 500,\n      },\n      {\n        name: 'n_plus_one_api_calls_detection_rate',\n        type: 'range',\n        label: t('N+1 API Calls Detection Rate'),\n        min: 0.0,\n        max: 1.0,\n        step: 0.01,\n        defaultValue: 0,\n      },\n      {\n        name: 'consecutive_db_queries_detection_rate',\n        type: 'range',\n        label: t('Consecutive DB Detection rate'),\n        min: 0.0,\n        max: 1.0,\n        step: 0.01,\n        defaultValue: 0,\n      },\n      {\n        name: 'consecutive_http_spans_detection_enabled',\n        type: 'boolean',\n        label: t('Consecutive HTTP Spans Detection Enabled'),\n        defaultValue: true,\n      },\n    ];\n  }\n\n  get retentionPrioritiesFormFields(): Field[] {\n    return [\n      {\n        name: 'boostLatestRelease',\n        type: 'boolean',\n        label: retentionPrioritiesLabels.boostLatestRelease,\n        help: t(\n          'Captures more transactions for your new releases as they are being adopted'\n        ),\n        getData: this.getRetentionPrioritiesData,\n      },\n      {\n        name: 'boostEnvironments',\n        type: 'boolean',\n        label: retentionPrioritiesLabels.boostEnvironments,\n        help: t(\n          'Captures more traces from environments that contain \"debug\", \"dev\", \"local\", \"qa\", and \"test\"'\n        ),\n        getData: this.getRetentionPrioritiesData,\n      },\n      {\n        name: 'boostLowVolumeTransactions',\n        type: 'boolean',\n        label: retentionPrioritiesLabels.boostLowVolumeTransactions,\n        help: t(\"Balance high-volume endpoints so they don't drown out low-volume ones\"),\n        visible: this.props.organization.features.includes(\n          'dynamic-sampling-transaction-name-priority'\n        ),\n        getData: this.getRetentionPrioritiesData,\n      },\n      {\n        name: 'ignoreHealthChecks',\n        type: 'boolean',\n        label: retentionPrioritiesLabels.ignoreHealthChecks,\n        help: t('Captures fewer of your health checks transactions'),\n        getData: this.getRetentionPrioritiesData,\n      },\n    ];\n  }\n\n  get initialData() {\n    const {threshold} = this.state;\n\n    return {\n      threshold: threshold.threshold,\n      metric: threshold.metric,\n    };\n  }\n\n  renderBody() {\n    const {organization, project} = this.props;\n    const endpoint = `/projects/${organization.slug}/${project.slug}/transaction-threshold/configure/`;\n    const requiredScopes: Scope[] = ['project:write'];\n\n    const params = {orgId: organization.slug, projectId: project.slug};\n    const projectEndpoint = this.getProjectEndpoint(params);\n    const performanceIssuesEndpoint = this.getPerformanceIssuesEndpoint(params);\n\n    return (\n      <Fragment>\n        <SettingsPageHeader title={t('Performance')} />\n        <PermissionAlert project={project} />\n\n        <Form\n          saveOnBlur\n          allowUndo\n          initialData={this.initialData}\n          apiMethod=\"POST\"\n          apiEndpoint={endpoint}\n          onSubmitSuccess={resp => {\n            const initial = this.initialData;\n            const changedThreshold = initial.metric === resp.metric;\n            trackAnalytics('performance_views.project_transaction_threshold.change', {\n              organization,\n              from: changedThreshold ? initial.threshold : initial.metric,\n              to: changedThreshold ? resp.threshold : resp.metric,\n              key: changedThreshold ? 'threshold' : 'metric',\n            });\n            this.setState({threshold: resp});\n          }}\n        >\n          <Access access={requiredScopes} project={project}>\n            {({hasAccess}) => (\n              <JsonForm\n                title={t('General')}\n                fields={this.formFields}\n                disabled={!hasAccess}\n                renderFooter={() => (\n                  <Actions>\n                    <Button onClick={() => this.handleDelete()}>{t('Reset All')}</Button>\n                  </Actions>\n                )}\n              />\n            )}\n          </Access>\n        </Form>\n        <Feature features={['organizations:dynamic-sampling']}>\n          <Form\n            saveOnBlur\n            allowUndo\n            initialData={\n              project.dynamicSamplingBiases?.reduce((acc, bias) => {\n                acc[bias.id] = bias.active;\n                return acc;\n              }, {}) ?? {}\n            }\n            onSubmitSuccess={(response, _instance, id, change) => {\n              ProjectsStore.onUpdateSuccess(response);\n              trackAnalytics(\n                change?.new === true\n                  ? 'dynamic_sampling_settings.priority_enabled'\n                  : 'dynamic_sampling_settings.priority_disabled',\n                {\n                  organization,\n                  project_id: project.id,\n                  id: id as DynamicSamplingBiasType,\n                }\n              );\n            }}\n            apiMethod=\"PUT\"\n            apiEndpoint={projectEndpoint}\n          >\n            <Access access={requiredScopes} project={project}>\n              {({hasAccess}) => (\n                <JsonForm\n                  title={t('Retention Priorities')}\n                  fields={this.retentionPrioritiesFormFields}\n                  disabled={!hasAccess}\n                  renderFooter={() => (\n                    <Actions>\n                      <Button\n                        external\n                        href=\"https://docs.sentry.io/product/performance/performance-at-scale/\"\n                      >\n                        {t('Read docs')}\n                      </Button>\n                    </Actions>\n                  )}\n                />\n              )}\n            </Access>\n          </Form>\n        </Feature>\n        <Feature features={['organizations:performance-issues-dev']}>\n          <Fragment>\n            <Form\n              saveOnBlur\n              allowUndo\n              initialData={{\n                performanceIssueCreationRate:\n                  this.state.project.performanceIssueCreationRate,\n                performanceIssueSendToPlatform:\n                  this.state.project.performanceIssueSendToPlatform,\n                performanceIssueCreationThroughPlatform:\n                  this.state.project.performanceIssueCreationThroughPlatform,\n              }}\n              apiMethod=\"PUT\"\n              apiEndpoint={projectEndpoint}\n            >\n              <Access access={requiredScopes} project={project}>\n                {({hasAccess}) => (\n                  <JsonForm\n                    title={t('Performance Issues - All')}\n                    fields={this.performanceIssueFormFields}\n                    disabled={!hasAccess}\n                  />\n                )}\n              </Access>\n            </Form>\n            <Form\n              saveOnBlur\n              allowUndo\n              initialData={this.state.performance_issue_settings}\n              apiMethod=\"PUT\"\n              apiEndpoint={performanceIssuesEndpoint}\n            >\n              <Access access={requiredScopes} project={project}>\n                {({hasAccess}) => (\n                  <JsonForm\n                    title={t('Performance Issues - Detector Settings')}\n                    fields={this.performanceIssueDetectorsFormFields}\n                    disabled={!hasAccess}\n                  />\n                )}\n              </Access>\n            </Form>\n          </Fragment>\n        </Feature>\n      </Fragment>\n    );\n  }\n}\n\nconst Actions = styled(PanelItem)`\n  justify-content: flex-end;\n`;\n\nconst LoadingIndicatorContainer = styled('div')`\n  margin: 18px 18px 0;\n`;\n\nexport default ProjectPerformance;\n"],"names":["routeName","orgSlug","projectSlug","arguments","length","undefined","tmplBase","tmpl","AsyncView","AsyncComponent","getTitle","render","_jsx","SentryDocumentTitle","title","this","children","renderComponent","displayName","permissionAlertText","t","PermissionAlert","_ref","access","project","team","props","Access","_ref2","hasAccess","Alert","type","retentionPrioritiesLabels","boostLatestRelease","boostEnvironments","boostLowVolumeTransactions","ignoreHealthChecks","ProjectPerformance","constructor","_defineProperty","projectId","params","organization","setState","loading","api","request","slug","method","success","trackAnalytics","complete","fetchData","routeTitleGen","getProjectEndpoint","orgId","getPerformanceIssuesEndpoint","getEndpoints","endpoints","features","includes","performanceIssuesEndpoint","push","getRetentionPrioritiesData","_len","data","Array","_key","dynamicSamplingBiases","Object","entries","form","map","_ref3","key","value","id","active","getEmptyMessage","renderLoading","LoadingIndicatorContainer","LoadingIndicator","formFields","name","label","options","help","tct","link","ExternalLink","href","placeholder","link1","link2","performanceIssueFormFields","min","max","step","defaultValue","performanceIssueDetectorsFormFields","retentionPrioritiesFormFields","getData","visible","initialData","threshold","state","metric","renderBody","endpoint","requiredScopes","projectEndpoint","_jsxs","Fragment","SettingsPageHeader","Form","saveOnBlur","allowUndo","apiMethod","apiEndpoint","onSubmitSuccess","resp","initial","changedThreshold","from","to","_ref4","JsonForm","fields","disabled","renderFooter","Actions","Button","onClick","handleDelete","Feature","reduce","acc","bias","response","_instance","change","ProjectsStore","new","project_id","_ref5","external","performanceIssueCreationRate","performanceIssueSendToPlatform","performanceIssueCreationThroughPlatform","_ref6","performance_issue_settings","_ref7","_styled","PanelItem","target","styles"],"sourceRoot":""}