{"version":3,"file":"chunks/app_views_organizationCreate_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/narrowLayout.tsx","webpack:///./app/views/organizationCreate/index.tsx"],"sourcesContent":["import {useEffect} from 'react';\nimport styled from '@emotion/styled';\n\nimport {logout} from 'sentry/actionCreators/account';\nimport {IconSentry} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport useApi from 'sentry/utils/useApi';\n\ntype Props = {\n  children: React.ReactNode;\n  maxWidth?: string;\n  showLogout?: boolean;\n};\n\nfunction NarrowLayout({maxWidth, showLogout, children}: Props) {\n  const api = useApi();\n\n  useEffect(() => {\n    document.body.classList.add('narrow');\n\n    return () => document.body.classList.remove('narrow');\n  }, []);\n\n  async function handleLogout() {\n    await logout(api);\n    window.location.assign('/auth/login');\n  }\n\n  return (\n    <div className=\"app\">\n      <div className=\"pattern-bg\" />\n      <div className=\"container\" style={{maxWidth}}>\n        <div className=\"box box-modal\">\n          <div className=\"box-header\">\n            <a href=\"/\">\n              <IconSentry size=\"lg\" />\n            </a>\n            {showLogout && (\n              <a className=\"logout pull-right\" onClick={handleLogout}>\n                <Logout>{t('Sign out')}</Logout>\n              </a>\n            )}\n          </div>\n          <div className=\"box-content with-padding\">{children}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst Logout = styled('span')`\n  font-size: ${p => p.theme.fontSizeLarge};\n`;\n\nexport default NarrowLayout;\n","import {addErrorMessage} from 'sentry/actionCreators/indicator';\nimport {ApiForm, CheckboxField, TextField} from 'sentry/components/forms';\nimport NarrowLayout from 'sentry/components/narrowLayout';\nimport SentryDocumentTitle from 'sentry/components/sentryDocumentTitle';\nimport {t, tct} from 'sentry/locale';\nimport ConfigStore from 'sentry/stores/configStore';\nimport {OrganizationSummary} from 'sentry/types';\nimport {normalizeUrl} from 'sentry/utils/withDomainRequired';\n\nfunction OrganizationCreate() {\n  const termsUrl = ConfigStore.get('termsUrl');\n  const privacyUrl = ConfigStore.get('privacyUrl');\n\n  return (\n    <SentryDocumentTitle title={t('Create Organization')}>\n      <NarrowLayout showLogout>\n        <h3>{t('Create a New Organization')}</h3>\n\n        <p>\n          {t(\n            \"Organizations represent the top level in your hierarchy. You'll be able to bundle a collection of teams within an organization as well as give organization-wide permissions to users.\"\n          )}\n        </p>\n\n        <ApiForm\n          initialData={{defaultTeam: true}}\n          submitLabel={t('Create Organization')}\n          apiEndpoint=\"/organizations/\"\n          apiMethod=\"POST\"\n          onSubmitSuccess={(createdOrg: OrganizationSummary) => {\n            const hasCustomerDomain = createdOrg?.features.includes('customer-domains');\n            let nextUrl = normalizeUrl(\n              `/organizations/${createdOrg.slug}/projects/new/`,\n              {forceCustomerDomain: hasCustomerDomain}\n            );\n            if (hasCustomerDomain) {\n              nextUrl = `${createdOrg.links.organizationUrl}${nextUrl}`;\n            }\n            // redirect to project creation *(BYPASS REACT ROUTER AND FORCE PAGE REFRESH TO GRAB CSRF TOKEN)*\n            // browserHistory.pushState(null, `/organizations/${data.slug}/projects/new/`);\n            window.location.assign(nextUrl);\n          }}\n          onSubmitError={error => {\n            addErrorMessage(\n              error.responseJSON?.detail ?? t('Unable to create organization.')\n            );\n          }}\n          requireChanges\n        >\n          <TextField\n            id=\"organization-name\"\n            name=\"name\"\n            label={t('Organization Name')}\n            placeholder={t('e.g. My Company')}\n            inline={false}\n            flexibleControlStateSize\n            stacked\n            required\n          />\n\n          {termsUrl && privacyUrl && (\n            <CheckboxField\n              name=\"agreeTerms\"\n              label={tct(\n                'I agree to the [termsLink:Terms of Service] and the [privacyLink:Privacy Policy]',\n                {\n                  termsLink: <a href={termsUrl} />,\n                  privacyLink: <a href={privacyUrl} />,\n                }\n              )}\n              inline={false}\n              stacked\n              required\n            />\n          )}\n        </ApiForm>\n      </NarrowLayout>\n    </SentryDocumentTitle>\n  );\n}\n\nexport default OrganizationCreate;\n"],"names":["NarrowLayout","_ref","maxWidth","showLogout","children","api","useApi","useEffect","document","body","classList","add","remove","_jsxs","className","_jsx","style","href","IconSentry","size","onClick","async","logout","window","location","assign","Logout","t","displayName","_styled","target","p","theme","fontSizeLarge","OrganizationCreate","termsUrl","ConfigStore","privacyUrl","SentryDocumentTitle","title","ApiForm","initialData","defaultTeam","submitLabel","apiEndpoint","apiMethod","onSubmitSuccess","createdOrg","hasCustomerDomain","features","includes","nextUrl","normalizeUrl","slug","forceCustomerDomain","links","organizationUrl","onSubmitError","error","addErrorMessage","responseJSON","detail","requireChanges","TextField","id","name","label","placeholder","inline","flexibleControlStateSize","stacked","required","CheckboxField","tct","termsLink","privacyLink"],"sourceRoot":""}