{"version":3,"file":"chunks/app_views_settings_organizationMembers_organizationMemberDetail_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/roleSelectControl.tsx","webpack:///./app/components/teamRoleSelect.tsx","webpack:///./app/utils/isMemberDisabledFromLimit.tsx","webpack:///./app/utils/orgRole.tsx","webpack:///./app/views/settings/components/teamSelect/teamSelectForMember.tsx","webpack:///./app/views/settings/organizationMembers/inviteMember/orgRoleSelect.tsx","webpack:///./app/views/settings/organizationMembers/organizationMemberDetail.tsx","webpack:///./app/views/settings/organizationTeams/roleOverwriteWarning.tsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nimport SelectControl, {\n  ControlProps,\n} from 'sentry/components/forms/controls/selectControl';\nimport {MemberRole} from 'sentry/types';\n\ntype OptionType = {\n  details: React.ReactNode;\n  disabled: boolean;\n  label: string;\n  value: string;\n};\n\ntype Props = Omit<ControlProps<OptionType>, 'onChange' | 'value'> & {\n  disableUnallowed: boolean;\n  roles: MemberRole[];\n  /**\n   * Narrower type than SelectControl because there is no empty value\n   */\n  onChange?: (value: OptionType) => void;\n  value?: string | null;\n};\n\nfunction RoleSelectControl({roles, disableUnallowed, ...props}: Props) {\n  return (\n    <SelectControl\n      options={roles?.map(\n        (r: MemberRole) =>\n          ({\n            value: r.id,\n            label: r.name,\n            disabled: (disableUnallowed && !r.allowed) || r.isRetired,\n            details: <Details>{r.desc}</Details>,\n          } as OptionType)\n      )}\n      showDividers\n      {...props}\n    />\n  );\n}\n\nexport default RoleSelectControl;\n\nconst Details = styled('span')`\n  display: inline-block;\n  width: 20rem;\n`;\n","import styled from '@emotion/styled';\n\nimport {ControlProps} from 'sentry/components/forms/controls/selectControl';\nimport RoleSelectControl from 'sentry/components/roleSelectControl';\nimport {space} from 'sentry/styles/space';\nimport {Organization, Team, TeamMember, TeamRole} from 'sentry/types';\nimport {getEffectiveOrgRole} from 'sentry/utils/orgRole';\nimport {\n  hasOrgRoleOverwrite,\n  RoleOverwriteIcon,\n} from 'sentry/views/settings/organizationTeams/roleOverwriteWarning';\n\ninterface Props {\n  member: TeamMember;\n  onChangeTeamRole: (newRole: TeamRole['id'] | string) => void;\n  organization: Organization;\n  team: Team;\n  disabled?: boolean;\n  size?: ControlProps['size'];\n}\n\nfunction TeamRoleSelect({\n  organization,\n  team,\n  member,\n  onChangeTeamRole,\n  disabled,\n  size,\n}: Props) {\n  const {orgRoleList, teamRoleList, features} = organization;\n  if (!features.includes('team-roles')) {\n    return null;\n  }\n\n  // Determine the org-role, including if the current team has an org role\n  // and adding the user to the current team changes their minimum team-role\n  const possibleOrgRoles = [member.orgRole];\n  if (member.groupOrgRoles && member.groupOrgRoles.length > 0) {\n    possibleOrgRoles.push(member.groupOrgRoles[0].role.id);\n  }\n  if (team.orgRole) {\n    possibleOrgRoles.push(team.orgRole);\n  }\n  const effectiveOrgRole = getEffectiveOrgRole(possibleOrgRoles, orgRoleList);\n\n  // If the member's org-role has elevated permission, their team-role will\n  // inherit scopes from it\n  if (hasOrgRoleOverwrite({orgRole: effectiveOrgRole?.id, orgRoleList, teamRoleList})) {\n    const effectiveTeamRole = teamRoleList.find(\n      r => r.id === effectiveOrgRole?.minimumTeamRole\n    );\n\n    return (\n      <RoleName>\n        {effectiveTeamRole?.name || effectiveOrgRole?.minimumTeamRole}\n        <IconWrapper>\n          <RoleOverwriteIcon\n            orgRole={effectiveOrgRole?.id}\n            orgRoleList={orgRoleList}\n            teamRoleList={teamRoleList}\n          />\n        </IconWrapper>\n      </RoleName>\n    );\n  }\n\n  const teamRoleId =\n    member.teamRole || // From TeamMemberEndpoint\n    member.teamRoles?.find(tr => tr.teamSlug === team.slug)?.role || // From OrgMemberDetailEndpoint\n    null;\n  const teamRole = teamRoleList.find(r => r.id === teamRoleId) || teamRoleList[0];\n\n  return (\n    <RoleSelectControl\n      disabled={disabled}\n      disableUnallowed={false}\n      roles={teamRoleList}\n      value={teamRole.id}\n      onChange={option => onChangeTeamRole(option.value)}\n      size={size}\n    />\n  );\n}\n\nexport default TeamRoleSelect;\n\nconst RoleName = styled('div')`\n  display: flex;\n  align-items: center;\n`;\nconst IconWrapper = styled('div')`\n  height: ${space(2)};\n  margin-left: ${space(1)};\n`;\n","import {Member} from 'sentry/types';\n\n// check to see if a member has been disabled because of the member limit\nexport default function isMemberDisabledFromLimit(member?: Member | null) {\n  return member?.flags['member-limit:restricted'] ?? false;\n}\n","import {OrgRole} from 'sentry/types';\n\nexport function getEffectiveOrgRole(\n  memberOrgRoles: string[],\n  orgRoleList: OrgRole[]\n): OrgRole {\n  const orgRoleMap = orgRoleList.reduce((acc, role, index) => {\n    acc[role.id] = {index, role};\n    return acc;\n  }, {});\n\n  // sort by ascending index (high to low priority)\n  memberOrgRoles.sort((a, b) => orgRoleMap[b].index - orgRoleMap[a].index);\n\n  return orgRoleMap[memberOrgRoles[0]]?.role;\n}\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport startCase from 'lodash/startCase';\n\nimport {Button} from 'sentry/components/button';\nimport EmptyMessage from 'sentry/components/emptyMessage';\nimport {TeamBadge} from 'sentry/components/idBadge/teamBadge';\nimport Link from 'sentry/components/links/link';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport {Panel, PanelBody, PanelHeader, PanelItem} from 'sentry/components/panels';\nimport TeamRoleSelect from 'sentry/components/teamRoleSelect';\nimport {IconSubtract} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\nimport {Member, Organization, Team} from 'sentry/types';\nimport {getEffectiveOrgRole} from 'sentry/utils/orgRole';\nimport {useTeams} from 'sentry/utils/useTeams';\nimport {RoleOverwritePanelAlert} from 'sentry/views/settings/organizationTeams/roleOverwriteWarning';\nimport {getButtonHelpText} from 'sentry/views/settings/organizationTeams/utils';\n\nimport {DropdownAddTeam, TeamSelectProps} from './utils';\n\ntype Props = TeamSelectProps & {\n  /**\n   * Member that this component is acting upon\n   */\n  member: Member;\n  /**\n   * Used when showing Teams for a Member\n   */\n  onChangeTeamRole: (teamSlug: string, teamRole: string) => void;\n  /**\n   * Used when showing Teams for a Member\n   */\n  selectedOrgRole: Member['orgRole'];\n  /**\n   * Used when showing Teams for a Member\n   */\n  selectedTeamRoles: Member['teamRoles'];\n};\n\nfunction TeamSelect({\n  disabled,\n  loadingTeams,\n  member,\n  selectedOrgRole,\n  selectedTeamRoles,\n  organization,\n  onAddTeam,\n  onRemoveTeam,\n  onCreateTeam,\n  onChangeTeamRole,\n}: Props) {\n  const {teams, onSearch, fetching: isLoadingTeams} = useTeams();\n  const {orgRoleList, teamRoleList} = organization;\n\n  const selectedTeamSlugs = new Set(selectedTeamRoles.map(tm => tm.teamSlug));\n  const selectedTeams = teams.filter(tm => selectedTeamSlugs.has(tm.slug));\n\n  // Determine if adding a team changes the minimum team-role\n  // Get org-roles from team membership, if any\n  const groupOrgRoles = selectedTeams\n    .filter(team => team.orgRole)\n    .map(team => team.orgRole as string);\n  if (selectedOrgRole) {\n    groupOrgRoles.push(selectedOrgRole);\n  }\n\n  // Sort them and to get the highest priority role\n  // Highest priority role may change minimum team role\n  const effectiveOrgRole = getEffectiveOrgRole(groupOrgRoles, orgRoleList);\n\n  const renderBody = () => {\n    if (selectedTeams.length === 0) {\n      return <EmptyMessage>{t('No Teams assigned')}</EmptyMessage>;\n    }\n\n    return (\n      <React.Fragment>\n        {organization.features.includes('team-roles') && effectiveOrgRole && (\n          <RoleOverwritePanelAlert\n            orgRole={effectiveOrgRole?.id}\n            orgRoleList={orgRoleList}\n            teamRoleList={teamRoleList}\n          />\n        )}\n\n        {selectedTeams.map(team => (\n          <TeamRow\n            key={team.slug}\n            disabled={disabled}\n            organization={organization}\n            team={team}\n            member={{\n              ...member,\n              groupOrgRoles: [{role: effectiveOrgRole, teamSlug: ''}],\n              orgRole: selectedOrgRole,\n              teamRoles: selectedTeamRoles,\n            }}\n            onChangeTeamRole={onChangeTeamRole}\n            onRemoveTeam={slug => onRemoveTeam(slug)}\n          />\n        ))}\n      </React.Fragment>\n    );\n  };\n\n  return (\n    <Panel>\n      <PanelHeader hasButtons>\n        {t('Team')}\n        <DropdownAddTeam\n          disabled={disabled}\n          isLoadingTeams={isLoadingTeams}\n          isAddingTeamToMember\n          canCreateTeam={false}\n          onSearch={onSearch}\n          onSelect={onAddTeam}\n          onCreateTeam={onCreateTeam}\n          organization={organization}\n          selectedTeams={selectedTeams.map(tm => tm.slug)}\n          teams={teams}\n        />\n      </PanelHeader>\n\n      <PanelBody>{loadingTeams ? <LoadingIndicator /> : renderBody()}</PanelBody>\n    </Panel>\n  );\n}\n\nfunction TeamRow({\n  disabled,\n  organization,\n  team,\n  member,\n  onRemoveTeam,\n  onChangeTeamRole,\n}: {\n  disabled: boolean;\n  member: Member;\n  onChangeTeamRole: Props['onChangeTeamRole'];\n  onRemoveTeam: Props['onRemoveTeam'];\n  organization: Organization;\n  team: Team;\n}) {\n  const hasOrgAdmin = organization.access.includes('org:admin');\n  const isIdpProvisioned = team.flags['idp:provisioned'];\n  const isPermissionGroup = team.orgRole !== null && !hasOrgAdmin;\n  const isRemoveDisabled = disabled || isIdpProvisioned || isPermissionGroup;\n\n  const buttonHelpText = getButtonHelpText(isIdpProvisioned, isPermissionGroup);\n  const orgRoleFromTeam = team.orgRole ? `${startCase(team.orgRole)} Team` : null;\n\n  return (\n    <TeamPanelItem data-test-id=\"team-row-for-member\">\n      <TeamPanelItemLeft>\n        <Link to={`/settings/${organization.slug}/teams/${team.slug}/`}>\n          <TeamBadge team={team} />\n        </Link>\n      </TeamPanelItemLeft>\n\n      <TeamOrgRole>{orgRoleFromTeam}</TeamOrgRole>\n\n      {organization.features.includes('team-roles') && (\n        <RoleSelectWrapper>\n          <TeamRoleSelect\n            disabled={disabled}\n            size=\"xs\"\n            organization={organization}\n            team={team}\n            member={member}\n            onChangeTeamRole={newRole => onChangeTeamRole(team.slug, newRole)}\n          />\n        </RoleSelectWrapper>\n      )}\n\n      <Button\n        size=\"xs\"\n        icon={<IconSubtract isCircled size=\"xs\" />}\n        title={buttonHelpText}\n        disabled={isRemoveDisabled}\n        onClick={() => onRemoveTeam(team.slug)}\n      >\n        {t('Remove')}\n      </Button>\n    </TeamPanelItem>\n  );\n}\n\nconst TeamPanelItem = styled(PanelItem)`\n  padding: ${space(2)};\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst TeamPanelItemLeft = styled('div')`\n  flex-grow: 4;\n`;\n\nconst TeamOrgRole = styled('div')`\n  min-width: 90px;\n  flex-grow: 1;\n  display: flex;\n  justify-content: center;\n`;\n\nconst RoleSelectWrapper = styled('div')`\n  min-width: 200px;\n  margin-right: ${space(2)};\n`;\n\nexport default TeamSelect;\n","import {Component} from 'react';\nimport styled from '@emotion/styled';\n\nimport {\n  Panel,\n  PanelAlert,\n  PanelBody,\n  PanelHeader,\n  PanelItem,\n} from 'sentry/components/panels';\nimport Radio from 'sentry/components/radio';\nimport {t, tct} from 'sentry/locale';\nimport {OrgRole} from 'sentry/types';\nimport TextBlock from 'sentry/views/settings/components/text/textBlock';\n\nconst Label = styled('label')`\n  display: flex;\n  flex: 1;\n  align-items: center;\n  margin-bottom: 0;\n`;\n\ntype Props = {\n  disabled: boolean;\n  enforceAllowed: boolean;\n  enforceIdpRoleRestricted: boolean;\n  enforceRetired: boolean;\n  isCurrentUser: boolean;\n  roleList: OrgRole[];\n  roleSelected: string;\n  setSelected: (id: string) => void;\n};\n\nclass OrganizationRoleSelect extends Component<Props> {\n  render() {\n    const {\n      disabled,\n      enforceRetired,\n      enforceAllowed,\n      isCurrentUser,\n      roleList,\n      enforceIdpRoleRestricted,\n      roleSelected,\n      setSelected,\n    } = this.props;\n\n    return (\n      <Panel>\n        <PanelHeader>\n          <div>{t('Organization Role')}</div>\n        </PanelHeader>\n        {enforceIdpRoleRestricted && (\n          <PanelAlert>\n            {tct(\n              \"[person] organization-level role is managed through your organization's identity provider.\",\n              {person: isCurrentUser ? 'Your' : \"This member's\"}\n            )}\n          </PanelAlert>\n        )}\n\n        <PanelBody>\n          {roleList.map(role => {\n            const {desc, name, id, allowed, isRetired: roleRetired} = role;\n\n            const isRetired = enforceRetired && roleRetired;\n            const isDisabled =\n              disabled ||\n              isRetired ||\n              (enforceAllowed && !allowed) ||\n              enforceIdpRoleRestricted;\n\n            return (\n              <PanelItem\n                key={id}\n                onClick={() => !isDisabled && setSelected(id)}\n                css={!isDisabled ? {} : {color: 'grey', cursor: 'default'}}\n              >\n                <Label>\n                  <Radio id={id} value={name} checked={id === roleSelected} readOnly />\n                  <div style={{flex: 1, padding: '0 16px'}}>\n                    {name}\n                    <TextBlock noMargin>\n                      <div className=\"help-block\">{desc}</div>\n                    </TextBlock>\n                  </div>\n                </Label>\n              </PanelItem>\n            );\n          })}\n        </PanelBody>\n      </Panel>\n    );\n  }\n}\n\nexport default OrganizationRoleSelect;\n","import {Fragment} from 'react';\nimport {RouteComponentProps} from 'react-router';\nimport styled from '@emotion/styled';\nimport * as Sentry from '@sentry/react';\nimport isEqual from 'lodash/isEqual';\n\nimport {removeAuthenticator} from 'sentry/actionCreators/account';\nimport {\n  addErrorMessage,\n  addLoadingMessage,\n  addSuccessMessage,\n} from 'sentry/actionCreators/indicator';\nimport {resendMemberInvite, updateMember} from 'sentry/actionCreators/members';\nimport {Button} from 'sentry/components/button';\nimport ButtonBar from 'sentry/components/buttonBar';\nimport Confirm from 'sentry/components/confirm';\nimport DateTime from 'sentry/components/dateTime';\nimport NotFound from 'sentry/components/errors/notFound';\nimport FieldGroup from 'sentry/components/forms/fieldGroup';\nimport HookOrDefault from 'sentry/components/hookOrDefault';\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport {Panel, PanelBody, PanelHeader, PanelItem} from 'sentry/components/panels';\nimport TextCopyInput from 'sentry/components/textCopyInput';\nimport {Tooltip} from 'sentry/components/tooltip';\nimport {IconRefresh} from 'sentry/icons';\nimport {t, tct} from 'sentry/locale';\nimport configStore from 'sentry/stores/configStore';\nimport {space} from 'sentry/styles/space';\nimport {Member, Organization} from 'sentry/types';\nimport isMemberDisabledFromLimit from 'sentry/utils/isMemberDisabledFromLimit';\nimport Teams from 'sentry/utils/teams';\nimport {normalizeUrl} from 'sentry/utils/withDomainRequired';\nimport withOrganization from 'sentry/utils/withOrganization';\nimport AsyncView from 'sentry/views/asyncView';\nimport SettingsPageHeader from 'sentry/views/settings/components/settingsPageHeader';\nimport TeamSelectForMember from 'sentry/views/settings/components/teamSelect/teamSelectForMember';\n\nimport OrganizationRoleSelect from './inviteMember/orgRoleSelect';\n\nconst MULTIPLE_ORGS = t('Cannot be reset since user is in more than one organization');\nconst NOT_ENROLLED = t('Not enrolled in two-factor authentication');\nconst NO_PERMISSION = t('You do not have permission to perform this action');\nconst TWO_FACTOR_REQUIRED = t(\n  'Cannot be reset since two-factor is required for this organization'\n);\n\ntype RouteParams = {\n  memberId: string;\n};\n\ntype Props = {\n  organization: Organization;\n} & RouteComponentProps<RouteParams, {}>;\n\ntype State = {\n  groupOrgRoles: Member['groupOrgRoles']; // Form state\n  member: Member | null;\n  orgRole: Member['orgRole']; // Form state\n  teamRoles: Member['teamRoles']; // Form state\n} & AsyncView['state'];\n\nconst DisabledMemberTooltip = HookOrDefault({\n  hookName: 'component:disabled-member-tooltip',\n  defaultComponent: ({children}) => <Fragment>{children}</Fragment>,\n});\n\nclass OrganizationMemberDetail extends AsyncView<Props, State> {\n  get hasTeamRoles() {\n    const {organization} = this.props;\n    return organization.features.includes('team-roles');\n  }\n\n  getDefaultState(): State {\n    return {\n      ...super.getDefaultState(),\n      groupOrgRoles: [],\n      member: null,\n      orgRole: '',\n      teamRoles: [],\n    };\n  }\n\n  getEndpoints(): ReturnType<AsyncView['getEndpoints']> {\n    const {organization, params} = this.props;\n    return [\n      ['member', `/organizations/${organization.slug}/members/${params.memberId}/`],\n    ];\n  }\n\n  onRequestSuccess({data, stateKey}: {data: Member; stateKey: string}) {\n    if (stateKey === 'member') {\n      const {orgRole, teamRoles, groupOrgRoles} = data;\n      this.setState({\n        orgRole,\n        teamRoles,\n        groupOrgRoles,\n      });\n    }\n  }\n\n  handleSave = async () => {\n    const {organization, params} = this.props;\n    const {orgRole, teamRoles} = this.state;\n\n    addLoadingMessage(t('Saving...'));\n    this.setState({busy: true});\n\n    try {\n      const updatedMember = await updateMember(this.api, {\n        orgId: organization.slug,\n        memberId: params.memberId,\n        data: {orgRole, teamRoles} as any,\n      });\n      this.setState({\n        member: updatedMember,\n        orgRole: updatedMember.orgRole,\n        teamRoles: updatedMember.teamRoles,\n        busy: false,\n      });\n      addSuccessMessage(t('Saved'));\n    } catch (resp) {\n      const errorMessage =\n        (resp && resp.responseJSON && resp.responseJSON.detail) || t('Could not save...');\n      this.setState({busy: false});\n      addErrorMessage(errorMessage);\n    }\n  };\n\n  handleInvite = async (regenerate: boolean) => {\n    const {organization, params} = this.props;\n\n    addLoadingMessage(t('Sending invite...'));\n\n    this.setState({busy: true});\n\n    try {\n      const data = await resendMemberInvite(this.api, {\n        orgId: organization.slug,\n        memberId: params.memberId,\n        regenerate,\n      });\n\n      addSuccessMessage(t('Sent invite!'));\n\n      if (regenerate) {\n        this.setState(state => ({member: {...state.member, ...data}}));\n      }\n    } catch (_err) {\n      addErrorMessage(t('Could not send invite'));\n    }\n\n    this.setState({busy: false});\n  };\n\n  handle2faReset = async () => {\n    const {organization, router} = this.props;\n    const {user} = this.state.member!;\n\n    const requests =\n      user?.authenticators.map(auth => removeAuthenticator(this.api, user.id, auth.id)) ??\n      [];\n\n    try {\n      await Promise.all(requests);\n      router.push(normalizeUrl(`/settings/${organization.slug}/members/`));\n      addSuccessMessage(t('All authenticators have been removed'));\n    } catch (err) {\n      addErrorMessage(t('Error removing authenticators'));\n      Sentry.captureException(err);\n    }\n  };\n\n  onAddTeam = (teamSlug: string) => {\n    const teamRoles = [...this.state.teamRoles];\n    const i = teamRoles.findIndex(r => r.teamSlug === teamSlug);\n    if (i !== -1) {\n      return;\n    }\n\n    teamRoles.push({teamSlug, role: null});\n    this.setState({teamRoles});\n  };\n\n  onRemoveTeam = (teamSlug: string) => {\n    const teamRoles = this.state.teamRoles.filter(r => r.teamSlug !== teamSlug);\n    this.setState({teamRoles});\n  };\n\n  onChangeOrgRole = orgRole => this.setState({orgRole});\n\n  onChangeTeamRole = (teamSlug: string, role: string) => {\n    if (!this.hasTeamRoles) {\n      return;\n    }\n\n    const teamRoles = [...this.state.teamRoles];\n    const i = teamRoles.findIndex(r => r.teamSlug === teamSlug);\n    if (i === -1) {\n      return;\n    }\n\n    teamRoles[i] = {...teamRoles[i], role};\n    this.setState({teamRoles});\n  };\n\n  showResetButton = () => {\n    const {organization} = this.props;\n    const {member} = this.state;\n    const {user} = member!;\n\n    if (!user || !user.authenticators || organization.require2FA) {\n      return false;\n    }\n    const hasAuth = user.authenticators.length >= 1;\n    return hasAuth && user.canReset2fa;\n  };\n\n  getTooltip = (): string => {\n    const {organization} = this.props;\n    const {member} = this.state;\n    const {user} = member!;\n\n    if (!user) {\n      return '';\n    }\n\n    if (!user.authenticators) {\n      return NO_PERMISSION;\n    }\n    if (!user.authenticators.length) {\n      return NOT_ENROLLED;\n    }\n    if (!user.canReset2fa) {\n      return MULTIPLE_ORGS;\n    }\n    if (organization.require2FA) {\n      return TWO_FACTOR_REQUIRED;\n    }\n\n    return '';\n  };\n\n  get memberDeactivated() {\n    return isMemberDisabledFromLimit(this.state.member);\n  }\n\n  get hasFormChanged() {\n    const {member, orgRole, teamRoles} = this.state;\n    if (!member) {\n      return false;\n    }\n\n    if (orgRole !== member.orgRole || !isEqual(teamRoles, member.teamRoles)) {\n      return true;\n    }\n\n    return false;\n  }\n\n  renderMemberStatus(member: Member) {\n    if (this.memberDeactivated) {\n      return (\n        <em>\n          <DisabledMemberTooltip>{t('Deactivated')}</DisabledMemberTooltip>\n        </em>\n      );\n    }\n    if (member.expired) {\n      return <em>{t('Invitation Expired')}</em>;\n    }\n    if (member.pending) {\n      return <em>{t('Invitation Pending')}</em>;\n    }\n    return t('Active');\n  }\n\n  renderBody() {\n    const {organization} = this.props;\n    const {member, orgRole, teamRoles} = this.state;\n\n    if (!member) {\n      return <NotFound />;\n    }\n\n    const {access, features, orgRoleList} = organization;\n    const canEdit = access.includes('org:write') && !this.memberDeactivated;\n    const hasTeamRoles = features.includes('team-roles');\n\n    const {email, expired, pending, invite_link: inviteLink} = member;\n    const canResend = !expired;\n    const showAuth = !pending;\n    const currentUser = configStore.get('user');\n    const isCurrentUser = currentUser.email === email;\n\n    return (\n      <Fragment>\n        <SettingsPageHeader\n          title={\n            <Fragment>\n              <div>{member.name}</div>\n              <ExtraHeaderText>{t('Member Settings')}</ExtraHeaderText>\n            </Fragment>\n          }\n        />\n\n        <Panel>\n          <PanelHeader>{t('Basics')}</PanelHeader>\n\n          <PanelBody>\n            <PanelItem>\n              <Details>\n                <div>\n                  <DetailLabel>{t('Email')}</DetailLabel>\n                  <div>\n                    <ExternalLink href={`mailto:${email}`}>{email}</ExternalLink>\n                  </div>\n                </div>\n                <div>\n                  <DetailLabel>{t('Status')}</DetailLabel>\n                  <div data-test-id=\"member-status\">\n                    {this.renderMemberStatus(member)}\n                  </div>\n                </div>\n                <div>\n                  <DetailLabel>{t('Added')}</DetailLabel>\n                  <div>\n                    <DateTime dateOnly date={member.dateCreated} />\n                  </div>\n                </div>\n              </Details>\n            </PanelItem>\n            <PanelItem>\n              {inviteLink && (\n                <InviteSection>\n                  <InviteField>\n                    <DetailLabel>{t('Invite Link')}</DetailLabel>\n                    <TextCopyInput>{inviteLink}</TextCopyInput>\n                    <p className=\"help-block\">\n                      {t(\n                        'This invite link can be used by anyone who knows it. Keep it secure!'\n                      )}\n                    </p>\n                  </InviteField>\n                  <ButtonBar gap={1}>\n                    {canResend && (\n                      <Button\n                        data-test-id=\"resend-invite\"\n                        onClick={() => this.handleInvite(false)}\n                      >\n                        {t('Resend Invite')}\n                      </Button>\n                    )}\n                    <Button\n                      onClick={() => this.handleInvite(true)}\n                      title={t(\n                        'Generate New Invite. This will invalidate the previous invite link!'\n                      )}\n                      priority=\"danger\"\n                      aria-label={t('Generate New Invite')}\n                      icon={<IconRefresh size=\"sm\" />}\n                    />\n                  </ButtonBar>\n                </InviteSection>\n              )}\n            </PanelItem>\n          </PanelBody>\n        </Panel>\n\n        {showAuth && (\n          <Panel>\n            <PanelHeader>{t('Authentication')}</PanelHeader>\n            <PanelBody>\n              <FieldGroup\n                alignRight\n                flexibleControlStateSize\n                label={t('Reset two-factor authentication')}\n                help={t(\n                  'Resetting two-factor authentication will remove all two-factor authentication methods for this member.'\n                )}\n              >\n                <Tooltip disabled={this.showResetButton()} title={this.getTooltip()}>\n                  <Confirm\n                    disabled={!this.showResetButton()}\n                    message={tct(\n                      'Are you sure you want to disable all two-factor authentication methods for [name]?',\n                      {name: member.name ? member.name : 'this member'}\n                    )}\n                    onConfirm={this.handle2faReset}\n                  >\n                    <Button priority=\"danger\">\n                      {t('Reset two-factor authentication')}\n                    </Button>\n                  </Confirm>\n                </Tooltip>\n              </FieldGroup>\n            </PanelBody>\n          </Panel>\n        )}\n\n        <OrganizationRoleSelect\n          enforceAllowed={false}\n          enforceIdpRoleRestricted={member.flags['idp:role-restricted']}\n          enforceRetired={hasTeamRoles}\n          isCurrentUser={isCurrentUser}\n          disabled={!canEdit}\n          roleList={orgRoleList}\n          roleSelected={orgRole}\n          setSelected={this.onChangeOrgRole}\n        />\n\n        <Teams slugs={member.teams}>\n          {({initiallyLoaded}) => (\n            <Fragment>\n              <TeamSelectForMember\n                disabled={!canEdit}\n                organization={organization}\n                member={member}\n                selectedOrgRole={orgRole}\n                selectedTeamRoles={teamRoles}\n                onChangeTeamRole={this.onChangeTeamRole}\n                onAddTeam={this.onAddTeam}\n                onRemoveTeam={this.onRemoveTeam}\n                loadingTeams={!initiallyLoaded}\n              />\n            </Fragment>\n          )}\n        </Teams>\n\n        <Footer>\n          <Button\n            priority=\"primary\"\n            busy={this.state.busy}\n            onClick={this.handleSave}\n            disabled={!canEdit || !this.hasFormChanged}\n          >\n            {t('Save Member')}\n          </Button>\n        </Footer>\n      </Fragment>\n    );\n  }\n}\n\nexport default withOrganization(OrganizationMemberDetail);\n\nconst ExtraHeaderText = styled('div')`\n  color: ${p => p.theme.gray300};\n  font-weight: normal;\n  font-size: ${p => p.theme.fontSizeLarge};\n`;\n\nconst Details = styled('div')`\n  display: grid;\n  grid-auto-flow: column;\n  grid-template-columns: 2fr 1fr 1fr;\n  gap: ${space(2)};\n  width: 100%;\n\n  @media (max-width: ${p => p.theme.breakpoints.small}) {\n    grid-auto-flow: row;\n    grid-template-columns: auto;\n  }\n`;\n\nconst DetailLabel = styled('div')`\n  font-weight: bold;\n  margin-bottom: ${space(0.5)};\n  color: ${p => p.theme.textColor};\n`;\n\nconst InviteField = styled('div')`\n  flex-grow: 1;\n`;\n\nconst InviteSection = styled('div')`\n  flex-grow: 1;\n  display: flex;\n  gap: ${space(1)};\n`;\n\nconst Footer = styled('div')`\n  display: flex;\n  justify-content: flex-end;\n`;\n","import {PanelAlert} from 'sentry/components/panels';\nimport {Tooltip} from 'sentry/components/tooltip';\nimport {IconInfo} from 'sentry/icons';\nimport {tct} from 'sentry/locale';\nimport {OrgRole, TeamRole} from 'sentry/types';\n\ntype Props = {\n  orgRole: OrgRole['id'] | undefined;\n  orgRoleList: OrgRole[];\n  teamRoleList: TeamRole[];\n  isSelf?: boolean;\n};\n\nexport function RoleOverwriteIcon(props: Props) {\n  const hasOverride = hasOrgRoleOverwrite(props);\n  if (!hasOverride) {\n    return null;\n  }\n\n  return (\n    <Tooltip title={getOverwriteString(props)}>\n      <IconInfo size=\"sm\" color=\"gray300\" />\n    </Tooltip>\n  );\n}\n\nexport function RoleOverwritePanelAlert(props: Props) {\n  const hasOverride = hasOrgRoleOverwrite(props);\n  if (!hasOverride) {\n    return null;\n  }\n\n  return (\n    <PanelAlert data-test-id=\"alert-role-overwrite\">\n      {getOverwriteString(props)}\n    </PanelAlert>\n  );\n}\n\n/**\n * Check that the user's org role has a minimum team role that maps to the lowest\n * possible team role\n */\nexport function hasOrgRoleOverwrite(props: Props) {\n  const {orgRole, orgRoleList, teamRoleList} = props;\n\n  const orgRoleObj = orgRoleList.find(r => r.id === orgRole);\n  return teamRoleList.findIndex(r => r.id === orgRoleObj?.minimumTeamRole) > 0;\n}\n\n/**\n * Standardize string so situations where org-level vs team-level roles is easier to recognize\n */\nexport function getOverwriteString(props: Props) {\n  const {orgRole, orgRoleList, teamRoleList, isSelf} = props;\n  const orgRoleObj = orgRoleList.find(r => r.id === orgRole);\n  const teamRoleObj = teamRoleList.find(r => r.id === orgRoleObj?.minimumTeamRole);\n  if (!orgRoleObj || !teamRoleObj) {\n    return '';\n  }\n\n  return tct(\n    '[selfNoun] organization role as [article] [orgRole] has granted [selfPronoun] a minimum team-level role of [teamRole]',\n    {\n      selfNoun: isSelf ? 'Your' : \"This user's\",\n      selfPronoun: isSelf ? 'you' : 'them',\n      article: 'AEIOU'.includes(orgRoleObj.name[0]) ? 'an' : 'a',\n      orgRole: <strong>{orgRoleObj.name}</strong>,\n      teamRole: <strong>{teamRoleObj.name}</strong>,\n    }\n  );\n}\n\nexport default RoleOverwriteIcon;\n"],"names":["RoleSelectControl","_ref","roles","disableUnallowed","props","_jsx","SelectControl","options","map","r","value","id","label","name","disabled","allowed","isRetired","details","Details","children","desc","showDividers","displayName","_styled","target","styles","TeamRoleSelect","organization","team","member","onChangeTeamRole","size","orgRoleList","teamRoleList","features","includes","possibleOrgRoles","orgRole","groupOrgRoles","length","push","role","effectiveOrgRole","getEffectiveOrgRole","hasOrgRoleOverwrite","effectiveTeamRole","find","minimumTeamRole","_jsxs","RoleName","IconWrapper","RoleOverwriteIcon","teamRoleId","teamRole","teamRoles","tr","teamSlug","slug","onChange","option","space","isMemberDisabledFromLimit","flags","memberOrgRoles","orgRoleMap","reduce","acc","index","sort","a","b","TeamSelect","loadingTeams","selectedOrgRole","selectedTeamRoles","onAddTeam","onRemoveTeam","onCreateTeam","teams","onSearch","fetching","isLoadingTeams","useTeams","selectedTeamSlugs","Set","tm","selectedTeams","filter","has","Panel","PanelHeader","hasButtons","t","DropdownAddTeam","isAddingTeamToMember","canCreateTeam","onSelect","PanelBody","LoadingIndicator","EmptyMessage","React","RoleOverwritePanelAlert","TeamRow","_ref2","hasOrgAdmin","access","isIdpProvisioned","isPermissionGroup","isRemoveDisabled","buttonHelpText","getButtonHelpText","orgRoleFromTeam","startCase","TeamPanelItem","TeamPanelItemLeft","Link","to","TeamBadge","TeamOrgRole","RoleSelectWrapper","newRole","Button","icon","IconSubtract","isCircled","title","onClick","PanelItem","Label","OrganizationRoleSelect","Component","render","enforceRetired","enforceAllowed","isCurrentUser","roleList","enforceIdpRoleRestricted","roleSelected","setSelected","this","PanelAlert","tct","person","roleRetired","isDisabled","css","color","cursor","Radio","checked","readOnly","style","flex","padding","TextBlock","noMargin","className","MULTIPLE_ORGS","NOT_ENROLLED","NO_PERMISSION","TWO_FACTOR_REQUIRED","DisabledMemberTooltip","HookOrDefault","hookName","defaultComponent","Fragment","OrganizationMemberDetail","AsyncView","constructor","arguments","_defineProperty","async","params","state","addLoadingMessage","setState","busy","updatedMember","updateMember","api","orgId","memberId","data","addSuccessMessage","resp","errorMessage","responseJSON","detail","addErrorMessage","resendMemberInvite","regenerate","_err","router","user","requests","authenticators","auth","removeAuthenticator","Promise","all","normalizeUrl","err","Sentry","findIndex","hasTeamRoles","i","require2FA","canReset2fa","getDefaultState","super","getEndpoints","onRequestSuccess","stateKey","memberDeactivated","hasFormChanged","isEqual","renderMemberStatus","expired","pending","renderBody","NotFound","canEdit","email","invite_link","inviteLink","canResend","showAuth","configStore","SettingsPageHeader","ExtraHeaderText","DetailLabel","ExternalLink","href","DateTime","dateOnly","date","dateCreated","InviteSection","InviteField","TextCopyInput","ButtonBar","gap","handleInvite","priority","IconRefresh","FieldGroup","alignRight","flexibleControlStateSize","help","Tooltip","showResetButton","getTooltip","Confirm","message","onConfirm","handle2faReset","onChangeOrgRole","Teams","slugs","_ref3","initiallyLoaded","TeamSelectForMember","Footer","handleSave","withOrganization","p","theme","gray300","fontSizeLarge","breakpoints","small","textColor","getOverwriteString","IconInfo","orgRoleObj","isSelf","teamRoleObj","selfNoun","selfPronoun","article"],"sourceRoot":""}