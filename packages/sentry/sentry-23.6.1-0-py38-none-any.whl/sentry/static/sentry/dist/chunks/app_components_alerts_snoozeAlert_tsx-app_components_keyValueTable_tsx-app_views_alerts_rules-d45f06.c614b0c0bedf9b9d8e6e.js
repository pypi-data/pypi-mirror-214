"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_alerts_snoozeAlert_tsx-app_components_keyValueTable_tsx-app_views_alerts_rules-d45f06"],{"./app/components/alerts/snoozeAlert.tsx":(e,t,s)=>{s.d(t,{Z:()=>E});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=s("../node_modules/react/index.js"),n=s("../node_modules/react-router/es/index.js"),r=s("./app/actionCreators/indicator.tsx"),l=s("./app/components/button.tsx"),i=s("./app/components/buttonBar.tsx"),d=s("./app/components/dropdownMenu/index.tsx"),u=s("./app/icons/index.tsx"),m=s("./app/locale.tsx"),c=s("./app/types/alerts.tsx"),p=s("./app/utils/useApi.tsx"),h=s("./app/utils/useLocation.tsx"),b=s("./app/utils/useOrganization.tsx"),y=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function _(e){let{isSnoozed:t,onSnooze:s,projectSlug:o,ruleId:_,ruleActionCategory:E,hasAccess:g,type:v}=e;const S=(0,b.Z)(),w=(0,p.Z)(),D=(0,h.T)(),[T,H]=(0,a.useState)(!1),z="issue"===v?"rules":"alert-rules",L=(0,a.useCallback)((async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];H(!0);try{await w.requestPromise(`/projects/${S.slug}/${o}/${z}/${_}/snooze/`,{method:"POST",data:{target:e}}),a&&n.browserHistory.replace({pathname:D.pathname,query:{...D.query,mute:void 0}}),H(!1),(0,r.S9)((0,m.t)("Alert muted")),s({snooze:!t,snoozeCreatedBy:"You",snoozeForEveryone:"me"!==e})}catch(e){403===e.status?(0,r.Iw)((0,m.t)("You do not have permission to mute this alert")):410===e.status?(0,r.Iw)((0,m.t)("This alert has already been muted")):(0,r.Iw)((0,m.t)("Unable to mute this alert"))}}),[w,t,D.pathname,D.query,s,S.slug,o,_,z]),X=E===c.IA.ALL_DEFAULT?"me":"everyone";(0,a.useEffect)((()=>{"1"!==D.query.mute||t||L(X,!0)}),[D.query,t,L,X]);const f=[{key:"me",label:(0,m.t)("Mute for me"),onAction:()=>L("me"),hidden:E!==c.IA.SOME_DEFAULT},{key:"everyone",label:(0,m.t)("Mute for everyone"),onAction:()=>L("everyone"),hidden:E!==c.IA.ALL_DEFAULT}],N=f.filter((e=>!e.hidden)).length>0;return t?(0,y.tZ)(l.zx,{size:"sm",icon:(0,y.tZ)(u.i1,{}),disabled:T||!g,onClick:()=>async function(){H(!0);try{await w.requestPromise(`/projects/${S.slug}/${o}/${z}/${_}/snooze/`,{method:"DELETE"}),H(!1),(0,r.S9)((0,m.t)("Alert unmuted")),s({snooze:!t})}catch(e){403===e.status?(0,r.Iw)((0,m.t)("You do not have permission to unmute this alert")):(0,r.Iw)((0,m.t)("Unable to unmute this alert"))}}(),children:(0,m.t)("Unmute")}):(0,y.BX)(i.ZP,{children:[(0,y.tZ)(A,{size:"sm",icon:(0,y.tZ)(u.Pw,{}),disabled:T||!g,hasDropdown:N,onClick:()=>{L(X)},children:"me"===X?(0,m.t)("Mute for me"):(0,m.t)("Mute for everyone")}),E!==c.IA.NO_DEFAULT&&(0,y.tZ)(d.h,{size:"sm",trigger:e=>(0,y.tZ)(x,{...e,size:"sm","aria-label":(0,m.t)("Mute alert options"),icon:(0,y.tZ)(u.g6,{direction:"down",size:"xs"})}),items:f,isDisabled:T||!g})]})}_.displayName="SnoozeAlert";const E=_,x=(0,o.Z)(l.zx,{target:"ev8ogja1"})("box-shadow:none;border-radius:",(e=>e.theme.borderRadiusRight),";border-left:none;"),A=(0,o.Z)(l.zx,{target:"ev8ogja0"})("box-shadow:none;border-radius:",(e=>e.hasDropdown?e.theme.borderRadiusLeft:e.theme.borderRadius),";")},"./app/components/keyValueTable.tsx":(e,t,s)=>{s.d(t,{G:()=>i,v:()=>l});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=s("../node_modules/react/index.js"),n=s("./app/styles/space.tsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=(0,o.Z)("dl",{target:"ehev67y2"})("display:grid;grid-template-columns:50% 50%;",(e=>e.noMargin?"margin-bottom: 0;":null),";");function i(e){let{keyName:t,value:s}=e;return(0,r.BX)(a.Fragment,{children:[(0,r.tZ)(u,{children:t}),(0,r.tZ)(m,{children:s})]})}i.displayName="KeyValueTableRow";const d=e=>{let{theme:t}=e;return`\nfont-size: ${t.fontSizeMedium};\npadding: ${(0,n.D)(.5)} ${(0,n.D)(1)};\nfont-weight: normal;\nline-height: inherit;\n${e=>e.theme.overflowEllipsis};\n&:nth-of-type(2n-1) {\n  background-color: ${t.backgroundSecondary};\n}\n`},u=(0,o.Z)("dt",{target:"ehev67y1"})(d,";color:",(e=>e.theme.textColor),";"),m=(0,o.Z)("dd",{target:"ehev67y0"})(d,";color:",(e=>e.theme.subText),";text-align:right;")},"./app/views/alerts/rules/metric/details/constants.tsx":(e,t,s)=>{s.d(t,{N7:()=>r,U2:()=>u,UC:()=>d,e2:()=>i,ud:()=>n,v3:()=>l});var o=s("./app/locale.tsx"),a=s("./app/views/alerts/rules/metric/types.tsx");const n={[a.XH.SIX_HOURS]:(0,o.t)("Last 6 hours"),[a.XH.ONE_DAY]:(0,o.t)("Last 24 hours"),[a.XH.THREE_DAYS]:(0,o.t)("Last 3 days"),[a.XH.SEVEN_DAYS]:(0,o.t)("Last 7 days")},r="7d",l=[{label:(0,o.t)("Last 6 hours"),value:a.XH.SIX_HOURS},{label:(0,o.t)("Last 24 hours"),value:a.XH.ONE_DAY},{label:(0,o.t)("Last 3 days"),value:a.XH.THREE_DAYS},{label:(0,o.t)("Last 7 days"),value:a.XH.SEVEN_DAYS},{label:(0,o.t)("Last 14 days"),value:a.XH.FOURTEEN_DAYS}],i={[a.XH.SIX_HOURS]:6*a.Tb.ONE_HOUR*60*1e3,[a.XH.ONE_DAY]:60*a.Tb.ONE_DAY*1e3,[a.XH.THREE_DAYS]:3*a.Tb.ONE_DAY*60*1e3,[a.XH.SEVEN_DAYS]:7*a.Tb.ONE_DAY*60*1e3,[a.XH.FOURTEEN_DAYS]:14*a.Tb.ONE_DAY*60*1e3},d=(a.XH.FOURTEEN_DAYS,1e4),u=150}}]);
//# sourceMappingURL=../sourcemaps/app_components_alerts_snoozeAlert_tsx-app_components_keyValueTable_tsx-app_views_alerts_rules-d45f06.baf43383fb9b7cf8adf65da466d66176.js.map