"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_replays_contextIcon_tsx-app_components_replays_header_errorCount_tsx-app_compo-1e460f"],{"./app/components/events/interfaces/breadcrumbs/breadcrumb/type/icon.tsx":(e,t,s)=>{s.d(t,{Z:()=>i});var n=s("./app/icons/index.tsx"),r=s("./app/types/breadcrumbs.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const i=function(e){let{type:t}=e;switch(t){case r.kS.USER:case r.kS.UI:return(0,a.tZ)(n.qO,{size:"xs"});case r.kS.NAVIGATION:return(0,a.tZ)(n.tM,{size:"xs"});case r.kS.DEBUG:return(0,a.tZ)(n.w6,{size:"xs"});case r.kS.INFO:return(0,a.tZ)(n.aU,{size:"xs"});case r.kS.ERROR:return(0,a.tZ)(n.zC,{size:"xs"});case r.kS.HTTP:return(0,a.tZ)(n.Mr,{size:"xs",rotated:!0});case r.kS.WARNING:return(0,a.tZ)(n.FC,{size:"xs"});case r.kS.QUERY:return(0,a.tZ)(n.bv,{size:"xs"});case r.kS.SYSTEM:return(0,a.tZ)(n.yC,{size:"xs"});case r.kS.SESSION:return(0,a.tZ)(n.tr,{size:"xs"});case r.kS.TRANSACTION:return(0,a.tZ)(n.CR,{size:"xs"});default:return(0,a.tZ)(n.Ch,{size:"xs"})}}},"./app/components/events/interfaces/breadcrumbs/utils.tsx":(e,t,s)=>{s.d(t,{LP:()=>l,vf:()=>u,w3:()=>o});var n=s("./app/locale.tsx"),r=s("./app/types/breadcrumbs.tsx"),a=s("./app/types/event.tsx"),i=s("./app/utils.tsx");function o(e){switch(e){case r.kS.USER:case r.kS.UI:return{color:"purple300",description:(0,n.t)("User Action")};case r.kS.NAVIGATION:return{color:"green300",description:(0,n.t)("Navigation")};case r.kS.DEBUG:return{color:"purple300",description:(0,n.t)("Debug")};case r.kS.INFO:return{color:"blue300",description:(0,n.t)("Info")};case r.kS.ERROR:return{color:"red300",description:(0,n.t)("Error")};case r.kS.HTTP:return{color:"green300",description:(0,n.t)("HTTP request")};case r.kS.WARNING:return{color:"yellow300",description:(0,n.t)("Warning")};case r.kS.QUERY:return{color:"blue300",description:(0,n.t)("Query")};case r.kS.SYSTEM:return{color:"pink300",description:(0,n.t)("System")};case r.kS.SESSION:return{color:"pink300",description:(0,n.t)("Session")};case r.kS.TRANSACTION:return{color:"pink300",description:(0,n.t)("Transaction")};default:return{color:"gray300",description:(0,n.t)("Default")}}}function l(e){return e.map(((e,t)=>{const s=function(e){if(e.type===r.kS.EXCEPTION)return{...e,type:r.kS.ERROR};if(e.type===r.kS.DEFAULT&&(0,i.ri)(e?.category)){const[t,s]=e.category.split(".");if("ui"===t)return{...e,type:r.kS.UI};if("console"===t)return{...e,type:r.kS.DEBUG};if("navigation"===t)return{...e,type:r.kS.NAVIGATION};if("sentry"===t&&("transaction"===s||"event"===s))return{...e,type:r.kS.TRANSACTION}}return Object.values(r.kS).includes(e.type)?e:{...e,type:r.kS.DEFAULT}}(e),{color:n,description:a}=o(s.type);return{...s,id:t,color:n,description:a,level:s.level??r.nU.UNDEFINED}}))}function c(e){if(!e)return;const t=e.match(/^.*\/(.*?)(:\d+)/);return t?t[1]:e.split(/./)[0]}function u(e){const t=e.entries.find((e=>e.type===a.UZ.EXCEPTION));if(!t&&!e.message)return;const s=e.dateCreated;if(t){const{type:e,value:n,module:a}=t.data.values[0];return{type:r.kS.ERROR,level:r.nU.ERROR,category:c(a)||"exception",data:{type:e,value:n},timestamp:s}}const n=(e.tags||[]).find((e=>"level"===e.key));return{type:r.kS.INFO,level:n?.value||r.nU.UNDEFINED,category:"message",message:e.message,timestamp:s}}},"./app/components/objectInspector.tsx":(e,t,s)=>{s.d(t,{Z:()=>g});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("../node_modules/react/index.js"),a=s("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),i=s("../node_modules/@sentry-internal/react-inspector/dist/index.mjs"),o=s("./app/components/copyToClipboardButton.tsx"),l=s("./app/stores/configStore.tsx"),c=s("./app/stores/useLegacyStore.tsx"),u=s("./app/styles/space.tsx"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const m=(0,n.Z)("div",{target:"ee7fvf41"})("position:relative;padding-bottom:",(0,u.D)(1.5),";"),d=(0,n.Z)(o.m,{target:"ee7fvf40"})("position:absolute;top:0;right:",(0,u.D)(.5),";"),g=function(e){let{data:t,onCopy:s,showCopyButton:n,theme:o,...u}=e;const g=(0,c.X)(l.Z),f=(0,a.u)(),y="dark"===g.theme,h=(0,r.useMemo)((()=>({...y?i.i6:i.iU,BASE_COLOR:"inherit",ERROR_COLOR:f.red400,TREENODE_FONT_FAMILY:f.text.familyMono,TREENODE_FONT_SIZE:"inherit",TREENODE_LINE_HEIGHT:"inherit",BASE_BACKGROUND_COLOR:"none",ARROW_FONT_SIZE:"10px",OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES:1,...o})),[y,o,f.red400,f.text]),b=(0,p.tZ)(i.vu,{data:t,theme:h,...u});return n?(0,p.BX)(m,{children:[(0,p.tZ)(d,{borderless:!0,iconSize:"xs",onCopy:s,size:"xs",text:JSON.stringify(t,null,"\t")}),b]}):b}},"./app/components/replays/breadcrumbs/breadcrumbItem.tsx":(e,t,s)=>{s.d(t,{Z:()=>I});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("../node_modules/react/index.js"),a=s("./app/components/events/interfaces/breadcrumbs/breadcrumb/type/icon.tsx"),i=s("./app/components/idBadge/projectBadge.tsx"),o=s("./app/components/objectInspector.tsx"),l=s("./app/components/panels/index.tsx"),c=s("./app/components/replays/breadcrumbs/utils.tsx"),u=s("./app/components/tooltip.tsx"),p=s("./app/styles/space.tsx"),m=s("./app/types/breadcrumbs.tsx"),d=s("./app/utils/useProjects.tsx"),g=s("./app/views/replays/detail/iconWrapper.tsx"),f=s("./app/views/replays/detail/timestampButton.tsx"),y=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function h(e){let{crumb:t,expandPaths:s,index:n,isCurrent:i,isHovered:l,onClick:u,onDimensionChange:p,onMouseEnter:d,onMouseLeave:h,startTimestampMs:x,style:I}=e;const{color:N,description:R,projectSlug:Z,title:E,type:O}=(0,c.s_)(t),j=(0,r.useCallback)((e=>d&&d(t,e)),[d,t]),_=(0,r.useCallback)((e=>h&&h(t,e)),[h,t]),A=(0,r.useCallback)((e=>{u?.(t,e)}),[t,u]),M=(0,r.useCallback)(((e,t,s)=>p&&p(n,e,t,s)),[n,p]),D=t.type===m.kS.ERROR&&Z;return(0,y.BX)(w,{"aria-current":i,as:u?"button":"span",isCurrent:i,isHovered:l,onClick:A,onMouseEnter:j,onMouseLeave:_,style:I,children:[(0,y.tZ)(g.Z,{color:N,hasOccurred:!0,children:(0,y.tZ)(a.Z,{type:O})}),(0,y.BX)(k,{children:[(0,y.BX)(S,{children:[(0,y.tZ)(T,{children:E}),u?(0,y.tZ)(f.Z,{startTimestampMs:x,timestampMs:t.timestamp||""}):null]}),"string"==typeof R||(0,r.isValidElement)(R)?(0,y.tZ)(C,{title:R,showOnlyOnOverflow:!0,children:R}):(0,y.tZ)(v,{children:(0,y.tZ)(o.Z,{data:R,expandPaths:s,onExpand:M,theme:{TREENODE_FONT_SIZE:"0.7rem",ARROW_FONT_SIZE:"0.5rem"}})}),D&&(0,y.tZ)(b,{projectSlug:Z})]})]})}function b(e){let{projectSlug:t}=e;const{projects:s}=(0,d.Z)(),n=(0,r.useMemo)((()=>s.find((e=>e.slug===t))),[s,t]);return n?(0,y.tZ)(x,{children:(0,y.tZ)(i.Z,{project:n,avatarSize:16,disableLink:!0})}):(0,y.tZ)(x,{children:t})}h.displayName="BreadcrumbItem",b.displayName="CrumbProject";const x=(0,n.Z)("div",{target:"epgcswe6"})("font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.subText),";margin-top:",(0,p.D)(.25),";"),v=(0,n.Z)("div",{target:"epgcswe5"})("font-family:",(e=>e.theme.text.familyMono),";"),k=(0,n.Z)("div",{target:"epgcswe4"})({name:"jc8dhw",styles:"display:flex;flex-direction:column;overflow:hidden"}),S=(0,n.Z)("div",{target:"epgcswe3"})("display:flex;justify-content:space-between;gap:",(0,p.D)(1),";font-size:",(e=>e.theme.fontSizeSmall),";"),T=(0,n.Z)("span",{target:"epgcswe2"})((e=>e.theme.overflowEllipsis),";text-transform:capitalize;font-size:",(e=>e.theme.fontSizeMedium),";font-weight:600;color:",(e=>e.theme.gray400),";line-height:",(e=>e.theme.text.lineHeightBody),";"),C=(0,n.Z)(u.u,{target:"epgcswe1"})((e=>e.theme.overflowEllipsis),";font-size:0.7rem;font-variant-numeric:tabular-nums;line-height:",(e=>e.theme.text.lineHeightBody),";color:",(e=>e.theme.subText),";"),w=(0,n.Z)(l.Lv,{target:"epgcswe0"})("display:grid;grid-template-columns:max-content auto;align-items:flex-start;gap:",(0,p.D)(1),";width:100%;font-size:",(e=>e.theme.fontSizeMedium),";background:transparent;padding:",(0,p.D)(1),";text-align:left;border:none;position:relative;",(e=>e.isCurrent&&`background-color: ${e.theme.purple100};`)," ",(e=>e.isHovered&&`background-color: ${e.theme.surface200};`)," border-radius:",(e=>e.theme.borderRadius),";&:hover{background-color:",(e=>e.theme.surface200),";}&::after{content:'';position:absolute;left:19.5px;width:1px;background:",(e=>e.theme.gray200),";height:100%;}&:first-of-type::after{top:",(0,p.D)(1),";bottom:0;}&:last-of-type::after{top:0;height:",(0,p.D)(1),";}&:only-of-type::after{height:0;}"),I=(0,r.memo)(h)},"./app/components/replays/breadcrumbs/utils.tsx":(e,t,s)=>{s.d(t,{s_:()=>f});var n=s("./app/components/events/interfaces/breadcrumbs/utils.tsx"),r=s("./app/components/tooltip.tsx"),a=s("./app/icons/index.tsx"),i=s("./app/locale.tsx"),o=s("./app/types/breadcrumbs.tsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e,t){const s=Object.entries(t);return`${e}${s.length?s.map((e=>{let[t,s]=e;return`[${t}="${s}"]`})).join(""):""}`}function u(e){const t=e.data;return"ui.slowClickDetected"===e.category?(0,n.w3)("timeout"===t.endReason?o.kS.ERROR:o.kS.WARNING).color:e.color}function p(e){const t=e.data;return"ui.slowClickDetected"===e.category?"timeout"===t.endReason?o.kS.ERROR:o.kS.WARNING:e.type}function m(e){const t=e.data;if(t&&"object"==typeof t&&"action"in t&&"largest-contentful-paint"===t.action){if("number"==typeof t?.value)return`${Math.round(t.value)}ms`;if(void 0!==t?.duration)return(0,l.tZ)(r.u,{title:(0,i.t)("This replay uses a SDK version that is subject to inaccurate LCP values. Please upgrade to the latest version for best results if you have not already done so."),children:(0,l.tZ)(a.FC,{})})}if("ui.slowClickDetected"===e.category){const e=t.node;return"timeout"!==t.endReason?(0,i.t)("Click on %s took %s ms to have a visible effect",c(e.tagName,e.attributes),t.timeAfterClickMs):(0,i.t)("Click on %s did not cause a visible effect within %s ms",c(e.tagName,e.attributes),t.timeAfterClickMs)}if("replay.mutations"===e.category&&!t?.limit)return(0,i.t)("A large number of mutations was detected (%s). This can slow down the Replay SDK and impact your customers.",t?.count);if("replay.mutations"===e.category&&t?.limit)return(0,i.t)("A large number of mutations was detected (%s). Replay is now stopped to prevent poor performance for your customer.",t?.count);switch(e.type){case o.kS.NAVIGATION:return`${t?.to??""}`;case o.kS.DEFAULT:return t;default:return e.message||""}}function d(e){if("object"==typeof e.data&&null!==e.data&&"label"in e.data&&e.data.label)return e.data.label;if(!e.category)return e.message??e.description;const[t,s]=e.category.split(".")||[];return"slowClickDetected"===s?"timeout"===e.data?.endReason?"Dead Click":"Slow Click":"ui"===t?`User ${s||""}`:"replay"===t?"Replay":`${t} ${s||""}`}function g(e){return"object"==typeof e.data&&null!==e.data&&"project"in e.data?e.data.project:null}function f(e){return{color:u(e),type:p(e),title:d(e),description:m(e),projectSlug:g(e)}}},"./app/components/replays/contextIcon.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("../node_modules/react/index.js"),a=s("./app/components/events/contextSummary/utils.tsx"),i=s("./app/components/loadingMask.tsx"),o=s("./app/components/tooltip.tsx"),l=s("./app/styles/space.tsx"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const u=(0,r.lazy)((()=>Promise.resolve().then(s.bind(s,"./app/components/events/contextSummary/contextIcon.tsx")))),p=(0,n.Z)((e=>{let{className:t,name:s,version:n}=e;const l=(0,a.b)(s,n),p=(0,c.BX)(m,{children:[(0,c.tZ)("dt",{children:"Name:"}),(0,c.tZ)("dd",{children:s}),n?(0,c.tZ)("dt",{children:"Version:"}):null,n?(0,c.tZ)("dd",{children:n}):null]});return(0,c.BX)(o.u,{title:p,className:t,children:[(0,c.tZ)(r.Suspense,{fallback:(0,c.tZ)(i.Z,{}),children:(0,c.tZ)(u,{name:l,size:"sm"})}),n||null]})}),{target:"e1b6kqtt1"})("display:flex;gap:",(0,l.D)(1),";font-variant-numeric:tabular-nums;align-items:center;"),m=(0,n.Z)("dl",{target:"e1b6kqtt0"})("display:grid;grid-template-columns:1fr max-content;gap:",(0,l.D)(1)," ",(0,l.D)(3),";text-align:left;align-items:center;margin-bottom:0;"),d=p},"./app/components/replays/header/errorCount.tsx":(e,t,s)=>{s.d(t,{Z:()=>c});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("../node_modules/react/index.js"),a=s("./app/components/idBadge/projectBadge.tsx"),i=s("./app/icons/index.tsx"),o=s("./app/styles/space.tsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const c=(0,n.Z)((e=>{let{countErrors:t,project:s,className:n,hideIcon:o}=e;return t?(0,l.BX)("span",{className:n,children:[!o&&(0,l.tZ)(r.Fragment,{children:s?(0,l.tZ)(a.Z,{project:s,disableLink:!0,hideName:!0}):(0,l.tZ)(i.zC,{})}),t]}):(0,l.tZ)("span",{className:n,children:"0"})}),{target:"e1n88dwn0"})("display:flex;align-items:center;gap:",(0,o.D)(.5),";color:",(e=>e.countErrors>0?e.theme.red400:"inherit"),";font-variant-numeric:tabular-nums;")},"./app/components/replays/replayContext.tsx":(e,t,s)=>{s.d(t,{z:()=>v,M:()=>k});var n=s("../node_modules/react/index.js"),r=s("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),a=s("../node_modules/@sentry-internal/rrweb/es/rrweb/packages/rrweb/src/replay/index.js"),i=s("../node_modules/@sentry-internal/rrweb/es/rrweb/packages/rrweb/src/types.js"),o=s("./app/stores/configStore.tsx"),l=s("./app/stores/useLegacyStore.tsx"),c=s("./app/utils/analytics.tsx"),u=s("./app/utils/localStorage.tsx");const p="rgba(168, 196, 236, 0.75)",m=new Map;function d(e){let{replayer:t,nodeId:s}=e;if(!m.has(s))return!1;const n=m.get(s);return!(!n||!t.wrapper.contains(n.canvas)||(t.wrapper.removeChild(n.canvas),m.delete(s),0))}var g,f=s("./app/utils/useOrganization.tsx"),y=s("./app/utils/usePrevious.tsx"),h=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");!function(e){e.REPLAY_CONFIG="replay-config"}(g||(g={}));const b=(0,n.createContext)({clearAllHighlights:()=>{},currentHoverTime:void 0,currentTime:0,dimensions:{height:0,width:0},fastForwardSpeed:0,highlight:()=>{},initRoot:()=>{},isBuffering:!1,isFetching:!1,isFinished:!1,isPlaying:!1,isSkippingInactive:!0,removeHighlight:()=>{},replay:null,restart:()=>{},setCurrentHoverTime:()=>{},setCurrentTime:()=>{},setSpeed:()=>{},speed:1,togglePlayPause:()=>{},toggleSkipInactive:()=>{}});function x(e){u.Z.setItem(g.REPLAY_CONFIG,JSON.stringify(e))}function v(e){let{children:t,initialTimeOffsetMs:s,isFetching:v,replay:k,value:S={}}=e;const T=(0,l.X)(o.Z),C=(0,f.Z)(),w=k?.getRRWebEvents(),I=(0,n.useRef)(JSON.parse(u.Z.getItem(g.REPLAY_CONFIG)||"{}")),N=(0,r.u)(),R=(0,y.Z)(w),Z=w!==R,E=(0,n.useRef)(null),[O,j]=(0,n.useState)({height:0,width:0}),[_,A]=(0,n.useState)(),[M,D]=(0,n.useState)(!1),[U,P]=(0,n.useState)(-1),[z,F]=(0,n.useState)(I.current.skip??!0),[L,B]=(0,n.useState)(I.current.speed||1),[G,H]=(0,n.useState)(0),[W,V]=(0,n.useState)({target:-1,previous:-1}),$=(0,n.useRef)(void 0),q=(0,n.useRef)(!1),X=E.current?.getCurrentTime()===U,Y=e=>{j(e)},J=e=>{H(e.speed)},Q=()=>{H(0)},K=(0,n.useCallback)((e=>{let{nodeId:t,annotation:s,spotlight:n}=e;const r=E.current;r&&function(e){let{replayer:t,nodeId:s,annotation:n="",color:r,spotlight:a}=e;const{mouseTail:i,wrapper:o}=t,l=t.getMirror().getNode(s);if(!l||!("getBoundingClientRect"in l)||!t.iframe.contentDocument?.body?.contains(l))return null;const{top:c,left:u,width:d,height:g}=l.getBoundingClientRect(),f=r??p,y=i.cloneNode(),h=y.getContext("2d");if(!h)return null;h.fillStyle=f,a?(h.fillRect(0,0,y.width,y.height),h.clearRect(u,c,d,g)):h.fillRect(u,c,d,g),h.beginPath(),h.setLineDash([5,5]),h.moveTo(u,c),h.lineTo(u+d,c),h.lineTo(u+d,c+g),h.lineTo(u,c+g),h.closePath(),h.stroke(),h.font="24px Rubik",h.textAlign="right",h.textBaseline="bottom";const{width:b}=h.measureText(n);g<=40?(h.fillStyle="rgba(30, 30, 30, 0.75)",h.fillRect(u,c+g,b,30),h.fillStyle="white",h.fillText(n,u+b,c+g+30)):(h.fillStyle="rgba(30, 30, 30, 0.75)",h.fillRect(u+d-b,c+g-30,b,30),h.fillStyle="white",h.fillText(n,u+d,c+g)),m.set(s,{canvas:y}),o.insertBefore(y,i)}({replayer:r,nodeId:t,annotation:s,spotlight:n})}),[]),ee=(0,n.useCallback)((()=>{const e=E.current;e&&function(e){let{replayer:t}=e;for(const e of m.keys())d({replayer:t,nodeId:e})}({replayer:e})}),[]),te=(0,n.useCallback)((e=>{let{nodeId:t}=e;const s=E.current;s&&d({replayer:s,nodeId:t})}),[]),se=(0,n.useCallback)((()=>{P(E.current?.getCurrentTime()??-1),D(!1)}),[]),ne=(0,n.useCallback)((()=>E.current?Math.max(E.current.getCurrentTime(),0):0),[]),re=(0,n.useCallback)((e=>{const t=E.current;if(!t)return;const s=t.config;s&&t.setConfig({skipInactive:!1});const n=E.current?.getMetaData().totalTime,r=e>n?0:e;V({target:r,previous:ne()}),$.current&&window.clearTimeout($.current),s&&t.setConfig({skipInactive:!0}),M?($.current=window.setTimeout((()=>t.play(r)),0),D(!0)):($.current=window.setTimeout((()=>t.pause(r)),0),D(!1))}),[ne,M]),ae=(0,n.useCallback)((e=>{re(e),ee()}),[re,ee]),ie=(0,n.useCallback)((()=>{if(!q.current&&s&&w&&E.current){const{highlight:e,offsetMs:t}=s;t>0&&re(t),e&&(K(e),setTimeout((()=>{ee(),K(e)}))),q.current=!0}}),[ee,w,K,s,re]);(0,n.useEffect)(ee,[ee,M]);const oe=(0,n.useCallback)((e=>{if(void 0===w||null===e||v)return;if(E.current){if(!Z)return;if(0===E.current.iframe.contentDocument?.body.childElementCount)return;for(;e.firstChild;)e.removeChild(e.firstChild)}const t=new a.x(w,{root:e,blockClass:"sentry-block",mouseTail:{duration:750,lineCap:"round",lineWidth:2,strokeStyle:N.purple200},skipInactive:I.current.skip??!0,speed:I.current.speed||1});t.on(i.SA.Resize,Y),t.on(i.SA.Finish,se),t.on(i.SA.SkipStart,J),t.on(i.SA.SkipEnd,Q),E.current=t,ie()}),[w,v,N.purple200,se,Z,ie]),le=(0,n.useCallback)((e=>{const t=E.current;I.current={...I.current,speed:e},x(I.current),t&&(M?(t.pause(),t.setConfig({speed:e}),t.play(ne())):t.setConfig({speed:e}),B(e))}),[ne,M]),ce=(0,n.useCallback)((e=>{const t=E.current;t&&(e?t.play(ne()):t.pause(ne()),D(e),(0,c.Gi)("replay.play-pause",{organization:C,user_email:T.user.email,play:e}))}),[ne,T.user.email,C]);(0,n.useEffect)((()=>{const e=()=>{"visible"!==document.visibilityState&&ce(!1)};return E.current&&w&&(oe(E.current.wrapper.parentElement),document.addEventListener("visibilitychange",e)),()=>{document.removeEventListener("visibilitychange",e)}}),[oe,w,ce]);const ue=(0,n.useCallback)((()=>{E.current&&(E.current.play(0),D(!0))}),[]),pe=(0,n.useCallback)((e=>{const t=E.current;I.current={...I.current,skip:e},x(I.current),t&&(e!==t.config.skipInactive&&t.setConfig({skipInactive:e}),F(e))}),[]),me=function(e){const[t,s]=(0,n.useState)(0);return function(e){(0,n.useEffect)((()=>{const t=window.requestAnimationFrame(e);return()=>window.cancelAnimationFrame(t)}),[e])}((()=>s(e))),t}(ne),[de,ge]=-1!==W.target&&W.previous===me&&W.target!==W.previous?[!0,W.target]:[!1,me];return(0,n.useEffect)((()=>{!de&&w&&w.length>=2&&E.current&&ie()}),[de,w,ie]),(0,n.useEffect)((()=>{de||-1===W.target||V({target:-1,previous:-1})}),[de,W.target]),(0,h.tZ)(b.Provider,{value:{clearAllHighlights:ee,currentHoverTime:_,currentTime:ge,dimensions:O,fastForwardSpeed:G,highlight:K,initRoot:oe,isBuffering:de,isFetching:v,isFinished:X,isPlaying:M,isSkippingInactive:z,removeHighlight:te,replay:k,restart:ue,setCurrentHoverTime:A,setCurrentTime:ae,setSpeed:le,speed:L,togglePlayPause:ce,toggleSkipInactive:pe,...S},children:t})}v.displayName="Provider";const k=()=>(0,n.useContext)(b)},"./app/components/replays/utils.tsx":(e,t,s)=>{s.d(t,{DF:()=>u,DR:()=>p,NH:()=>o,PE:()=>d,Ul:()=>l,cs:()=>g,mr:()=>c}),s("../node_modules/core-js/modules/es.array.push.js");var n=s("./app/utils/formatters.tsx");const r=1e3,a=60*r,i=60*a;function o(e,t){return Math.abs(new Date(e).getTime()-t)}function l(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c(o(e,t),s)}function c(e,t){if(e<=0||isNaN(e))return t?"00:00.000":"00:00";const s=e/1e3;return(0,n.HE)(t?s:Math.floor(s))}function u(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,n=Math.floor(t/s);n-=e-n*t>0?1:0;const o=[1*i,30*a,20*a,15*a,10*a,5*a,2*a,1*a,30*r,10*r,5*r,1*r].reduce(((t,s)=>(t.set(s,Math.floor(e/s)),t)),new Map),[l,c]=Array.from(o.entries()).filter((e=>{let[t,s]=e;return s<=n})).reduce(((e,t)=>t[1]>e[1]?t:e),[0,0]);return{timespan:l,cols:c,remaining:(e-l*c)/l}}function p(e,t,s,n){const r=isNaN(t)?1:t;return s.map((t=>{const{timestamp:s}=t,a=+new Date(String(s)),i=isNaN(a)?0:a-e,o=Math.floor(i/r*(n-1))+1;return[Math.max(1,o),t]})).reduce(((e,t)=>{let[s,n]=t;return e.has(s)?e.get(s)?.push(n):e.set(s,[n]),e}),new Map)}function m(e,t){const s=e.startTimestamp<=t.startTimestamp&&t.startTimestamp<=e.endTimestamp,n=e.startTimestamp<=t.endTimestamp&&t.endTimestamp<=e.endTimestamp;return s||n}function d(e){if(!e.length)return[];const t=e.map((e=>{const t=1e3*e.startTimestamp,s=1e3*e.endTimestamp;return{spanCount:1,startTimestamp:t,endTimestamp:s,duration:s-t}})),[s,...n]=t,r=[s];for(const e of n){let t=!1;for(const s of r)if(m(s,e)){t=!0,s.spanCount+=1,s.startTimestamp=Math.min(s.startTimestamp,e.startTimestamp),s.endTimestamp=Math.max(s.endTimestamp,e.endTimestamp),s.duration=s.endTimestamp-s.startTimestamp;break}t||r.push(e)}return r}function g(e,t){return void 0===t||isNaN(t)||0===t?0:e/t}},"./app/components/replays/walker/urlWalker.tsx":(e,t,s)=>{s.d(t,{E:()=>C,j:()=>w});var n=s("../node_modules/react/index.js"),r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=s("./app/icons/index.tsx"),i=s("./app/styles/space.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e){let{items:t}=e;return(0,o.tZ)(c,{children:t.flatMap(((e,t)=>{const s=(0,o.tZ)(u,{children:e},`${t}-item`);return 0===t?s:[(0,o.tZ)(u,{role:"separator",children:(0,o.tZ)(p,{children:(0,o.tZ)(a.g6,{color:"gray500",size:"xs",direction:"right"})})},`${t}-chev`),s]}))})}l.displayName="ChevronDividedList";const c=(0,r.Z)("ul",{target:"e1f4npmv2"})("padding:0;margin:0;list-style:none;display:flex;gap:",(0,i.D)(.75),";flex-wrap:nowrap;align-items:center;overflow:hidden;"),u=(0,r.Z)("li",{target:"e1f4npmv1"})({name:"1k45uu9",styles:"display:flex;flex-direction:column;overflow:hidden;flex-shrink:0;&:first-child,&:last-child{flex-shrink:1;}"}),p=(0,r.Z)("span",{target:"e1f4npmv0"})("font-size:",(e=>e.theme.fontSizeMedium),";line-height:1;"),m=l;var d=s("./app/components/hovercard.tsx"),g=s("./app/components/replays/breadcrumbs/breadcrumbItem.tsx"),f=s("./app/components/textOverflow.tsx"),y=s("./app/locale.tsx"),h=s("./app/types/breadcrumbs.tsx"),b=s("./app/utils/replays/hooks/useCrumbHandlers.tsx");function x(e){let{crumbs:t,handleOnClick:s,startTimestampMs:n}=e;const{handleMouseEnter:r,handleMouseLeave:a}=(0,b.Z)(n),i=(0,o.tZ)(v,{children:t.map(((e,t)=>(0,o.tZ)("li",{children:(0,o.tZ)(g.Z,{crumb:e,isCurrent:!1,isHovered:!1,onClick:s,onMouseEnter:r,onMouseLeave:a,startTimestampMs:n})},e.id||t)))}),l=1===t.length?(c=t[0],c?.type===h.kS.NAVIGATION?c.data?.to?.split("?")?.[0]:c?.type===h.kS.INIT?c.data?.url:void 0):(0,y.tn)("%s Page","%s Pages",t.length);var c;return(0,o.tZ)(k,{children:(0,o.tZ)(S,{body:i,position:"right",children:(0,o.tZ)(f.Z,{children:l})})})}x.displayName="SummarySegment";const v=(0,r.Z)("ul",{target:"e1rum38g2"})({name:"i8ly6n",styles:"padding:0;margin:0;list-style:none;max-height:calc(100vh - 32px);overflow:scroll"}),k=(0,r.Z)("span",{target:"e1rum38g1"})("color:",(e=>e.theme.gray500),";font-size:",(e=>e.theme.fontSizeMedium),";line-height:0;"),S=(0,r.Z)((e=>{let{children:t,bodyClassName:s,...n}=e;return(0,o.tZ)(d.uI,{bodyClassName:s||" half-padding",...n,children:t})}),{target:"e1rum38g0"})(".half-padding{padding:",(0,i.D)(.5),";}"),T=function(e){let{crumbs:t,onClick:s,startTimestampMs:n}=e;const r=t.slice(0,1),a=t.slice(1,-1),i=t.slice(-1);return 0===t.length?[(0,o.tZ)(k,{children:(0,o.tZ)(f.Z,{children:(0,y.tn)("%s Page","%s Pages",0)})},"summary")]:t.length>3?[(0,o.tZ)(x,{crumbs:r,startTimestampMs:n,handleOnClick:s},"first"),(0,o.tZ)(x,{crumbs:a,startTimestampMs:n,handleOnClick:s},"summary"),(0,o.tZ)(x,{crumbs:i,startTimestampMs:n,handleOnClick:s},"last")]:t.map(((e,t)=>(0,o.tZ)(x,{crumbs:[e],startTimestampMs:n,handleOnClick:s},t)))},C=(0,n.memo)((function(e){let{crumbs:t,replayRecord:s}=e;const n=s.started_at.getTime(),{handleClick:r}=(0,b.Z)(n);return(0,o.tZ)(m,{items:T({crumbs:t,startTimestampMs:n,onClick:r})})})),w=(0,n.memo)((function(e){let{urls:t}=e;return(0,o.tZ)(m,{items:T({crumbs:t.map(I),startTimestampMs:0,onClick:null})})}));function I(e){return{type:h.kS.NAVIGATION,category:h.kS.NAVIGATION,level:h.nU.INFO,description:"Navigation",id:0,color:"green300",timestamp:void 0,data:{to:e}}}},"./app/types/breadcrumbs.tsx":(e,t,s)=>{let n,r;function a(e){return Object.values(n).includes(e)}function i(e){return![r.HTTP,r.NAVIGATION].includes(e.type)}s.d(t,{Q8:()=>a,T5:()=>i,kS:()=>r,nU:()=>n}),function(e){e.FATAL="fatal",e.ERROR="error",e.WARNING="warning",e.INFO="info",e.DEBUG="debug",e.UNDEFINED="undefined",e.LOG="log"}(n||(n={})),function(e){e.INFO="info",e.DEBUG="debug",e.MESSAGE="message",e.QUERY="query",e.UI="ui",e.USER="user",e.EXCEPTION="exception",e.WARNING="warning",e.ERROR="error",e.DEFAULT="default",e.HTTP="http",e.NAVIGATION="navigation",e.SYSTEM="system",e.SESSION="session",e.TRANSACTION="transaction",e.INIT="init"}(r||(r={}))},"./app/utils/replays/hooks/useActiveReplayTab.tsx":(e,t,s)=>{s.d(t,{R:()=>c,Z:()=>p});var n=s("../node_modules/react/index.js"),r=s("./app/components/searchSyntax/parser.tsx"),a=s("./app/utils/queryString.tsx"),i=s("./app/utils/useLocation.tsx"),o=s("./app/utils/useOrganization.tsx"),l=s("./app/utils/useUrlParams.tsx");let c;function u(e,t){const s=t.features.includes("session-replay-errors-tab");return e===c.ERRORS?s:e===c.ISSUES?!s:Object.values(c).includes(e)}!function(e){e.CONSOLE="console",e.DOM="dom",e.ERRORS="errors",e.ISSUES="issues",e.MEMORY="memory",e.NETWORK="network",e.TRACE="trace"}(c||(c={}));const p=function(){const e=function(){const e=(0,i.T)();return(0,n.useMemo)((()=>{const t=(0,r.UG)((0,a.ro)(e.query.query)||"");return t?.some((e=>"filter"===e.type&&e.key.text.startsWith("click.")))}),[e.query.query])?c.DOM:c.CONSOLE}(),t=(0,o.Z)(),{getParamValue:s,setParamValue:p}=(0,l.Z)("t_main",e),m=s()?.toLowerCase()??"";return{getActiveTab:(0,n.useCallback)((()=>u(m,t)?m:e),[t,m,e]),setActiveTab:(0,n.useCallback)((s=>{p(u(s.toLowerCase(),t)?s.toLowerCase():e)}),[t,p,e])}}},"./app/utils/replays/hooks/useCrumbHandlers.tsx":(e,t,s)=>{s.d(t,{Z:()=>c});var n=s("../node_modules/react/index.js"),r=s("./app/components/replays/replayContext.tsx"),a=s("./app/components/replays/utils.tsx"),i=s("./app/types/breadcrumbs.tsx"),o=s("./app/utils/replays/hooks/useActiveReplayTab.tsx"),l=s("./app/utils/useOrganization.tsx");const c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=(0,l.Z)(),{clearAllHighlights:s,highlight:c,removeHighlight:u,setCurrentHoverTime:p,setCurrentTime:m}=(0,r.M)(),{setActiveTab:d}=(0,o.Z)(),g=t.features.includes("session-replay-errors-tab"),f=(0,n.useRef)({id:null,timeoutId:null});return{handleMouseEnter:(0,n.useCallback)((t=>{f.current.id=t.id,f.current.timeoutId=setTimeout((()=>{e&&p((0,a.NH)(t.timestamp??"",e)),t.data&&"object"==typeof t.data&&"nodeId"in t.data&&(s(),c({nodeId:t.data.nodeId,annotation:t.data.label})),f.current.id=null,f.current.timeoutId=null}),250)}),[p,e,c,s]),handleMouseLeave:(0,n.useCallback)((e=>{if(f.current.id===e.id)return f.current.timeoutId&&clearTimeout(f.current.timeoutId),f.current.id=null,void(f.current.timeoutId=null);p(void 0),e.data&&"object"==typeof e.data&&"nodeId"in e.data&&u({nodeId:e.data.nodeId})}),[p,u]),handleClick:(0,n.useCallback)((t=>{if(void 0!==t.timestamp&&m((0,a.NH)(t.timestamp,e)),t.data&&"object"==typeof t.data&&"action"in t.data&&"largest-contentful-paint"===t.data.action)d("dom");else if("type"in t){if(g&&t.type===i.kS.ERROR)return void d("errors");switch(t.type){case i.kS.NAVIGATION:d("network");break;case i.kS.UI:d("dom");break;default:d("console")}}}),[m,e,d,g])}}},"./app/utils/replays/replayDataUtils.tsx":(e,t,s)=>{s.d(t,{so:()=>m,qC:()=>u,iz:()=>g,ay:()=>p,_O:()=>d});var n=s("../node_modules/lodash/first.js"),r=s.n(n),a=s("../node_modules/moment/moment.js"),i=s("./app/components/events/interfaces/breadcrumbs/utils.tsx"),o=s("./app/locale.tsx"),l=s("./app/types/breadcrumbs.tsx");function c(e){let t=e.length,s=1/0,n=-1/0;for(;t--;)s=e[t]<s?e[t]:s,n=e[t]>n?e[t]:n;return{min:s,max:n}}function u(e){const t=Object.fromEntries(Object.entries(e.user).filter((e=>{let[t,s]=e;return"display_name"!==t&&s})).map((e=>{let[t,s]=e;return[`user.${t}`,[s]]}))),s={...e.tags,...e.browser?.name?{"browser.name":[e.browser.name]}:{},...e.browser?.version?{"browser.version":[e.browser.version]}:{},...e.device?.brand?{"device.brand":[e.device.brand]}:{},...e.device?.family?{"device.family":[e.device.family]}:{},...e.device?.model_id?{"device.model_id":[e.device.model_id]}:{},...e.device?.name?{"device.name":[e.device.name]}:{},...e.platform?{platform:[e.platform]}:{},...e.releases?{releases:[...e.releases]}:{},...e.replay_type?{replayType:[e.replay_type]}:{},...e.os?.name?{"os.name":[e.os.name]}:{},...e.os?.version?{"os.version":[e.os.version]}:{},...e.sdk?.name?{"sdk.name":[e.sdk.name]}:{},...e.sdk?.version?{"sdk.version":[e.sdk.version]}:{},...t},n=Object.keys(s).sort().reduce(((e,t)=>(e[t]=s[t],e)),{});return{...e,...e.started_at?{started_at:new Date(e.started_at)}:{},...e.finished_at?{finished_at:new Date(e.finished_at)}:{},...void 0!==e.duration?{duration:(0,a.duration)(1e3*e.duration)}:{},tags:n}}function p(e,t){const s=[].concat(t).concat({type:5,timestamp:e.finished_at.getTime(),data:{tag:"replay-end"}});return s.sort(((e,t)=>e.timestamp-t.timestamp)),r()(s).timestamp=e.started_at.getTime(),s}function m(e,t,s,n){const r=["ui.focus","ui.blur"],a=e.urls?.[0]??e.tags.url?.join(", "),c={type:l.kS.INIT,timestamp:e.started_at.toISOString(),level:l.nU.INFO,message:a,data:{action:"replay-init",label:(0,o.t)("Start recording"),url:a}},u=t.map((e=>({type:l.kS.ERROR,level:l.nU.ERROR,category:"issue",message:e.title,data:{label:e["error.type"].join(""),eventId:e.id,groupId:e["issue.id"]||1,groupShortId:e.issue,project:e["project.name"]},timestamp:e.timestamp}))),p=n.filter((e=>["navigation.navigate","navigation.reload","largest-contentful-paint"].includes(e.op))).sort(((e,t)=>e.startTimestamp-t.startTimestamp)).map((e=>{if(e.op.startsWith("navigation")){const[,t]=e.op.split(".");return{category:"default",type:l.kS.NAVIGATION,timestamp:new Date(1e3*e.startTimestamp).toISOString(),level:l.nU.INFO,message:e.description,action:t,data:{to:e.description,label:"reload"===t?(0,o.t)("Reload"):"navigate"===t?(0,o.t)("Page load"):(0,o.t)("Navigation"),...e.data}}}return{type:l.kS.DEBUG,timestamp:new Date(1e3*e.startTimestamp).toISOString(),level:l.nU.INFO,category:"default",data:{action:e.op,...e.data,label:"largest-contentful-paint"===e.op?(0,o.t)("LCP"):e.op}}})),m=n.find((e=>"navigation.navigate"===e.op)),d=s.filter((e=>!r.includes(e.category||"")&&(!e.category?.startsWith("replay")||"replay.mutations"===e.category)&&("ui.slowClickDetected"!==e.category||e.data?.timeAfterClickMs>=3e3))).map((e=>{if("replay.mutations"===e.category){const t=e.data;return{...e,type:t.limit?l.kS.ERROR:l.kS.WARNING,level:t.limit?l.nU.FATAL:l.nU.WARNING,timestamp:new Date(1e3*e.timestamp).toISOString()}}return{...e,type:l.kS.DEFAULT,timestamp:new Date(1e3*e.timestamp).toISOString()}}));return(0,i.LP)([...n.length&&!m?[c]:[],...d,...u,...p]).sort(((e,t)=>+new Date(e.timestamp||0)-+new Date(t.timestamp||0)))}function d(e){return e.sort(((e,t)=>e.startTimestamp-t.startTimestamp)).map((e=>({...e,id:`${e.description??e.op}-${e.startTimestamp}-${e.endTimestamp}`,timestamp:1e3*e.startTimestamp})))}function g(e,t,s,n){const r=t.map((e=>e.timestamp)).filter(Boolean),a=s.map((e=>e.timestamp)).filter(Boolean),i=n.filter((e=>{let{op:t}=e;return"largest-contentful-paint"!==t})),o=i.map((e=>e.startTimestamp)),l=i.map((e=>e.endTimestamp)),{min:u,max:p}=c(r),{min:m,max:d}=c(a),{min:g}=c(o),{max:f}=c(l);return{startTimestampMs:Math.min(e.started_at.getTime(),u,1e3*m,1e3*g),endTimestampMs:Math.max(e.finished_at.getTime(),p,1e3*d,1e3*f)}}},"./app/utils/useUrlParams.tsx":(e,t,s)=>{s.d(t,{Z:()=>a}),s("../node_modules/core-js/modules/es.array.push.js");var n=s("../node_modules/react/index.js"),r=s("../node_modules/react-router/es/index.js");const a=function(e,t){const s=(0,n.useCallback)((e=>r.browserHistory.getCurrentLocation().query[e]||t),[t]),a=(0,n.useCallback)(((e,t)=>{const s=r.browserHistory.getCurrentLocation();r.browserHistory.push({...s,query:{...s.query,[e]:t}})}),[]),i=(0,n.useCallback)((()=>s(e||"")),[s,e]),o=(0,n.useCallback)((t=>a(e||"",t)),[a,e]);return void 0!==e?{getParamValue:i,setParamValue:o}:{getParamValue:s,setParamValue:a}}},"./app/views/replays/detail/iconWrapper.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});const n=(0,s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("div",{target:"eyvabyp0"})("display:flex;align-items:center;justify-content:center;width:24px;min-width:24px;height:24px;border-radius:50%;color:",(e=>e.theme.white),";background:",(e=>e.hasOccurred?e.theme[e.color]??e.color:e.theme.purple200),";position:relative;z-index:",(e=>e.theme.zIndex.initial),";")},"./app/views/replays/detail/timestampButton.tsx":(e,t,s)=>{s.d(t,{Z:()=>m});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("./app/components/dateTime.tsx"),a=s("./app/components/replays/utils.tsx"),i=s("./app/components/tooltip.tsx"),o=s("./app/icons/index.tsx"),l=s("./app/styles/space.tsx"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function u(e){let{className:t,format:s="mm:ss",onClick:n,startTimestampMs:l,timestampMs:u}=e;return(0,c.tZ)(i.u,{title:(0,c.tZ)(r.Z,{seconds:!0,date:u}),skipWrapper:!0,children:(0,c.BX)(p,{as:n?"button":"span",onClick:n,className:t,children:[(0,c.tZ)(o.JF,{size:"xs"}),(0,a.Ul)(u,l,"mm:ss.SSS"===s)]})})}u.displayName="TimestampButton";const p=(0,n.Z)("button",{target:"esymjun0"})("background:transparent;border:none;color:inherit;font-variant-numeric:tabular-nums;display:flex;align-items:center;gap:",(0,l.D)(.25),";padding:0;height:100%;"),m=u}}]);
//# sourceMappingURL=../sourcemaps/app_components_replays_contextIcon_tsx-app_components_replays_header_errorCount_tsx-app_compo-1e460f.ad3728575a8f50fa58d925ef94d27a76.js.map