"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_performance_transactionSummary_transactionAnomalies_index_tsx"],{"./app/components/charts/components/markArea.tsx":(e,t,a)=>{function n(e){return{...e}}a.d(t,{Z:()=>n}),a("../node_modules/echarts/lib/component/markArea.js")},"./app/components/charts/lineChart.tsx":(e,t,a)=>{a.d(t,{w:()=>s});var n=a("./app/components/charts/series/lineSeries.tsx"),i=a("./app/components/charts/baseChart.tsx"),r=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function s(e){let{series:t,seriesOptions:a,...s}=e;return(0,r.tZ)(i.Z,{...s,series:t.map((e=>{let{seriesName:t,data:i,dataArray:r,...s}=e;return(0,n.Z)({...a,...s,name:t,data:r||i?.map((e=>{let{value:t,name:a}=e;return[a,t]})),animation:!1,animationThreshold:1,animationDuration:0})}))})}s.displayName="LineChart"},"./app/components/events/searchBar.tsx":(e,t,a)=>{a.d(t,{Z:()=>A}),a("../node_modules/core-js/modules/es.error.cause.js");var n=a("../node_modules/react/index.js"),i=a("../node_modules/lodash/assign.js"),r=a.n(i),s=a("../node_modules/lodash/flatten.js"),o=a.n(s),d=a("../node_modules/lodash/memoize.js"),l=a.n(d),c=a("../node_modules/lodash/omit.js"),p=a.n(c),m=a("./app/actionCreators/tags.tsx"),u=a("./app/components/smartSearchBar/index.tsx"),g=a("./app/constants/index.tsx"),h=a("./app/types/index.tsx"),y=a("./app/utils.tsx"),f=a("./app/utils/discover/fields.tsx"),x=a("./app/utils/fields/index.ts"),Z=a("./app/utils/measurements/measurements.tsx"),w=a("./app/utils/useApi.tsx"),v=a("./app/utils/withTags.tsx"),b=a("./app/views/dashboards/utils.tsx"),j=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const D=new RegExp(`^${g.c$}|\\${g.ir}`,"g"),S=new Set(Object.keys(f.wZ)),k=Object.keys(f.wZ).reduce(((e,t)=>(e[t]={...f.wZ[t],kind:x.IV.FIELD},e)),{}),C=p()(k,f.J8),P=f.$4.reduce(((e,t)=>(e[t]={name:t,kind:x.IV.METRICS},e)),{}),T=Object.keys(f.jg).reduce(((e,t)=>(e[t]={...f.jg[t],kind:x.IV.FIELD},e)),{});function _(e){const{maxSearchItems:t,organization:a,tags:i,omitTags:s,fields:d,projectIds:c,includeSessionTagsValues:g,maxMenuHeight:v,customMeasurements:_}=e,A=(0,w.Z)(),E=(0,n.useMemo)((()=>(e=>e?.length?e.reduce(((e,t)=>(S.has(t.field)||(0,f.GO)(t.field)||(0,b.nk)(t.field)||(e[t.field]={key:t.field,name:t.field,kind:x.IV.FUNCTION}),e)),{}):[])(d)),[d]),q=(0,n.useMemo)((()=>Object.keys(i).reduce(((e,t)=>(e[t]={...i[t],kind:x.IV.TAG},e)),{})),[i]);(0,n.useEffect)((()=>{z.cache.clear?.()}),[c]);const z=l()(((e,t,n)=>{const i=c?.map(String);return(0,f.h1)(e.key)||(0,f.Xr)(e.key)?Promise.resolve([]):(0,x.bn)(e.key)?Promise.resolve(x.BF):(0,m.Fo)({api:A,orgSlug:a.slug,tagKey:e.key,search:t,projectIds:i,endpointParams:n,includeTransactions:!0,includeSessions:g}).then((e=>o()(e.filter((e=>{let{name:t}=e;return(0,y.ri)(t)})).map((e=>{let{name:t}=e;return t})))),(()=>{throw new Error("Unable to fetch event field values")}))}),((e,t)=>{let{key:a}=e;return`${a}-${t}`})),N=e=>{const t=((e,t)=>{const a=Object.keys(e).reduce(((t,a)=>(t[a]={...e[a],kind:x.IV.MEASUREMENT},t)),{});return t?Object.keys(t).reduce(((e,a)=>(e[a]={...t[a],kind:x.IV.MEASUREMENT},e)),a):a})(e,_),n=a.features.includes("performance-view")?Object.assign({},t,E,P,k):Object.assign({},C);return r()(n,q,k,T),n.has={key:x.Sh.HAS,name:"Has property",values:Object.keys(n).sort(((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase()))),predefined:!0,kind:x.IV.FIELD},s&&s.length>0?p()(n,s):n};return(0,j.tZ)(Z.Z,{children:a=>{let{measurements:n}=a;return(0,j.tZ)(u.Z,{hasRecentSearches:!0,savedSearchType:h.L4.EVENT,onGetTagValues:z,supportedTags:N(n),prepareQuery:e=>e.replace(D,""),maxSearchItems:t,excludedTags:[x.Sh.ENVIRONMENT,x.Sh.TOTAL_COUNT],maxMenuHeight:v??300,customPerformanceMetrics:_,...e})}})}_.displayName="SearchBar";const A=(0,v.Z)(_)},"./app/utils/performance/anomalies/anomaliesQuery.tsx":(e,t,a)=>{a.d(t,{Z:()=>l});var n=a("./app/utils/discover/genericDiscoverQuery.tsx"),i=a("./app/views/performance/transactionSummary/transactionAnomalies/utils.tsx"),r=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function s(e){return e.data.forEach((e=>e[0]=1e3*e[0])),e}function o(e){const t={...e};return e.y&&e.yhat_lower&&e.yhat_upper&&e.anomalies?(t.y=s(e.y),t.yhat_upper=s(e.yhat_upper),t.yhat_lower=s(e.yhat_lower),t.anomalies=((a=e.anomalies).forEach((e=>{e.start=1e3*e.start,e.end=1e3*e.end})),a),t):t;var a}function d(e){return e.organization.features.includes(i.uT)?(0,r.tZ)(n.ZP,{route:"transaction-anomaly-detection",...e,children:t=>{let{tableData:a,...n}=t;return e.children({data:a&&a.y?o(a):null,...n})}}):(0,r.tZ)("div",{children:e.children({data:null,isLoading:!1,error:null,pageLinks:null})})}d.displayName="AnomaliesSeriesQuery";const l=d},"./app/utils/withTags.tsx":(e,t,a)=>{a.d(t,{Z:()=>d});var n=a("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=a("../node_modules/react/index.js"),r=a("./app/stores/tagStore.tsx"),s=a("./app/utils/getDisplayName.tsx"),o=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d=function(e){class t extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{tags:r.Z.getState()}),(0,n.Z)(this,"unsubscribe",r.Z.listen((e=>this.setState({tags:e})),void 0))}componentWillUnmount(){this.unsubscribe()}render(){const{tags:t,...a}=this.props;return(0,o.tZ)(e,{tags:t??this.state.tags,...a})}}return t.displayName="WithTags",(0,n.Z)(t,"displayName",`withTags(${(0,s.Z)(e)})`),t}},"./app/views/performance/landing/widgets/components/performanceWidget.tsx":(e,t,a)=>{a.d(t,{I:()=>A});var n=a("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=a("../node_modules/react/index.js"),r=a("./app/components/charts/errorPanel.tsx"),s=a("./app/components/placeholder.tsx"),o=a("./app/icons/iconWarning.tsx"),d=a("./app/styles/space.tsx"),l=a("./app/utils/analytics.tsx"),c=a("./app/utils/getDynamicText.tsx"),p=a("./app/utils/performance/contexts/metricsEnhancedPerformanceDataContext.tsx"),m=a("./app/utils/useApi.tsx"),u=a("./app/components/panels/index.tsx");const g=(0,n.Z)(u.s_,{target:"ekfeesi1"})("padding-top:",(0,d.D)(2),";margin-bottom:0;"),h=(0,n.Z)("div",{target:"ekfeesi0"})(""),y=e=>{let{containerType:t}=e;return"panel"===t?g:h};var f=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function x(e){return e.isErrored?e.errorComponent:e.isLoading&&e.loadingComponent?e.loadingComponent:e.hasData?(0,f.tZ)(i.Fragment,{children:e.dataComponents}):e.emptyComponent}x.displayName="DataStateSwitch";var Z=a("./app/utils/dates.tsx");function w(e){const t=e.children??(0,f.tZ)(i.Fragment,{});return e.queries.length?(0,f.tZ)(i.Fragment,{children:e.queries.filter((t=>!t.enabled||t.enabled(e.widgetData))).map((t=>(0,f.tZ)(v,{...e,query:t},t.queryKey)))}):(0,f.tZ)(i.Fragment,{children:t})}function v(e){const t=e.query,a=e.queryProps.eventView.getPageFilters(),n=a.datetime.start?(0,Z.hC)(a.datetime.start):null,r=a.datetime.end?(0,Z.hC)(a.datetime.end):null;return(0,i.useEffect)((()=>()=>{e.removeWidgetDataForKey(t.queryKey)}),[]),(0,f.tZ)(t.component,{fields:t.fields,yAxis:t.fields,start:n,end:r,period:a.datetime.period,project:a.projects,environment:a.environments,organization:e.queryProps.organization,orgSlug:e.queryProps.organization.slug,eventView:e.queryProps.eventView,query:e.queryProps.eventView.getQueryWithAdditionalConditions(),widgetData:e.widgetData,referrer:(s=e.queryProps.chartSetting,`api.performance.generic-widget-chart.${s.replace(/_/g,"-")}`),children:a=>(0,f.tZ)(i.Fragment,{children:(0,f.tZ)(b,{results:a,...e,query:t})})},t.queryKey);var s}function b(e){const t=(0,p.EA)(),{results:a,query:n}=e,r=n.transform(e.queryProps,a,e.query);return(0,i.useEffect)((()=>{const i=(0,p.AQ)(a,e.queryProps.fields[0]);t.setIsMetricsData(i),e.setWidgetDataForKey(n.queryKey,r)}),[r?.hasData,r?.isLoading,r?.isErrored]),(0,f.tZ)(i.Fragment,{})}w.displayName="QueryHandler",v.displayName="SingleQueryHandler",b.displayName="QueryResultSaver";var j=a("./app/components/charts/styles.tsx"),D=a("./app/components/questionTooltip.tsx"),S=a("./app/components/textOverflow.tsx");function k(e){const{title:t,titleTooltip:a,Subtitle:n,HeaderActions:i,InteractiveTitle:r}=e;return(0,f.BX)(T,{children:[(0,f.BX)(P,{children:[(0,f.BX)(C,{"data-test-id":"performance-widget-title",children:[r?(0,f.tZ)(r,{...e}):(0,f.tZ)(S.Z,{children:t}),(0,f.tZ)(p.hX,{}),a&&(0,f.tZ)(D.Z,{position:"top",size:"sm",title:a})]}),n?(0,f.tZ)(n,{...e}):null]}),(0,f.tZ)(_,{children:i&&(0,f.tZ)(i,{...e})})]})}k.displayName="WidgetHeader";const C=(0,n.Z)(j.ws,{target:"e1sjff3s3"})("position:relative;z-index:initial;top:-",(0,d.D)(.5),";"),P=(0,n.Z)("div",{target:"e1sjff3s2"})({name:"6kz1wu",styles:"display:flex;flex-direction:column;align-items:flex-start"}),T=(0,n.Z)("div",{target:"e1sjff3s1"})("display:flex;justify-content:space-between;align-items:flex-start;gap:",(0,d.D)(1),";"),_=(0,n.Z)("div",{target:"e1sjff3s0"})("display:flex;align-items:center;gap:",(0,d.D)(1),";");function A(e){const[t,a]=(0,i.useState)({}),n=t[e.chartSetting]??{},r=(0,i.useRef)(n),s=(0,i.useCallback)(((t,n)=>{const i={...r.current,[t]:n};r.current=i,a({[e.chartSetting]:i})}),[t,a]),o=(0,i.useCallback)((t=>{const n={...r.current};delete n[t],r.current=n,a({[e.chartSetting]:n})}),[t,a]),d={widgetData:n,setWidgetDataForKey:s,removeWidgetDataForKey:o},l=Object.entries(e.Queries).map((e=>{let[t,a]=e;return{...a,queryKey:t}})),c=(0,m.Z)(),u=e.Visualizations.reduce(((e,t)=>e+t.height),0);return(0,f.tZ)(i.Fragment,{children:(0,f.BX)(p.UT,{chartSetting:e.chartSetting,children:[(0,f.tZ)(w,{eventView:e.eventView,widgetData:n,setWidgetDataForKey:s,removeWidgetDataForKey:o,queryProps:e,queries:l,api:c}),(0,f.tZ)(E,{...e,...d,totalHeight:u})]})})}function E(e){const{Visualizations:t,chartHeight:a,totalHeight:n,containerType:i,EmptyComponent:r}=e,o=y({containerType:i}),d=Object.keys(e.Queries).length,p=Object.values(e.widgetData).length!==d,m=!p&&Object.values(e.widgetData).every((e=>!e||e.hasData)),u=Object.values(e.widgetData).some((e=>!e||e.isLoading)),g=!p&&Object.values(e.widgetData).some((e=>e&&e.isErrored));return(0,f.BX)(o,{"data-test-id":"performance-widget-container",children:[(0,f.tZ)(N,{children:(0,f.tZ)(k,{...e})}),(0,f.tZ)(x,{isLoading:u,isErrored:g,hasData:m,errorComponent:(0,f.tZ)(q,{height:n}),dataComponents:t.map(((t,n)=>(0,f.tZ)(N,{noPadding:t.noPadding,bottomPadding:t.bottomPadding,"data-test-id":"widget-state-has-data",onClick:()=>{return t=e.chartSetting,a=e.organization,void(0,l.Gi)("performance_views.landingv3.widget.interaction",{organization:a,widget_type:t});var t,a},children:(0,c.Z)({value:(0,f.tZ)(t.component,{grid:z,queryFields:t.fields,widgetData:e.widgetData,height:a}),fixed:(0,f.tZ)(s.Z,{height:`${a}px`})})},n))),loadingComponent:(0,f.tZ)(L,{height:`${n}px`}),emptyComponent:r?(0,f.tZ)(r,{}):(0,f.tZ)(L,{height:`${n}px`})})]})}function q(e){return(0,f.tZ)(r.Z,{"data-test-id":"widget-state-is-errored",height:`${e.height}px`,children:(0,f.tZ)(o.F,{color:"gray300",size:"lg"})})}A.displayName="GenericPerformanceWidget",E.displayName="DataDisplay",q.displayName="DefaultErrorComponent";const z={left:(0,d.D)(0),right:(0,d.D)(0),top:(0,d.D)(2),bottom:(0,d.D)(1)},N=(0,n.Z)("div",{target:"e1fmuurf1"})("padding-left:",(e=>e.noPadding?(0,d.D)(0):(0,d.D)(2)),";padding-right:",(e=>e.noPadding?(0,d.D)(0):(0,d.D)(2)),";padding-bottom:",(e=>e.bottomPadding?(0,d.D)(1):(0,d.D)(0)),";"),L=(0,n.Z)(s.Z,{target:"e1fmuurf0"})({name:"cs3onb",styles:"border-color:transparent;border-bottom-right-radius:inherit;border-bottom-left-radius:inherit"});A.defaultProps={containerType:"panel",chartHeight:200}},"./app/views/performance/transactionSummary/transactionAnomalies/index.tsx":(e,t,a)=>{a.r(t),a.d(t,{default:()=>pe});var n=a("./app/locale.tsx"),i=a("./app/utils/performance/contexts/metricsEnhancedSetting.tsx"),r=a("./app/utils/withOrganization.tsx"),s=a("./app/utils/withProjects.tsx"),o=a("./app/views/performance/transactionSummary/pageLayout.tsx"),d=a("./app/views/performance/transactionSummary/tabs.tsx"),l=a("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),c=(a("../node_modules/core-js/modules/es.array.push.js"),a("../node_modules/react/index.js")),p=a("../node_modules/react-router/es/index.js"),m=a("../node_modules/lodash/omit.js"),u=a.n(m),g=a("./app/components/charts/components/markArea.tsx"),h=a("./app/components/charts/components/markLine.tsx"),y=a("./app/components/datePageFilter.tsx"),f=a("./app/components/environmentPageFilter.tsx"),x=a("./app/components/events/searchBar.tsx"),Z=a("./app/components/layouts/thirds.tsx"),w=a("./app/components/organizations/pageFilterBar.tsx"),v=a("./app/components/organizations/pageFilters/parse.tsx"),b=a("./app/styles/space.tsx"),j=a("./app/utils.tsx"),D=a("./app/utils/performance/anomalies/anomaliesQuery.tsx"),S=a("./app/utils/queryString.tsx"),k=a("./app/utils/theme.tsx"),C=a("./app/views/performance/landing/widgets/components/performanceWidget.tsx"),P=a("./app/views/performance/landing/widgets/components/selectableList.tsx"),T=a("./app/views/performance/landing/widgets/widgetDefinitions.tsx"),_=a("./app/components/count.tsx"),A=a("./app/components/gridEditable/index.tsx"),E=a("./app/components/gridEditable/sortLink.tsx"),q=a("./app/icons/index.tsx"),z=a("./app/utils/discover/fieldRenderers.tsx"),N=a("./app/utils/discover/fields.tsx"),L=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const F=e=>({anomaly:`#${e.id}`,confidence:e.confidence,timestamp:new Date(e.start),timeInterval:e.end-e.start,expected:e.expected,received:e.received});function I(e){const{location:t,organization:a,isLoading:n,anomalies:i}=e,r=i?.map(F)||[];return(0,L.tZ)(A.ZP,{isLoading:n,data:r,columnOrder:Object.values($),columnSortBy:[],grid:{renderHeadCell:O,renderBodyCell:V(t,a)},location:t})}function O(e,t){const a=(0,N.qG)(e.key,K[e.key]);return(0,L.tZ)(E.Z,{title:e.name,align:a,direction:void 0,canSort:!1,generateSortLink:()=>{}})}function V(e,t){return function(a,i){const r=(0,z.Js)(a.key,K);return"confidence"===a.key?(0,L.tZ)(W,{children:"low"===i.confidence?(0,L.tZ)(H,{children:(0,n.t)("Low Confidence")}):(0,L.tZ)(M,{children:(0,n.t)("High Confidence")})}):"expected"===a.key?(0,L.tZ)(B,{children:(0,L.tZ)(_.Z,{value:i.expected})}):"received"===a.key?(0,L.BX)(B,{children:[(0,L.tZ)(_.Z,{value:i.received}),(0,L.tZ)(q.CC,{size:"sm",direction:i.received>i.expected?"up":"down"})]}):r(i,{location:e,organization:t})}}I.displayName="AnomaliesTable",O.displayName="renderHeadCell";const B=(0,l.Z)("div",{target:"e1f42zpu3"})("display:flex;justify-content:flex-end;align-items:center;gap:",(0,b.D)(.5),";"),H=(0,l.Z)("div",{target:"e1f42zpu2"})("color:",(e=>e.theme.yellow400),";"),M=(0,l.Z)("div",{target:"e1f42zpu1"})("color:",(e=>e.theme.red400),";"),W=(0,l.Z)("div",{target:"e1f42zpu0"})({name:"1qetfgc",styles:"text-align:left;justify-self:flex-end;flex-grow:1"}),$={anomaly:{key:"anomaly",name:(0,n.t)("Anomaly"),width:A.z7},confidence:{key:"confidence",name:(0,n.t)("Confidence"),width:A.z7},timeInterval:{key:"timeInterval",name:(0,n.t)("Time Interval"),width:A.z7},timestamp:{key:"timestamp",name:(0,n.t)("Timestamp"),width:A.z7},expected:{key:"expected",name:(0,n.t)("Expected"),width:A.z7},received:{key:"received",name:(0,n.t)("Received"),width:A.z7}},K={anomaly:"string",confidence:"string",timeInterval:"duration",timestamp:"date",expected:"number",received:"number"};var R=a("./app/components/charts/chartZoom.tsx"),Q=a("./app/components/charts/lineChart.tsx"),X=a("./app/utils/dates.tsx"),U=a("./app/utils/discover/charts.tsx"),G=a("./app/utils/useLocation.tsx"),J=a("./app/utils/useRouter.tsx");function Y(e){const t=(0,J.Z)(),a=(0,G.T)(),{data:i,statsPeriod:r,height:s,start:o,end:d}=e,l=o?(0,X.hC)(o):null,c=d?(0,X.hC)(d):null,{utc:p}=(0,v.fK)(a.query),m={legend:{right:10,top:5,data:[(0,n.t)("High Confidence"),(0,n.t)("Low Confidence")]},seriesOptions:{showSymbol:!1},height:s,tooltip:{trigger:"axis",valueFormatter:(e,t)=>(0,U.CX)(e,(0,N.Px)(t))},xAxis:void 0,yAxis:{axisLabel:{formatter:e=>(0,U.gu)(e,"number")}}};return(0,L.tZ)(R.Z,{router:t,period:r,start:l,end:c,utc:"true"===p,children:e=>(0,L.tZ)(Q.w,{...e,series:i,...m})})}Y.displayName="AnomalyChart";const ee=e=>`#${e.id}`,te=e=>[{name:ee(e),xAxis:e.start},{xAxis:e.end}],ae=(e,t)=>{const a=[],n=t.data;if(!n)return{isLoading:t.isLoading,isErrored:!!t.error,data:void 0,hasData:!1,loading:t.isLoading};a.push({seriesName:"tpm()",data:n.y.data.map((e=>{let[t,[{count:a}]]=e;return{name:t,value:a}}))}),a.push({seriesName:"tpm() lower bound",data:n.yhat_lower.data.map((e=>{let[t,[{count:a}]]=e;return{name:t,value:a}}))}),a.push({seriesName:"tpm() upper bound",data:n.yhat_upper.data.map((e=>{let[t,[{count:a}]]=e;return{name:t,value:a}}))});const i=t.data.anomalies,r=i.filter((e=>"high"===e.confidence)).map(te),s=i.filter((e=>"high"===e.confidence)).map((e=>({xAxis:e.start,name:ee(e)}))),o=i.filter((e=>"low"===e.confidence)).map(te),d=i.filter((e=>"low"===e.confidence)).map((e=>({xAxis:e.start,name:ee(e)})));return a.push({seriesName:"High Confidence",color:k.ZP.red300,data:[],silent:!0,markLine:(0,h.Z)({animation:!1,lineStyle:{color:k.ZP.red300,type:"solid",width:1,opacity:1},data:s,label:{show:!0,rotate:90,color:k.ZP.red300,position:"insideEndBottom",fontSize:"10",offset:[5,5],formatter:e=>`${e.data.name}`}}),markArea:(0,g.Z)({itemStyle:{color:k.ZP.red300,opacity:.2},label:{show:!1},data:r})}),a.push({seriesName:"Low Confidence",color:k.ZP.yellow200,data:[],markLine:(0,h.Z)({animation:!1,lineStyle:{color:k.ZP.yellow200,type:"solid",width:1,opacity:1},data:d,label:{show:!0,rotate:90,color:k.ZP.yellow300,position:"insideEndBottom",fontSize:"10",offset:[5,5],formatter:e=>`${e.data.name}`}}),markArea:(0,g.Z)({itemStyle:{color:k.ZP.yellow200,opacity:.2},label:{show:!1},data:o})}),{isLoading:t.isLoading,isErrored:!!t.error,data:a,hasData:!0,loading:t.isLoading}};function ne(e){const t=k.ZP.charts.colors[0],a=(0,c.useMemo)((()=>({fields:"",component:t=>(0,L.tZ)(c.Fragment,{children:t.children(e.queryData)}),transform:ae})),[e.queryData]);return(0,L.tZ)(C.I,{...e,title:(0,n.t)("Transaction Count"),titleTooltip:(0,n.t)("Represents transaction count across time, with added visualizations to highlight anomalies in your data."),fields:[""],chartSetting:T.s.TPM_AREA,chartDefinition:T.W[T.s.TPM_AREA],Subtitle:()=>(0,L.tZ)("div",{}),HeaderActions:()=>(0,L.tZ)("div",{}),EmptyComponent:P.xq,Queries:{chart:a},Visualizations:[{component:e=>{const a=e.widgetData.chart.data?.map((e=>("tpm()"!==e.seriesName&&(e.lineStyle={type:"dashed",color:t,width:1.5}),"score"===e.seriesName&&(e.lineStyle={color:k.ZP.red400}),e)))??[];return(0,L.tZ)(Y,{...e,data:a,height:250,statsPeriod:void 0,start:null,end:null})},height:250}]})}function ie(e){const{location:t,organization:a,eventView:n}=e,i=(0,S.ro)(t.query.query,"");return(0,L.BX)(Z.or,{fullWidth:!0,children:[(0,L.BX)(re,{children:[(0,L.BX)(w.Z,{condensed:!0,children:[(0,L.tZ)(f.Z,{}),(0,L.tZ)(y.Z,{alignDropdown:"left"})]}),(0,L.tZ)(x.Z,{organization:a,projectIds:n.project,query:i,fields:n.fields,onSearch:(r="query",function(e){const a=(0,v.fK)({...t.query||{},[r]:e}),n=["cursor"];(0,j.ri)(e)||n.push(r);const i=u()(a,n);p.browserHistory.push({...t,query:i})})})]}),(0,L.tZ)(D.Z,{organization:a,location:t,eventView:n,children:t=>(0,L.BX)(c.Fragment,{children:[(0,L.tZ)(se,{children:(0,L.tZ)(ne,{...e,queryData:t})}),(0,L.tZ)(I,{anomalies:t.data?.anomalies,...e,isLoading:t.isLoading})]})})]});var r}ne.displayName="Anomalies",ie.displayName="AnomaliesContent";const re=(0,l.Z)("div",{target:"e1mll81g1"})("display:grid;gap:",(0,b.D)(2),";margin-bottom:",(0,b.D)(2),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){grid-template-columns:auto 1fr;}"),se=(0,l.Z)("div",{target:"e1mll81g0"})("margin-bottom:",(0,b.D)(2),";"),oe=ie;var de=a("./app/views/performance/transactionSummary/transactionAnomalies/utils.tsx");function le(e){const{location:t,organization:a,projects:n}=e;return(0,L.tZ)(i.kP,{children:(0,L.tZ)(o.ZP,{location:t,organization:a,projects:n,tab:d.Z.ANOMALIES,generateEventView:de.h2,getDocumentTitle:ce,childComponent:oe})})}function ce(e){return"string"==typeof e&&String(e).trim().length>0?[String(e).trim(),(0,n.t)("Performance")].join(" - "):[(0,n.t)("Summary"),(0,n.t)("Performance")].join(" - ")}le.displayName="TransactionAnomalies";const pe=(0,s.Z)((0,r.Z)(le))}}]);
//# sourceMappingURL=../sourcemaps/app_views_performance_transactionSummary_transactionAnomalies_index_tsx.86c13d8de957085a5d52e4aac4768a5e.js.map