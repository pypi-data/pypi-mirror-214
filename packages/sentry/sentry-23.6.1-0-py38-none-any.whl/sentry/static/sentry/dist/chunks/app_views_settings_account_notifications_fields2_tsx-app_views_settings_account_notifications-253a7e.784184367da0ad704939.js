"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_account_notifications_fields2_tsx-app_views_settings_account_notifications-253a7e"],{"./app/views/settings/account/notifications/constants.tsx":(e,t,s)=>{s.d(t,{A4:()=>l,Al:()=>i,Ox:()=>a,Y5:()=>d,Zb:()=>c,cH:()=>p,fQ:()=>y,rn:()=>r,sg:()=>u,uJ:()=>m,wR:()=>f});var n=s("./app/locale.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a={email:"default",slack:"never",msteams:"never"},r=Object.keys(a),i={default:0,never:10,always:20,subscribe_only:30,committed_only:40},l=3,c=3,u=100,p=["alerts","workflow","deploy","approval","quota","reports","email","spikeProtection"],m=["personalActivityNotifications","selfAssignOnResolve"],f={alerts:"alerts",workflow:"workflow",deploy:"deploy",approval:"approval",quota:"quota",reports:"reports",email:"email",spikeProtection:"spike-protection"},d=(0,o.BX)("div",{children:[(0,o.tZ)("p",{style:{marginBottom:"20px"},children:(0,o.tZ)("strong",{children:"Are you sure you want to disable these notifications?"})}),(0,o.tZ)("p",{children:(0,n.t)('Turning this off will irreversibly overwrite all of your fine-tuning settings to "off".')})]}),y={quota:"slack-overage-notifications",spikeProtection:"spike-projections"}},"./app/views/settings/account/notifications/fields2.tsx":(e,t,s)=>{s.d(t,{i:()=>u,u:()=>c}),s("../node_modules/core-js/modules/es.error.cause.js");var n=s("../node_modules/react/index.js"),o=s("./app/components/links/externalLink.tsx"),a=s("./app/components/questionTooltip.tsx"),r=s("./app/locale.tsx"),i=s("./app/views/settings/account/notifications/utils.tsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const c={alerts:{name:"alerts",type:"select",label:(0,r.t)("Issue Alerts"),choices:[["always",(0,r.t)("On")],["never",(0,r.t)("Off")]],help:(0,r.t)("Notifications sent from Alert rules that your team has set up.")},workflow:{name:"workflow",type:"select",label:(0,r.t)("Issue Workflow"),choices:[["always",(0,r.t)("On")],["subscribe_only",(0,r.t)("Only Subscribed Issues")],["never",(0,r.t)("Off")]],help:(0,r.t)("Changes in issue assignment, resolution status, and comments.")},deploy:{name:"deploy",type:"select",label:(0,r.t)("Deploys"),choices:[["always",(0,r.t)("On")],["committed_only",(0,r.t)("Releases with My Commits")],["never",(0,r.t)("Off")]],help:(0,r.t)("Release, environment, and commit overviews.")},provider:{name:"provider",type:"select",label:(0,r.t)("Delivery Method"),choices:[["email",(0,r.t)("Email")],["slack",(0,r.t)("Slack")],["msteams",(0,r.t)("Microsoft Teams")]],multiple:!0,onChange:e=>{if(!e||0===e.length)throw Error("Invalid selection. Field cannot be empty.")}},approval:{name:"approval",type:"select",label:(0,r.t)("Approvals"),choices:[["always",(0,r.t)("On")],["never",(0,r.t)("Off")]],help:(0,r.t)("Notifications from teammates that require review or approval.")},quota:{name:"quota",type:"select",label:(0,r.t)("Quota"),choices:[["always",(0,r.t)("On")],["never",(0,r.t)("Off")]],help:(0,r.t)("Error, transaction, and attachment quota limits.")},reports:{name:"weekly reports",type:"blank",label:(0,r.t)("Weekly Reports"),help:(0,r.t)("A summary of the past week for an organization.")},email:{name:"email routing",type:"blank",label:(0,r.t)("Email Routing"),help:(0,r.t)("Change the email address that receives notifications.")},spikeProtection:{name:"spikeProtection",type:"select",label:(0,r.t)("Spike Protection"),choices:[["always",(0,r.t)("On")],["never",(0,r.t)("Off")]],help:(0,r.t)("Notifications about spikes on a per project basis.")},personalActivityNotifications:{name:"personalActivityNotifications",type:"select",label:(0,r.t)("My Own Activity"),choices:[[!0,(0,r.t)("On")],[!1,(0,r.t)("Off")]],help:(0,r.t)("Notifications about your own actions on Sentry.")},selfAssignOnResolve:{name:"selfAssignOnResolve",type:"select",label:(0,r.t)("Resolve and Auto-Assign"),choices:[[!0,(0,r.t)("On")],[!1,(0,r.t)("Off")]],help:(0,r.t)("When you resolve an unassigned issue, we'll auto-assign it to you.")}},u=[{name:"quotaWarnings",label:(0,r.t)("Set Quota Limit"),help:(0,r.t)("Receive notifications when your organization exceeds the following limits."),choices:[["always",(0,r.t)("100% and 80%")],["never",(0,r.t)("100%")]]},{name:"quotaErrors",label:(0,r.t)("Errors"),help:(0,r._N)("Receive notifications about your error quotas. [learnMore:Learn more]",{learnMore:(0,l.tZ)(o.Z,{href:(0,i.I)("error")})}),choices:[["always",(0,r.t)("On")],["never",(0,r.t)("Off")]]},{name:"quotaTransactions",label:(0,r.t)("Transactions"),help:(0,r._N)("Receive notifications about your transaction quota. [learnMore:Learn more]",{learnMore:(0,l.tZ)(o.Z,{href:(0,i.I)("transaction")})}),choices:[["always",(0,r.t)("On")],["never",(0,r.t)("Off")]]},{name:"quotaReplays",label:(0,r.t)("Replays"),help:(0,r._N)("Receive notifications about your replay quotas. [learnMore:Learn more]",{learnMore:(0,l.tZ)(o.Z,{href:(0,i.I)("replay")})}),choices:[["always",(0,r.t)("On")],["never",(0,r.t)("Off")]]},{name:"quotaAttachments",label:(0,r.t)("Attachments"),help:(0,r._N)("Receive notifications about your attachment quota. [learnMore:Learn more]",{learnMore:(0,l.tZ)(o.Z,{href:(0,i.I)("attachment")})}),choices:[["always",(0,r.t)("On")],["never",(0,r.t)("Off")]]},{name:"quotaSpendAllocations",label:(0,l.BX)(n.Fragment,{children:[(0,r.t)("Spend Allocations")," ",(0,l.tZ)(a.Z,{position:"top",title:"Business plan only",size:"xs"})]}),help:(0,r.t)("Receive notifications about your spend allocations."),choices:[["always",(0,r.t)("On")],["never",(0,r.t)("Off")]]}]},"./app/views/settings/account/notifications/utils.tsx":(e,t,s)=>{s.d(t,{_M:()=>E,hx:()=>q,xy:()=>A,I:()=>L,$s:()=>S,tl:()=>N,gw:()=>C,Vy:()=>R,pV:()=>v,zD:()=>T,O0:()=>z,E2:()=>P,uI:()=>b,iy:()=>Z,yB:()=>h,Vi:()=>I,r_:()=>x}),s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/core-js/modules/es.error.cause.js");var n=s("../node_modules/lodash/set.js"),o=s.n(n),a=s("./app/locale.tsx"),r=s("./app/views/settings/account/notifications/constants.tsx"),i=s("./app/views/settings/account/notifications/fields2.tsx"),l=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),c=s("./app/components/avatar/index.tsx"),u=s("./app/styles/space.tsx"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function m(e){let{notificationType:t,parent:s}=e;return(0,p.BX)(f,{children:[(0,p.tZ)(c.Z,{[v(t)]:s}),(0,p.tZ)("span",{children:s.slug})]})}m.displayName="ParentLabel";const f=(0,l.Z)("div",{target:"e13usub80"})("display:flex;gap:",(0,u.D)(.5),";line-height:16px;"),d=m,y=["alerts","email","workflow","spikeProtection"],h=e=>y.includes(e),v=e=>h(e)?"project":"organization",b=e=>e.reduce(((e,t)=>{const s=t.organization.slug;return e.hasOwnProperty(s)?e[s].projects.push(t):e[s]={organization:t.organization,projects:[t]},e}),{}),w=e=>{switch(e){case"alerts":return"always";case"deploy":return"committed_only";case"workflow":return"subscribe_only";default:return""}},O=(e,t)=>{if(!e)return"default";const s=e.find((e=>e[0]===t));if(!s)throw new Error(`Could not find ${t}`);return s[1]},g=e=>!!Object.keys(e).length&&Object.values(e).every((e=>"never"===e)),j=e=>Object.values(e).reduce(((e,t)=>"never"===t?e:t),null),k=(e,t,s,n)=>{let o;return o="user"===n?g(e)?s:j(e)||s:g(e)?"never":j(e)||"default",Object.fromEntries(Object.keys(r.Ox).map((e=>[e,t.includes(e)?o:"never"])))},x=function(){const e={};for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return s.forEach((t=>Object.entries(t).forEach((t=>{let[s,n]=t;return Object.entries(n).forEach((t=>{let[n,a]=t;return Object.entries(a).forEach((t=>{let[a,r]=t;o()(e,[s,n,a].join("."),r)}))}))})))),e},_=(e,t)=>Object.values(t[e]?.user||{}).pop()||Object.fromEntries(Object.entries(r.Ox).map((t=>{let[s,n]=t;return[s,"default"===n?w(e):n]}))),A=(e,t)=>{const s=_(e,t);return Object.entries(s).filter((e=>{let[t,s]=e;return!["never"].includes(s)})).map((e=>{let[t,s]=e;return t}))},q=(e,t)=>{const s=A(e,t);return s.length?_(e,t)[s[0]]:"never"},E=(e,t)=>{const s=(e,t)=>r.Al[e]-r.Al[t],n=Object.values(_(e,t)).sort(s).pop()||"never";if("never"!==n)return n;const o=Object.values(t[e]?.[v(e)]||{}).flatMap((e=>Object.values(e))).sort(s).pop()||"default";return"default"===o?"never":o},Z=(e,t)=>["never","default"].includes(E(e,t)),R=(e,t)=>Object.keys(t[e]?.[v(e)]||{}),M=(e,t,s)=>t[e]?.[v(e)]?.[s]||{email:"default"},N=(e,t,s)=>{const n=A(e,t)[0];return Object.fromEntries(s.map((s=>[s.id,M(e,t,s.id)[n]])))},I=(e,t)=>R(e,t).length>r.A4,P=(e,t,s)=>{const n=s.provider?Object.values(s.provider):[],o=w(e);return Object.keys(t).length?{[e]:Object.fromEntries(Object.entries(t[e]).map((e=>{let[t,s]=e;return[t,Object.fromEntries(Object.entries(s).map((e=>{let[s,a]=e;return[s,k(a,n,o,t)]})))]})))}:{[e]:{user:{me:Object.fromEntries(n.map((e=>[e,o])))}}}},T=(e,t,s,n)=>{const o=Object.values(s)[0];let a=A(e,t);a.length||(a=["email"]);const r={[e]:{user:{me:Object.fromEntries(a.map((e=>[e,o])))}}};return"never"===o&&(r[e][v(e)]=Object.fromEntries(n.map((e=>[e,Object.fromEntries(a.map((e=>[e,"default"])))])))),r},z=(e,t,s,n)=>{const o=A(e,t),a=Object.values(s)[0];return{[e]:{[v(e)]:{[n]:Object.fromEntries(o.map((e=>[e,a])))}}}},C=(e,t,s,n)=>{const o=i.u[e];let r=o.choices;return Array.isArray(r)&&(r=r.concat([["default",`${(0,a.t)("Default")} (${O(r,q(e,t))})`]])),Object.assign({},o,{label:(0,p.tZ)(d,{parent:s,notificationType:e}),getData:e=>n(e,s.id),name:s.id,choices:r,defaultValue:"default",help:void 0})};function L(e){switch(e){case"transaction":return"https://docs.sentry.io/product/performance/transaction-summary/#what-is-a-transaction";case"attachment":return"https://docs.sentry.io/product/accounts/quotas/manage-attachments-quota/#2-rate-limiting";case"replay":return"https://docs.sentry.io/product/session-replay/";default:return"https://docs.sentry.io/product/accounts/quotas/manage-event-stream-guide/#common-workflows-for-managing-your-event-stream"}}function S(e){return(Object.entries(r.wR).find((t=>{let[s,n]=t;return n===e}))??[e])[0]}}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_account_notifications_fields2_tsx-app_views_settings_account_notifications-253a7e.931eb6e442fd74d43257434bbdbd7251.js.map