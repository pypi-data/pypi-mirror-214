{"version":3,"file":"chunks/app_utils_performance_contexts_metricsEnhancedSetting_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/utils/performance/contexts/metricsEnhancedPerformanceDataContext.tsx","webpack:///./app/utils/performance/contexts/metricsEnhancedSetting.tsx","webpack:///./app/views/performance/landing/widgets/types.tsx","webpack:///./app/views/performance/landing/widgets/utils.tsx","webpack:///./app/views/performance/landing/widgets/widgetDefinitions.tsx"],"sourcesContent":["import {ReactNode, useCallback, useState} from 'react';\n\nimport Tag from 'sentry/components/tag';\nimport useOrganization from 'sentry/utils/useOrganization';\nimport {WIDGET_MAP_DENY_LIST} from 'sentry/views/performance/landing/widgets/utils';\nimport {PerformanceWidgetSetting} from 'sentry/views/performance/landing/widgets/widgetDefinitions';\n\nimport {AutoSampleState, useMEPSettingContext} from './metricsEnhancedSetting';\nimport {createDefinedContext} from './utils';\n\nexport interface MetricsEnhancedPerformanceDataContext {\n  setIsMetricsData: (value?: boolean) => void;\n  isMetricsData?: boolean;\n}\n\nconst [_MEPDataProvider, _useMEPDataContext] =\n  createDefinedContext<MetricsEnhancedPerformanceDataContext>({\n    name: 'MetricsEnhancedPerformanceDataContext',\n  });\n\nexport function MEPDataProvider({\n  children,\n  chartSetting,\n}: {\n  children: ReactNode;\n  chartSetting?: PerformanceWidgetSetting;\n}) {\n  const {setAutoSampleState} = useMEPSettingContext();\n  const [isMetricsData, _setIsMetricsData] = useState<boolean | undefined>(undefined); // Uses undefined to cover 'not initialized'\n\n  const setIsMetricsData = useCallback(\n    (value?: boolean) => {\n      if (WIDGET_MAP_DENY_LIST.includes(chartSetting as PerformanceWidgetSetting)) {\n        // Certain widgets shouldn't update their sampled tags or have the page info change eg. Auto(...)\n        return;\n      }\n      if (value === true) {\n        setAutoSampleState(AutoSampleState.METRICS);\n      } else if (value === false) {\n        setAutoSampleState(AutoSampleState.TRANSACTIONS);\n      }\n      _setIsMetricsData(value);\n    },\n    [setAutoSampleState, _setIsMetricsData, chartSetting]\n  );\n\n  return (\n    <_MEPDataProvider value={{isMetricsData, setIsMetricsData}}>\n      {children}\n    </_MEPDataProvider>\n  );\n}\n\nexport const useMEPDataContext = _useMEPDataContext;\n\nexport function getIsMetricsDataFromResults(\n  results: any,\n  field = ''\n): boolean | undefined {\n  const isMetricsData =\n    results?.meta?.isMetricsData ??\n    results?.seriesAdditionalInfo?.[field]?.isMetricsData ??\n    results?.histograms?.meta?.isMetricsData ??\n    results?.tableData?.meta?.isMetricsData;\n  return isMetricsData;\n}\n\nexport function MEPTag() {\n  const {isMetricsData} = useMEPDataContext();\n  const organization = useOrganization();\n\n  if (!organization.features.includes('performance-use-metrics')) {\n    // Separate if for easier flag deletion\n    return null;\n  }\n\n  if (isMetricsData === undefined) {\n    return <span data-test-id=\"no-metrics-data-tag\" />;\n  }\n\n  const tagText = isMetricsData ? 'processed' : 'indexed';\n\n  return <Tag data-test-id=\"has-metrics-data-tag\">{tagText}</Tag>;\n}\n","import {Dispatch, ReactNode, useCallback, useReducer} from 'react';\nimport {browserHistory} from 'react-router';\nimport {Location} from 'history';\n\nimport {Organization} from 'sentry/types';\nimport localStorage from 'sentry/utils/localStorage';\nimport {MEPDataProvider} from 'sentry/utils/performance/contexts/metricsEnhancedPerformanceDataContext';\nimport {decodeScalar} from 'sentry/utils/queryString';\nimport useOrganization from 'sentry/utils/useOrganization';\n\nimport {createDefinedContext} from './utils';\n\nexport interface MetricsEnhancedSettingContext {\n  autoSampleState: AutoSampleState;\n  memoizationKey: string;\n  metricSettingState: MEPState | null;\n  setAutoSampleState: Dispatch<AutoSampleState>;\n  setMetricSettingState: Dispatch<MEPState>;\n  shouldQueryProvideMEPAutoParams: boolean;\n  shouldQueryProvideMEPMetricParams: boolean;\n  shouldQueryProvideMEPTransactionParams: boolean;\n}\n\nconst [_MEPSettingProvider, _useMEPSettingContext, _MEPSettingContext] =\n  createDefinedContext<MetricsEnhancedSettingContext>({\n    name: 'MetricsEnhancedSettingContext',\n  });\n\nexport const MEPConsumer = _MEPSettingContext.Consumer;\n\n/**\n * These will be called something else in the copy, but functionally the data is coming from metrics / transactions.\n * \"Unset\" should be the initial state before any queries return for the first time.\n */\nexport enum AutoSampleState {\n  UNSET = 'unset',\n  METRICS = 'metrics',\n  TRANSACTIONS = 'transactions',\n}\n\n/**\n * Metrics/transactions will be called something else in the copy, but functionally the data is coming from metrics / transactions.\n */\nexport enum MEPState {\n  AUTO = 'auto',\n  METRICS_ONLY = 'metricsOnly',\n  TRANSACTIONS_ONLY = 'transactionsOnly',\n}\n\nexport const METRIC_SETTING_PARAM = 'metricSetting';\nexport const METRIC_SEARCH_SETTING_PARAM = 'metricSearchSetting'; // TODO: Clean this up since we don't need multiple params in practice.\n\nconst storageKey = 'performance.metrics-enhanced-setting';\nexport class MEPSetting {\n  static get(): MEPState | null {\n    const value = localStorage.getItem(storageKey);\n    if (value) {\n      if (!(value in MEPState)) {\n        localStorage.removeItem(storageKey);\n        return null;\n      }\n      return MEPState[value];\n    }\n    return null;\n  }\n\n  static set(value: MEPState) {\n    localStorage.setItem(storageKey, value);\n  }\n}\n\nexport function canUseMetricsDevUI(organization: Organization) {\n  return organization.features.includes('performance-use-metrics');\n}\n\nexport function canUseMetricsData(organization: Organization) {\n  const isDevFlagOn = canUseMetricsDevUI(organization); // Forces metrics data on as well.\n  const isInternalViewOn = organization.features.includes(\n    'performance-transaction-name-only-search'\n  );\n  const samplingFeatureFlag = organization.features.includes('dynamic-sampling'); // Exists on AM2 plans only.\n  const isRollingOut =\n    samplingFeatureFlag && organization.features.includes('mep-rollout-flag');\n\n  return isDevFlagOn || isInternalViewOn || isRollingOut;\n}\n\nexport function MEPSettingProvider({\n  children,\n  location,\n  _hasMEPState,\n  forceTransactions,\n}: {\n  children: ReactNode;\n  _hasMEPState?: MEPState;\n  forceTransactions?: boolean;\n  location?: Location;\n}) {\n  const organization = useOrganization();\n\n  const canUseMEP = canUseMetricsData(organization);\n\n  const allowedStates = [MEPState.METRICS_ONLY, MEPState.TRANSACTIONS_ONLY];\n  const _metricSettingFromParam = location\n    ? decodeScalar(location.query[METRIC_SETTING_PARAM])\n    : MEPState.METRICS_ONLY;\n  let defaultMetricsState = MEPState.METRICS_ONLY;\n\n  if (forceTransactions) {\n    defaultMetricsState = MEPState.TRANSACTIONS_ONLY;\n  }\n\n  const metricSettingFromParam =\n    allowedStates.find(s => s === _metricSettingFromParam) ?? defaultMetricsState;\n\n  const isControlledMEP = typeof _hasMEPState !== 'undefined';\n\n  const [_metricSettingState, _setMetricSettingState] = useReducer(\n    (_: MEPState, next: MEPState) => next,\n    metricSettingFromParam\n  );\n\n  const setMetricSettingState = useCallback(\n    (settingState: MEPState) => {\n      if (!location) {\n        return;\n      }\n      browserHistory.replace({\n        ...location,\n        query: {\n          ...location.query,\n          [METRIC_SETTING_PARAM]: settingState,\n        },\n      });\n      _setMetricSettingState(settingState);\n    },\n    [location, _setMetricSettingState]\n  );\n\n  const [autoSampleState, setAutoSampleState] = useReducer(\n    (_: AutoSampleState, next: AutoSampleState) => next,\n    AutoSampleState.UNSET\n  );\n\n  const metricSettingState = isControlledMEP ? _hasMEPState : _metricSettingState;\n\n  const shouldQueryProvideMEPAutoParams =\n    canUseMEP && metricSettingState === MEPState.AUTO;\n  const shouldQueryProvideMEPMetricParams =\n    canUseMEP && metricSettingState === MEPState.METRICS_ONLY;\n  const shouldQueryProvideMEPTransactionParams =\n    canUseMEP && metricSettingState === MEPState.TRANSACTIONS_ONLY;\n\n  const memoizationKey = `${metricSettingState}`;\n\n  return (\n    <_MEPSettingProvider\n      value={{\n        autoSampleState,\n        metricSettingState,\n        shouldQueryProvideMEPAutoParams,\n        shouldQueryProvideMEPMetricParams,\n        shouldQueryProvideMEPTransactionParams,\n        memoizationKey,\n        setMetricSettingState,\n        setAutoSampleState,\n      }}\n    >\n      <MEPDataProvider>{children}</MEPDataProvider>\n    </_MEPSettingProvider>\n  );\n}\n\nexport const useMEPSettingContext = _useMEPSettingContext;\n","import {Location} from 'history';\n\nimport {Client} from 'sentry/api';\nimport BaseChart from 'sentry/components/charts/baseChart';\nimport {RenderProps} from 'sentry/components/charts/eventsRequest';\nimport {DateString, Organization, OrganizationSummary} from 'sentry/types';\nimport EventView from 'sentry/utils/discover/eventView';\n\nimport {PerformanceWidgetContainerTypes} from './components/performanceWidgetContainer';\nimport {ChartDefinition, PerformanceWidgetSetting} from './widgetDefinitions';\n\nexport enum VisualizationDataState {\n  ERROR = 'error',\n  LOADING = 'loading',\n  EMPTY = 'empty',\n  DATA = 'data',\n}\n\nexport enum GenericPerformanceWidgetDataType {\n  HISTOGRAM = 'histogram',\n  AREA = 'area',\n  VITALS = 'vitals',\n  LINE_LIST = 'line_list',\n  TRENDS = 'trends',\n  STACKED_AREA = 'stacked_area',\n}\n\nexport type PerformanceWidgetProps = {\n  ContainerActions: React.ComponentType<{isLoading: boolean}> | null;\n  chartDefinition: ChartDefinition;\n  chartHeight: number;\n\n  chartSetting: PerformanceWidgetSetting;\n  eventView: EventView;\n  fields: string[];\n\n  organization: Organization;\n  title: string;\n  titleTooltip: string;\n\n  InteractiveTitle?: React.ComponentType<{isLoading: boolean}> | null;\n\n  chartColor?: string;\n\n  withStaticFilters?: boolean;\n};\n\nexport interface WidgetDataResult {\n  hasData: boolean;\n  isErrored: boolean;\n  isLoading: boolean;\n}\nexport interface WidgetDataConstraint {\n  [dataKey: string]: WidgetDataResult | undefined;\n}\n\nexport type QueryChildren = {\n  children: (props: any) => React.ReactNode; // TODO(k-fish): Fix any type.\n};\nexport type QueryFC<T extends WidgetDataConstraint> = React.ComponentType<\n  QueryChildren & {\n    eventView: EventView;\n    orgSlug: string;\n    organization: OrganizationSummary;\n    widgetData: T;\n    end?: DateString;\n    environment?: Readonly<string[]>;\n    fields?: string | string[];\n    period?: string | null;\n    project?: Readonly<number[]>;\n    query?: string;\n    referrer?: string;\n    start?: DateString;\n    team?: Readonly<string | string[]>;\n    yAxis?: string | string[];\n  }\n>;\n\nexport type QueryDefinition<\n  T extends WidgetDataConstraint,\n  S extends WidgetDataResult | undefined\n> = {\n  component: QueryFC<T>;\n  fields: string | string[];\n  transform: (\n    props: GenericPerformanceWidgetProps<T>,\n    results: any,\n    queryDefinition: QueryDefinitionWithKey<T>\n  ) => S; // TODO(k-fish): Fix any type.\n  enabled?: (data: T) => boolean;\n};\nexport type Queries<T extends WidgetDataConstraint> = Record<\n  string,\n  QueryDefinition<T, T[string]>\n>;\n\ntype Visualization<T> = {\n  component: React.ComponentType<{\n    widgetData: T;\n    grid?: React.ComponentProps<typeof BaseChart>['grid'];\n    height?: number;\n    queryFields?: string;\n  }>;\n  height: number;\n  bottomPadding?: boolean;\n  dataState?: (data: T) => VisualizationDataState;\n  fields?: string;\n  noPadding?: boolean;\n  queryFields?: string[]; // Used to determine placeholder and loading sizes. Will also be passed to the component.\n};\n\ntype Visualizations<T extends WidgetDataConstraint> = Readonly<Visualization<T>[]>; // Readonly because of index being used for React key.\n\ntype HeaderActions<T> = React.ComponentType<{\n  widgetData: T;\n}>;\n\ntype InteractiveTitle<T> = React.ComponentType<{widgetData: T}>;\n\ntype Subtitle<T> = React.ComponentType<{\n  widgetData: T;\n}>;\n\nexport type GenericPerformanceWidgetProps<T extends WidgetDataConstraint> = {\n  Queries: Queries<T>;\n  Visualizations: Visualizations<T>;\n\n  chartDefinition: ChartDefinition;\n  chartHeight: number;\n\n  chartSetting: PerformanceWidgetSetting;\n  containerType: PerformanceWidgetContainerTypes;\n  eventView: EventView;\n\n  fields: string[];\n  location: Location;\n  organization: Organization;\n\n  // Header;\n  title: string;\n  titleTooltip: string;\n  EmptyComponent?: React.ComponentType<{height?: number}>;\n\n  HeaderActions?: HeaderActions<T>;\n  InteractiveTitle?: InteractiveTitle<T> | null;\n  Subtitle?: Subtitle<T>;\n};\n\nexport type GenericPerformanceWithData<T extends WidgetDataConstraint> =\n  GenericPerformanceWidgetProps<T> & WidgetDataProps<T>;\n\nexport type WidgetDataProps<T> = {\n  removeWidgetDataForKey: (dataKey: string) => void;\n  setWidgetDataForKey: (dataKey: string, result?: WidgetDataResult) => void;\n  widgetData: T;\n};\n\nexport type EventsRequestChildrenProps = RenderProps;\n\nexport type QueryDefinitionWithKey<T extends WidgetDataConstraint> = QueryDefinition<\n  T,\n  T[string]\n> & {queryKey: string};\n\nexport type QueryHandlerProps<T extends WidgetDataConstraint> = {\n  api: Client;\n  eventView: EventView;\n  queries: QueryDefinitionWithKey<T>[];\n  queryProps: WidgetPropUnion<T>;\n  children?: React.ReactNode;\n} & WidgetDataProps<T>;\n\nexport type WidgetPropUnion<T extends WidgetDataConstraint> =\n  GenericPerformanceWidgetProps<T>;\n","import {Organization} from 'sentry/types';\nimport {objectIsEmpty} from 'sentry/utils';\nimport localStorage from 'sentry/utils/localStorage';\nimport {\n  canUseMetricsData,\n  MEPState,\n  MetricsEnhancedSettingContext,\n} from 'sentry/utils/performance/contexts/metricsEnhancedSetting';\n\nimport {ProjectPerformanceType} from '../../utils';\n\nimport {PerformanceWidgetSetting} from './widgetDefinitions';\n\nexport const eventsRequestQueryProps = [\n  'children',\n  'organization',\n  'yAxis',\n  'period',\n  'start',\n  'end',\n  'environment',\n  'project',\n  'referrer',\n] as const;\n\nfunction setWidgetStorageObject(localObject: Record<string, string>) {\n  localStorage.setItem(getContainerLocalStorageObjectKey, JSON.stringify(localObject));\n}\n\nconst mepQueryParamBase = {};\n\nexport function getMEPQueryParams(\n  mepContext: MetricsEnhancedSettingContext,\n  forceAuto?: boolean\n) {\n  let queryParams = {};\n  const base = mepQueryParamBase;\n  if (mepContext.shouldQueryProvideMEPAutoParams || forceAuto) {\n    queryParams = {\n      ...queryParams,\n      ...base,\n      dataset: 'metricsEnhanced',\n    };\n    if (forceAuto) {\n      return queryParams;\n    }\n  }\n  if (mepContext.shouldQueryProvideMEPTransactionParams) {\n    queryParams = {...queryParams, ...base, dataset: 'discover'};\n  }\n  if (mepContext.shouldQueryProvideMEPMetricParams) {\n    queryParams = {...queryParams, ...base, dataset: 'metrics'};\n  }\n\n  // Disallow any performance request from using aggregates since they aren't currently possible in all visualizations and we don't want to mix modes.\n  return objectIsEmpty(queryParams) ? undefined : queryParams;\n}\n\nexport function getMetricOnlyQueryParams() {\n  return {...mepQueryParamBase, dataset: 'metrics'};\n}\n\nexport const WIDGET_MAP_DENY_LIST = [\n  PerformanceWidgetSetting.MOST_RELATED_ERRORS,\n  PerformanceWidgetSetting.MOST_RELATED_ISSUES,\n];\n\n/**\n * Some widgets, such as Related Issues, are inherently not possible w/ metrics at the moment since they use event.type:error under the hood.\n */\nexport function getMEPParamsIfApplicable(\n  mepContext: MetricsEnhancedSettingContext,\n  widget: PerformanceWidgetSetting\n) {\n  if (WIDGET_MAP_DENY_LIST.includes(widget)) {\n    return undefined;\n  }\n  return getMEPQueryParams(mepContext);\n}\n\nconst getContainerLocalStorageObjectKey = 'landing-chart-container';\nconst getContainerKey = (\n  index: number,\n  performanceType: ProjectPerformanceType,\n  height: number\n) => `landing-chart-container#${performanceType}#${height}#${index}`;\n\nfunction getWidgetStorageObject() {\n  const localObject = JSON.parse(\n    localStorage.getItem(getContainerLocalStorageObjectKey) || '{}'\n  );\n  return localObject;\n}\n\nexport const getChartSetting = (\n  index: number,\n  height: number,\n  performanceType: ProjectPerformanceType,\n  defaultType: PerformanceWidgetSetting,\n  forceDefaultChartSetting?: boolean // Used for testing.\n): PerformanceWidgetSetting => {\n  if (forceDefaultChartSetting) {\n    return defaultType;\n  }\n  const key = getContainerKey(index, performanceType, height);\n  const localObject = getWidgetStorageObject();\n  const value = localObject?.[key];\n\n  if (\n    value &&\n    Object.values(PerformanceWidgetSetting).includes(value as PerformanceWidgetSetting)\n  ) {\n    const _value: PerformanceWidgetSetting = value as PerformanceWidgetSetting;\n    return _value;\n  }\n  return defaultType;\n};\nexport const _setChartSetting = (\n  index: number,\n  height: number,\n  performanceType: ProjectPerformanceType,\n  setting: PerformanceWidgetSetting\n) => {\n  const key = getContainerKey(index, performanceType, height);\n  const localObject = getWidgetStorageObject();\n  localObject[key] = setting;\n\n  setWidgetStorageObject(localObject);\n};\n\nconst DISALLOWED_CHARTS_METRICS = [\n  PerformanceWidgetSetting.DURATION_HISTOGRAM,\n  PerformanceWidgetSetting.FCP_HISTOGRAM,\n  PerformanceWidgetSetting.LCP_HISTOGRAM,\n  PerformanceWidgetSetting.FID_HISTOGRAM,\n];\n\nexport function filterAllowedChartsMetrics(\n  organization: Organization,\n  allowedCharts: PerformanceWidgetSetting[],\n  mepSetting: MetricsEnhancedSettingContext\n) {\n  if (\n    !canUseMetricsData(organization) ||\n    organization.features.includes('performance-mep-reintroduce-histograms') ||\n    mepSetting.metricSettingState === MEPState.TRANSACTIONS_ONLY\n  ) {\n    return allowedCharts;\n  }\n\n  return allowedCharts.filter(c => !DISALLOWED_CHARTS_METRICS.includes(c));\n}\n","import {CHART_PALETTE} from 'sentry/constants/chartPalette';\nimport {t} from 'sentry/locale';\nimport {Organization} from 'sentry/types';\nimport {SPAN_OP_BREAKDOWN_FIELDS} from 'sentry/utils/discover/fields';\n\nimport {getTermHelp, PerformanceTerm} from '../../data';\n\nimport {GenericPerformanceWidgetDataType} from './types';\n\nexport interface ChartDefinition {\n  dataType: GenericPerformanceWidgetDataType;\n  fields: string[];\n\n  title: string;\n  titleTooltip: string; // The first field in the list will be treated as the primary field in most widgets (except for special casing).\n\n  allowsOpenInDiscover?: boolean;\n  chartColor?: string; // Optional. Will default to colors depending on placement in list or colors from the chart itself.\n\n  vitalStops?: {\n    meh: number;\n    poor: number;\n  };\n}\n\nexport enum PerformanceWidgetSetting {\n  DURATION_HISTOGRAM = 'duration_histogram',\n  LCP_HISTOGRAM = 'lcp_histogram',\n  FCP_HISTOGRAM = 'fcp_histogram',\n  FID_HISTOGRAM = 'fid_histogram',\n  APDEX_AREA = 'apdex_area',\n  P50_DURATION_AREA = 'p50_duration_area',\n  P75_DURATION_AREA = 'p75_duration_area',\n  P95_DURATION_AREA = 'p95_duration_area',\n  P99_DURATION_AREA = 'p99_duration_area',\n  P75_LCP_AREA = 'p75_lcp_area',\n  TPM_AREA = 'tpm_area',\n  FAILURE_RATE_AREA = 'failure_rate_area',\n  USER_MISERY_AREA = 'user_misery_area',\n  WORST_LCP_VITALS = 'worst_lcp_vitals',\n  WORST_FCP_VITALS = 'worst_fcp_vitals',\n  WORST_CLS_VITALS = 'worst_cls_vitals',\n  WORST_FID_VITALS = 'worst_fid_vitals',\n  MOST_IMPROVED = 'most_improved',\n  MOST_REGRESSED = 'most_regressed',\n  MOST_RELATED_ERRORS = 'most_related_errors',\n  MOST_RELATED_ISSUES = 'most_related_issues',\n  SLOW_HTTP_OPS = 'slow_http_ops',\n  SLOW_DB_OPS = 'slow_db_ops',\n  SLOW_RESOURCE_OPS = 'slow_resource_ops',\n  SLOW_BROWSER_OPS = 'slow_browser_ops',\n  COLD_STARTUP_AREA = 'cold_startup_area',\n  WARM_STARTUP_AREA = 'warm_startup_area',\n  SLOW_FRAMES_AREA = 'slow_frames_area',\n  FROZEN_FRAMES_AREA = 'frozen_frames_area',\n  MOST_SLOW_FRAMES = 'most_slow_frames',\n  MOST_FROZEN_FRAMES = 'most_frozen_frames',\n  SPAN_OPERATIONS = 'span_operations',\n  TIME_TO_INITIAL_DISPLAY = 'time_to_initial_display',\n  TIME_TO_FULL_DISPLAY = 'time_to_full_display',\n}\n\nconst WIDGET_PALETTE = CHART_PALETTE[5];\nexport const WIDGET_DEFINITIONS: ({\n  organization,\n}: {\n  organization: Organization;\n}) => Record<PerformanceWidgetSetting, ChartDefinition> = ({\n  organization,\n}: {\n  organization: Organization;\n}) => ({\n  [PerformanceWidgetSetting.DURATION_HISTOGRAM]: {\n    title: t('Duration Distribution'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.DURATION_DISTRIBUTION),\n    fields: ['transaction.duration'],\n    dataType: GenericPerformanceWidgetDataType.HISTOGRAM,\n    chartColor: WIDGET_PALETTE[5],\n  },\n  [PerformanceWidgetSetting.LCP_HISTOGRAM]: {\n    title: t('LCP Distribution'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.DURATION_DISTRIBUTION),\n    fields: ['measurements.lcp'],\n    dataType: GenericPerformanceWidgetDataType.HISTOGRAM,\n    chartColor: WIDGET_PALETTE[5],\n  },\n  [PerformanceWidgetSetting.FCP_HISTOGRAM]: {\n    title: t('FCP Distribution'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.DURATION_DISTRIBUTION),\n    fields: ['measurements.fcp'],\n    dataType: GenericPerformanceWidgetDataType.HISTOGRAM,\n    chartColor: WIDGET_PALETTE[5],\n  },\n  [PerformanceWidgetSetting.FID_HISTOGRAM]: {\n    title: t('FID Distribution'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.DURATION_DISTRIBUTION),\n    fields: ['measurements.fid'],\n    dataType: GenericPerformanceWidgetDataType.HISTOGRAM,\n    chartColor: WIDGET_PALETTE[5],\n  },\n  [PerformanceWidgetSetting.WORST_LCP_VITALS]: {\n    title: t('Worst LCP Web Vitals'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.LCP),\n    fields: ['measurements.lcp'],\n    vitalStops: {\n      poor: 4000,\n      meh: 2500,\n    },\n    dataType: GenericPerformanceWidgetDataType.VITALS,\n  },\n  [PerformanceWidgetSetting.WORST_FCP_VITALS]: {\n    title: t('Worst FCP Web Vitals'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.FCP),\n    fields: ['measurements.fcp'],\n    vitalStops: {\n      poor: 3000,\n      meh: 1000,\n    },\n    dataType: GenericPerformanceWidgetDataType.VITALS,\n  },\n  [PerformanceWidgetSetting.WORST_FID_VITALS]: {\n    title: t('Worst FID Web Vitals'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.FID),\n    fields: ['measurements.fid'],\n    vitalStops: {\n      poor: 300,\n      meh: 100,\n    },\n    dataType: GenericPerformanceWidgetDataType.VITALS,\n  },\n  [PerformanceWidgetSetting.WORST_CLS_VITALS]: {\n    title: t('Worst CLS Web Vitals'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.CLS),\n    fields: ['measurements.cls'],\n    vitalStops: {\n      poor: 0.25,\n      meh: 0.1,\n    },\n    dataType: GenericPerformanceWidgetDataType.VITALS,\n  },\n  [PerformanceWidgetSetting.TPM_AREA]: {\n    title: t('Transactions Per Minute'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.TPM),\n    fields: ['tpm()'],\n    dataType: GenericPerformanceWidgetDataType.AREA,\n    chartColor: WIDGET_PALETTE[1],\n    allowsOpenInDiscover: true,\n  },\n  [PerformanceWidgetSetting.APDEX_AREA]: {\n    title: t('Apdex'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.APDEX),\n    fields: ['apdex()'],\n    dataType: GenericPerformanceWidgetDataType.AREA,\n    chartColor: WIDGET_PALETTE[4],\n    allowsOpenInDiscover: true,\n  },\n  [PerformanceWidgetSetting.P50_DURATION_AREA]: {\n    title: t('p50 Duration'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.P50),\n    fields: ['p50(transaction.duration)'],\n    dataType: GenericPerformanceWidgetDataType.AREA,\n    chartColor: WIDGET_PALETTE[3],\n    allowsOpenInDiscover: true,\n  },\n  [PerformanceWidgetSetting.P75_DURATION_AREA]: {\n    title: t('p75 Duration'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.P75),\n    fields: ['p75(transaction.duration)'],\n    dataType: GenericPerformanceWidgetDataType.AREA,\n    chartColor: WIDGET_PALETTE[3],\n    allowsOpenInDiscover: true,\n  },\n  [PerformanceWidgetSetting.P95_DURATION_AREA]: {\n    title: t('p95 Duration'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.P95),\n    fields: ['p95(transaction.duration)'],\n    dataType: GenericPerformanceWidgetDataType.AREA,\n    chartColor: WIDGET_PALETTE[3],\n    allowsOpenInDiscover: true,\n  },\n  [PerformanceWidgetSetting.P99_DURATION_AREA]: {\n    title: t('p99 Duration'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.P99),\n    fields: ['p99(transaction.duration)'],\n    dataType: GenericPerformanceWidgetDataType.AREA,\n    chartColor: WIDGET_PALETTE[3],\n    allowsOpenInDiscover: true,\n  },\n  [PerformanceWidgetSetting.P75_LCP_AREA]: {\n    title: t('p75 LCP'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.P75),\n    fields: ['p75(measurements.lcp)'],\n    dataType: GenericPerformanceWidgetDataType.AREA,\n    chartColor: WIDGET_PALETTE[1],\n    allowsOpenInDiscover: true,\n  },\n  [PerformanceWidgetSetting.FAILURE_RATE_AREA]: {\n    title: t('Failure Rate'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.FAILURE_RATE),\n    fields: ['failure_rate()'],\n    dataType: GenericPerformanceWidgetDataType.AREA,\n    chartColor: WIDGET_PALETTE[2],\n    allowsOpenInDiscover: true,\n  },\n  [PerformanceWidgetSetting.USER_MISERY_AREA]: {\n    title: t('User Misery'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.USER_MISERY),\n    fields: [`user_misery()`],\n    dataType: GenericPerformanceWidgetDataType.AREA,\n    chartColor: WIDGET_PALETTE[0],\n    allowsOpenInDiscover: true,\n  },\n  [PerformanceWidgetSetting.COLD_STARTUP_AREA]: {\n    title: t('Cold Startup Time'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.APP_START_COLD),\n    fields: ['p75(measurements.app_start_cold)'],\n    dataType: GenericPerformanceWidgetDataType.AREA,\n    chartColor: WIDGET_PALETTE[4],\n    allowsOpenInDiscover: true,\n  },\n  [PerformanceWidgetSetting.WARM_STARTUP_AREA]: {\n    title: t('Warm Startup Time'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.APP_START_WARM),\n    fields: ['p75(measurements.app_start_warm)'],\n    dataType: GenericPerformanceWidgetDataType.AREA,\n    chartColor: WIDGET_PALETTE[3],\n    allowsOpenInDiscover: true,\n  },\n  [PerformanceWidgetSetting.SLOW_FRAMES_AREA]: {\n    title: t('Slow Frames'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.SLOW_FRAMES),\n    fields: ['p75(measurements.frames_slow_rate)'],\n    dataType: GenericPerformanceWidgetDataType.AREA,\n    chartColor: WIDGET_PALETTE[0],\n    allowsOpenInDiscover: true,\n  },\n  [PerformanceWidgetSetting.FROZEN_FRAMES_AREA]: {\n    title: t('Frozen Frames'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.FROZEN_FRAMES),\n    fields: ['p75(measurements.frames_frozen_rate)'],\n    dataType: GenericPerformanceWidgetDataType.AREA,\n    chartColor: WIDGET_PALETTE[5],\n    allowsOpenInDiscover: true,\n  },\n  [PerformanceWidgetSetting.MOST_RELATED_ERRORS]: {\n    title: t('Most Related Errors'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.MOST_ERRORS),\n    fields: [`failure_count()`],\n    dataType: GenericPerformanceWidgetDataType.LINE_LIST,\n    chartColor: WIDGET_PALETTE[0],\n  },\n  [PerformanceWidgetSetting.MOST_RELATED_ISSUES]: {\n    title: t('Most Related Issues'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.MOST_ISSUES),\n    fields: [`count()`],\n    dataType: GenericPerformanceWidgetDataType.LINE_LIST,\n    chartColor: WIDGET_PALETTE[0],\n  },\n  [PerformanceWidgetSetting.SLOW_HTTP_OPS]: {\n    title: t('Slow HTTP Ops'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.SLOW_HTTP_SPANS),\n    fields: [`p75(spans.http)`],\n    dataType: GenericPerformanceWidgetDataType.LINE_LIST,\n    chartColor: WIDGET_PALETTE[0],\n  },\n  [PerformanceWidgetSetting.SLOW_BROWSER_OPS]: {\n    title: t('Slow Browser Ops'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.SLOW_HTTP_SPANS),\n    fields: [`p75(spans.browser)`],\n    dataType: GenericPerformanceWidgetDataType.LINE_LIST,\n    chartColor: WIDGET_PALETTE[0],\n  },\n  [PerformanceWidgetSetting.SLOW_RESOURCE_OPS]: {\n    title: t('Slow Resource Ops'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.SLOW_HTTP_SPANS),\n    fields: [`p75(spans.resource)`],\n    dataType: GenericPerformanceWidgetDataType.LINE_LIST,\n    chartColor: WIDGET_PALETTE[0],\n  },\n  [PerformanceWidgetSetting.SLOW_DB_OPS]: {\n    title: t('Slow DB Ops'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.SLOW_HTTP_SPANS),\n    fields: [`p75(spans.db)`],\n    dataType: GenericPerformanceWidgetDataType.LINE_LIST,\n    chartColor: WIDGET_PALETTE[0],\n  },\n  [PerformanceWidgetSetting.TIME_TO_INITIAL_DISPLAY]: {\n    title: t('Time to Initial Display'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.TIME_TO_INITIAL_DISPLAY),\n    fields: ['p75(measurements.time_to_initial_display)'],\n    dataType: GenericPerformanceWidgetDataType.AREA,\n    chartColor: WIDGET_PALETTE[4],\n    allowsOpenInDiscover: true,\n  },\n  [PerformanceWidgetSetting.TIME_TO_FULL_DISPLAY]: {\n    title: t('Time to Full Display'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.TIME_TO_FULL_DISPLAY),\n    fields: ['p75(measurements.time_to_full_display)'],\n    dataType: GenericPerformanceWidgetDataType.AREA,\n    chartColor: WIDGET_PALETTE[4],\n    allowsOpenInDiscover: true,\n  },\n  [PerformanceWidgetSetting.MOST_SLOW_FRAMES]: {\n    title: t('Most Slow Frames'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.SLOW_FRAMES),\n    fields: ['avg(measurements.frames_slow)'],\n    dataType: GenericPerformanceWidgetDataType.LINE_LIST,\n    chartColor: WIDGET_PALETTE[0],\n  },\n  [PerformanceWidgetSetting.MOST_FROZEN_FRAMES]: {\n    title: t('Most Frozen Frames'),\n    titleTooltip: getTermHelp(organization, PerformanceTerm.FROZEN_FRAMES),\n    fields: ['avg(measurements.frames_frozen)'],\n    dataType: GenericPerformanceWidgetDataType.LINE_LIST,\n    chartColor: WIDGET_PALETTE[0],\n  },\n  [PerformanceWidgetSetting.MOST_IMPROVED]: {\n    title: t('Most Improved'),\n    titleTooltip: t(\n      'This compares the baseline (%s) of the past with the present.',\n      'improved'\n    ),\n    fields: [],\n    dataType: GenericPerformanceWidgetDataType.TRENDS,\n  },\n  [PerformanceWidgetSetting.MOST_REGRESSED]: {\n    title: t('Most Regressed'),\n    titleTooltip: t(\n      'This compares the baseline (%s) of the past with the present.',\n      'regressed'\n    ),\n    fields: [],\n    dataType: GenericPerformanceWidgetDataType.TRENDS,\n  },\n  [PerformanceWidgetSetting.SPAN_OPERATIONS]: {\n    title: t('Span Operations Breakdown'),\n    titleTooltip: '',\n    fields: SPAN_OP_BREAKDOWN_FIELDS.map(spanOp => `p75(${spanOp})`),\n    dataType: GenericPerformanceWidgetDataType.STACKED_AREA,\n  },\n});\n"],"names":["_MEPDataProvider","_useMEPDataContext","createDefinedContext","name","MEPDataProvider","_ref","children","chartSetting","setAutoSampleState","useMEPSettingContext","isMetricsData","_setIsMetricsData","useState","undefined","setIsMetricsData","useCallback","value","WIDGET_MAP_DENY_LIST","AutoSampleState","_jsx","displayName","useMEPDataContext","getIsMetricsDataFromResults","results","field","arguments","length","meta","seriesAdditionalInfo","histograms","tableData","MEPTag","useOrganization","features","includes","tagText","Tag","_MEPSettingProvider","_useMEPSettingContext","_MEPSettingContext","MEPConsumer","Consumer","MEPState","METRIC_SETTING_PARAM","METRIC_SEARCH_SETTING_PARAM","canUseMetricsData","organization","isDevFlagOn","canUseMetricsDevUI","isInternalViewOn","isRollingOut","MEPSettingProvider","location","_hasMEPState","forceTransactions","canUseMEP","allowedStates","METRICS_ONLY","TRANSACTIONS_ONLY","_metricSettingFromParam","decodeScalar","query","defaultMetricsState","metricSettingFromParam","find","s","isControlledMEP","_metricSettingState","_setMetricSettingState","useReducer","_","next","setMetricSettingState","settingState","browserHistory","autoSampleState","UNSET","metricSettingState","shouldQueryProvideMEPAutoParams","AUTO","shouldQueryProvideMEPMetricParams","shouldQueryProvideMEPTransactionParams","memoizationKey","VisualizationDataState","GenericPerformanceWidgetDataType","eventsRequestQueryProps","mepQueryParamBase","getMEPQueryParams","mepContext","forceAuto","queryParams","base","dataset","objectIsEmpty","PerformanceWidgetSetting","getMEPParamsIfApplicable","widget","getContainerLocalStorageObjectKey","getContainerKey","index","performanceType","height","getWidgetStorageObject","JSON","parse","localStorage","getChartSetting","defaultType","forceDefaultChartSetting","key","localObject","Object","values","_setChartSetting","setting","stringify","setWidgetStorageObject","DISALLOWED_CHARTS_METRICS","filterAllowedChartsMetrics","allowedCharts","mepSetting","filter","c","WIDGET_PALETTE","CHART_PALETTE","WIDGET_DEFINITIONS","DURATION_HISTOGRAM","title","t","titleTooltip","getTermHelp","PerformanceTerm","fields","dataType","chartColor","LCP_HISTOGRAM","FCP_HISTOGRAM","FID_HISTOGRAM","WORST_LCP_VITALS","vitalStops","poor","meh","WORST_FCP_VITALS","WORST_FID_VITALS","WORST_CLS_VITALS","TPM_AREA","allowsOpenInDiscover","APDEX_AREA","P50_DURATION_AREA","P75_DURATION_AREA","P95_DURATION_AREA","P99_DURATION_AREA","P75_LCP_AREA","FAILURE_RATE_AREA","USER_MISERY_AREA","COLD_STARTUP_AREA","WARM_STARTUP_AREA","SLOW_FRAMES_AREA","FROZEN_FRAMES_AREA","MOST_RELATED_ERRORS","MOST_RELATED_ISSUES","SLOW_HTTP_OPS","SLOW_BROWSER_OPS","SLOW_RESOURCE_OPS","SLOW_DB_OPS","TIME_TO_INITIAL_DISPLAY","TIME_TO_FULL_DISPLAY","MOST_SLOW_FRAMES","MOST_FROZEN_FRAMES","MOST_IMPROVED","MOST_REGRESSED","SPAN_OPERATIONS","SPAN_OP_BREAKDOWN_FIELDS","spanOp"],"sourceRoot":""}