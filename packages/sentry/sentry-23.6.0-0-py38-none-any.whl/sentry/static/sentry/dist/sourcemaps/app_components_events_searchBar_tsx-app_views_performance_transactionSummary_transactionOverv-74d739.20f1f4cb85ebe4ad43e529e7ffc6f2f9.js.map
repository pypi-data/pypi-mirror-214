{"version":3,"file":"chunks/app_components_events_searchBar_tsx-app_views_performance_transactionSummary_transactionOverv-74d739.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/events/searchBar.tsx","webpack:///./app/components/performanceDuration.tsx","webpack:///./app/utils/performance/segmentExplorer/segmentExplorerQuery.tsx","webpack:///./app/utils/withTags.tsx","webpack:///./app/views/performance/transactionSummary/transactionOverview/tagExplorer.tsx"],"sourcesContent":["import {useEffect, useMemo} from 'react';\nimport assign from 'lodash/assign';\nimport flatten from 'lodash/flatten';\nimport memoize from 'lodash/memoize';\nimport omit from 'lodash/omit';\n\nimport {fetchTagValues} from 'sentry/actionCreators/tags';\nimport SmartSearchBar from 'sentry/components/smartSearchBar';\nimport {NEGATION_OPERATOR, SEARCH_WILDCARD} from 'sentry/constants';\nimport {Organization, SavedSearchType, TagCollection} from 'sentry/types';\nimport {defined} from 'sentry/utils';\nimport {CustomMeasurementCollection} from 'sentry/utils/customMeasurements/customMeasurements';\nimport {\n  Field,\n  FIELD_TAGS,\n  isAggregateField,\n  isEquation,\n  isMeasurement,\n  SEMVER_TAGS,\n  SPAN_OP_BREAKDOWN_FIELDS,\n  TRACING_FIELDS,\n} from 'sentry/utils/discover/fields';\nimport {\n  DEVICE_CLASS_TAG_VALUES,\n  FieldKey,\n  FieldKind,\n  isDeviceClass,\n} from 'sentry/utils/fields';\nimport Measurements from 'sentry/utils/measurements/measurements';\nimport useApi from 'sentry/utils/useApi';\nimport withTags from 'sentry/utils/withTags';\nimport {isCustomMeasurement} from 'sentry/views/dashboards/utils';\n\nconst SEARCH_SPECIAL_CHARS_REGEXP = new RegExp(\n  `^${NEGATION_OPERATOR}|\\\\${SEARCH_WILDCARD}`,\n  'g'\n);\n\nconst STATIC_FIELD_TAGS_SET = new Set(Object.keys(FIELD_TAGS));\nconst getFunctionTags = (fields: Readonly<Field[]> | undefined) => {\n  if (!fields?.length) {\n    return [];\n  }\n  return fields.reduce((acc, item) => {\n    if (\n      !STATIC_FIELD_TAGS_SET.has(item.field) &&\n      !isEquation(item.field) &&\n      !isCustomMeasurement(item.field)\n    ) {\n      acc[item.field] = {key: item.field, name: item.field, kind: FieldKind.FUNCTION};\n    }\n\n    return acc;\n  }, {});\n};\n\nconst getMeasurementTags = (\n  measurements: Parameters<\n    React.ComponentProps<typeof Measurements>['children']\n  >[0]['measurements'],\n  customMeasurements:\n    | Parameters<React.ComponentProps<typeof Measurements>['children']>[0]['measurements']\n    | undefined\n) => {\n  const measurementsWithKind = Object.keys(measurements).reduce((tags, key) => {\n    tags[key] = {\n      ...measurements[key],\n      kind: FieldKind.MEASUREMENT,\n    };\n    return tags;\n  }, {});\n\n  if (!customMeasurements) {\n    return measurementsWithKind;\n  }\n\n  return Object.keys(customMeasurements).reduce((tags, key) => {\n    tags[key] = {\n      ...customMeasurements[key],\n      kind: FieldKind.MEASUREMENT,\n    };\n    return tags;\n  }, measurementsWithKind);\n};\n\nconst STATIC_FIELD_TAGS = Object.keys(FIELD_TAGS).reduce((tags, key) => {\n  tags[key] = {\n    ...FIELD_TAGS[key],\n    kind: FieldKind.FIELD,\n  };\n  return tags;\n}, {});\n\nconst STATIC_FIELD_TAGS_WITHOUT_TRACING = omit(STATIC_FIELD_TAGS, TRACING_FIELDS);\n\nconst STATIC_SPAN_TAGS = SPAN_OP_BREAKDOWN_FIELDS.reduce((tags, key) => {\n  tags[key] = {name: key, kind: FieldKind.METRICS};\n  return tags;\n}, {});\n\nconst STATIC_SEMVER_TAGS = Object.keys(SEMVER_TAGS).reduce((tags, key) => {\n  tags[key] = {\n    ...SEMVER_TAGS[key],\n    kind: FieldKind.FIELD,\n  };\n  return tags;\n}, {});\n\nexport type SearchBarProps = Omit<React.ComponentProps<typeof SmartSearchBar>, 'tags'> & {\n  organization: Organization;\n  tags: TagCollection;\n  customMeasurements?: CustomMeasurementCollection;\n  fields?: Readonly<Field[]>;\n  includeSessionTagsValues?: boolean;\n  /**\n   * Used to define the max height of the menu in px.\n   */\n  maxMenuHeight?: number;\n  maxSearchItems?: React.ComponentProps<typeof SmartSearchBar>['maxSearchItems'];\n  omitTags?: string[];\n  projectIds?: number[] | Readonly<number[]>;\n};\n\nfunction SearchBar(props: SearchBarProps) {\n  const {\n    maxSearchItems,\n    organization,\n    tags,\n    omitTags,\n    fields,\n    projectIds,\n    includeSessionTagsValues,\n    maxMenuHeight,\n    customMeasurements,\n  } = props;\n\n  const api = useApi();\n\n  const functionTags = useMemo(() => getFunctionTags(fields), [fields]);\n  const tagsWithKind = useMemo(() => {\n    return Object.keys(tags).reduce((acc, key) => {\n      acc[key] = {\n        ...tags[key],\n        kind: FieldKind.TAG,\n      };\n      return acc;\n    }, {});\n  }, [tags]);\n\n  useEffect(() => {\n    // Clear memoized data on mount to make tests more consistent.\n    getEventFieldValues.cache.clear?.();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [projectIds]);\n\n  // Returns array of tag values that substring match `query`; invokes `callback`\n  // with data when ready\n  const getEventFieldValues = memoize(\n    (tag, query, endpointParams): Promise<string[]> => {\n      const projectIdStrings = (projectIds as Readonly<number>[])?.map(String);\n\n      if (isAggregateField(tag.key) || isMeasurement(tag.key)) {\n        // We can't really auto suggest values for aggregate fields\n        // or measurements, so we simply don't\n        return Promise.resolve([]);\n      }\n\n      // device.class is stored as \"numbers\" in snuba, but we want to suggest high, medium,\n      // and low search filter values because discover maps device.class to these values.\n      if (isDeviceClass(tag.key)) {\n        return Promise.resolve(DEVICE_CLASS_TAG_VALUES);\n      }\n\n      return fetchTagValues({\n        api,\n        orgSlug: organization.slug,\n        tagKey: tag.key,\n        search: query,\n        projectIds: projectIdStrings,\n        endpointParams,\n        // allows searching for tags on transactions as well\n        includeTransactions: true,\n        // allows searching for tags on sessions as well\n        includeSessions: includeSessionTagsValues,\n      }).then(\n        results =>\n          flatten(results.filter(({name}) => defined(name)).map(({name}) => name)),\n        () => {\n          throw new Error('Unable to fetch event field values');\n        }\n      );\n    },\n    ({key}, query) => `${key}-${query}`\n  );\n\n  const getTagList = (\n    measurements: Parameters<\n      React.ComponentProps<typeof Measurements>['children']\n    >[0]['measurements']\n  ) => {\n    const measurementsWithKind = getMeasurementTags(measurements, customMeasurements);\n    const orgHasPerformanceView = organization.features.includes('performance-view');\n\n    const combinedTags: TagCollection = orgHasPerformanceView\n      ? Object.assign(\n          {},\n          measurementsWithKind,\n          functionTags,\n          STATIC_SPAN_TAGS,\n          STATIC_FIELD_TAGS\n        )\n      : Object.assign({}, STATIC_FIELD_TAGS_WITHOUT_TRACING);\n\n    assign(combinedTags, tagsWithKind, STATIC_FIELD_TAGS, STATIC_SEMVER_TAGS);\n\n    combinedTags.has = {\n      key: FieldKey.HAS,\n      name: 'Has property',\n      values: Object.keys(combinedTags).sort((a, b) => {\n        return a.toLowerCase().localeCompare(b.toLowerCase());\n      }),\n      predefined: true,\n      kind: FieldKind.FIELD,\n    };\n\n    const list =\n      omitTags && omitTags.length > 0 ? omit(combinedTags, omitTags) : combinedTags;\n    return list;\n  };\n\n  return (\n    <Measurements>\n      {({measurements}) => (\n        <SmartSearchBar\n          hasRecentSearches\n          savedSearchType={SavedSearchType.EVENT}\n          onGetTagValues={getEventFieldValues}\n          supportedTags={getTagList(measurements)}\n          prepareQuery={query => {\n            // Prepare query string (e.g. strip special characters like negation operator)\n            return query.replace(SEARCH_SPECIAL_CHARS_REGEXP, '');\n          }}\n          maxSearchItems={maxSearchItems}\n          excludedTags={[FieldKey.ENVIRONMENT, FieldKey.TOTAL_COUNT]}\n          maxMenuHeight={maxMenuHeight ?? 300}\n          customPerformanceMetrics={customMeasurements}\n          {...props}\n        />\n      )}\n    </Measurements>\n  );\n}\n\nexport default withTags(SearchBar);\n","import Duration from 'sentry/components/duration';\nimport {defined} from 'sentry/utils';\n\ninterface DurationProps {\n  abbreviation?: boolean;\n}\n\ninterface SecondsProps extends DurationProps {\n  seconds: number;\n}\n\ninterface MillisecondsProps extends DurationProps {\n  milliseconds: number;\n}\n\ninterface NanosecondsProps extends DurationProps {\n  nanoseconds: number;\n}\n\ntype PerformanceDurationProps = SecondsProps | MillisecondsProps | NanosecondsProps;\n\nfunction isMilliseconds(props: PerformanceDurationProps): props is MillisecondsProps {\n  return defined((props as MillisecondsProps).milliseconds);\n}\n\nfunction isNanoseconds(props: PerformanceDurationProps): props is NanosecondsProps {\n  return defined((props as NanosecondsProps).nanoseconds);\n}\n\nfunction PerformanceDuration(props: PerformanceDurationProps) {\n  const normalizedSeconds = isNanoseconds(props)\n    ? props.nanoseconds / 1_000_000_000\n    : isMilliseconds(props)\n    ? props.milliseconds / 1000\n    : props.seconds;\n\n  return (\n    <Duration\n      abbreviation={props.abbreviation}\n      seconds={normalizedSeconds}\n      fixedDigits={2}\n    />\n  );\n}\n\nexport default PerformanceDuration;\n","import {EventQuery} from 'sentry/actionCreators/events';\nimport {LocationQuery} from 'sentry/utils/discover/eventView';\nimport GenericDiscoverQuery, {\n  DiscoverQueryProps,\n  GenericChildrenProps,\n} from 'sentry/utils/discover/genericDiscoverQuery';\n\n/**\n * An individual row in a Segment explorer result\n */\nexport type TableDataRow = {\n  aggregate: number;\n  comparison: number;\n  count: number;\n  frequency: number;\n  sumdelta: number;\n  tags_key: string;\n  tags_value: string;\n};\n\nexport type TableData = {\n  data: TableDataRow[];\n  meta: {};\n};\n\n/**\n * A Segment Explorer result including rows and metadata.\n */\n\ntype ChildrenProps = Omit<GenericChildrenProps<TableData>, 'tableData'> & {\n  tableData: TableData | null;\n};\n\ntype QueryProps = DiscoverQueryProps & {\n  aggregateColumn: string;\n  children: (props: ChildrenProps) => React.ReactNode;\n  allTagKeys?: boolean;\n  sort?: string | string[];\n  tagKey?: string;\n};\n\ntype FacetQuery = LocationQuery &\n  EventQuery & {\n    aggregateColumn?: string;\n    allTagKeys?: boolean;\n    sort?: string | string[];\n    tagKey?: string;\n  };\n\nexport function getRequestFunction(_props: QueryProps) {\n  const {aggregateColumn} = _props;\n  function getTagExplorerRequestPayload(props: DiscoverQueryProps) {\n    const {eventView} = props;\n    const apiPayload: FacetQuery = eventView.getEventsAPIPayload(props.location);\n    apiPayload.aggregateColumn = aggregateColumn;\n    apiPayload.sort = _props.sort ? _props.sort : apiPayload.sort;\n    if (_props.allTagKeys) {\n      apiPayload.allTagKeys = _props.allTagKeys;\n    }\n    if (_props.tagKey) {\n      apiPayload.tagKey = _props.tagKey;\n    }\n    return apiPayload;\n  }\n  return getTagExplorerRequestPayload;\n}\n\nfunction shouldRefetchData(prevProps: QueryProps, nextProps: QueryProps) {\n  return (\n    prevProps.aggregateColumn !== nextProps.aggregateColumn ||\n    prevProps.sort !== nextProps.sort ||\n    prevProps.allTagKeys !== nextProps.allTagKeys ||\n    prevProps.tagKey !== nextProps.tagKey\n  );\n}\n\nfunction SegmentExplorerQuery(props: QueryProps) {\n  return (\n    <GenericDiscoverQuery<TableData, QueryProps>\n      route=\"events-facets-performance\"\n      getRequestPayload={getRequestFunction(props)}\n      shouldRefetchData={shouldRefetchData}\n      {...props}\n    />\n  );\n}\n\nexport default SegmentExplorerQuery;\n","import {Component} from 'react';\n\nimport TagStore from 'sentry/stores/tagStore';\nimport {TagCollection} from 'sentry/types';\nimport getDisplayName from 'sentry/utils/getDisplayName';\n\ntype InjectedTagsProps = {\n  tags: TagCollection;\n};\n\ntype State = {\n  tags: TagCollection;\n};\n\n/**\n * HOC for getting *only* tags from the TagStore.\n */\nfunction withTags<P extends InjectedTagsProps>(WrappedComponent: React.ComponentType<P>) {\n  class WithTags extends Component<Omit<P, keyof InjectedTagsProps>, State> {\n    static displayName = `withTags(${getDisplayName(WrappedComponent)})`;\n\n    state: State = {\n      tags: TagStore.getState(),\n    };\n\n    componentWillUnmount() {\n      this.unsubscribe();\n    }\n\n    unsubscribe = TagStore.listen(\n      (tags: TagCollection) => this.setState({tags}),\n      undefined\n    );\n\n    render() {\n      const {tags, ...props} = this.props as P;\n      return <WrappedComponent {...({tags: tags ?? this.state.tags, ...props} as P)} />;\n    }\n  }\n\n  return WithTags;\n}\n\nexport default withTags;\n","import {Component, Fragment} from 'react';\nimport {browserHistory} from 'react-router';\nimport styled from '@emotion/styled';\nimport {Location, LocationDescriptorObject} from 'history';\n\nimport GuideAnchor from 'sentry/components/assistant/guideAnchor';\nimport {Button} from 'sentry/components/button';\nimport {SectionHeading} from 'sentry/components/charts/styles';\nimport GridEditable, {\n  COL_WIDTH_UNDEFINED,\n  GridColumn,\n  GridColumnOrder,\n} from 'sentry/components/gridEditable';\nimport SortLink from 'sentry/components/gridEditable/sortLink';\nimport Link from 'sentry/components/links/link';\nimport Pagination, {CursorHandler} from 'sentry/components/pagination';\nimport PerformanceDuration from 'sentry/components/performanceDuration';\nimport {t} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\nimport {Organization, Project} from 'sentry/types';\nimport {trackAnalytics} from 'sentry/utils/analytics';\nimport EventView, {fromSorts, isFieldSortable} from 'sentry/utils/discover/eventView';\nimport {fieldAlignment} from 'sentry/utils/discover/fields';\nimport {formatPercentage} from 'sentry/utils/formatters';\nimport SegmentExplorerQuery, {\n  TableData,\n  TableDataRow,\n} from 'sentry/utils/performance/segmentExplorer/segmentExplorerQuery';\nimport {decodeScalar} from 'sentry/utils/queryString';\nimport {MutableSearch} from 'sentry/utils/tokenizeSearch';\nimport CellAction, {Actions, updateQuery} from 'sentry/views/discover/table/cellAction';\nimport {TableColumn} from 'sentry/views/discover/table/types';\n\nimport {\n  platformAndConditionsToPerformanceType,\n  ProjectPerformanceType,\n} from '../../utils';\nimport {\n  SPAN_OPERATION_BREAKDOWN_FILTER_TO_FIELD,\n  SpanOperationBreakdownFilter,\n} from '../filter';\nimport {tagsRouteWithQuery} from '../transactionTags/utils';\nimport {normalizeSearchConditions} from '../utils';\n\nconst TAGS_CURSOR_NAME = 'tags_cursor';\n\ntype ColumnKeys =\n  | 'key'\n  | 'tagValue'\n  | 'aggregate'\n  | 'frequency'\n  | 'comparison'\n  | 'sumdelta';\ntype TagColumn = GridColumnOrder<ColumnKeys> & {\n  column: {\n    kind: string;\n  };\n  field: string;\n  canSort?: boolean;\n};\nexport const TAG_EXPLORER_COLUMN_ORDER: TagColumn[] = [\n  {\n    key: 'key',\n    field: 'key',\n    name: 'Tag Key',\n    width: -1,\n    column: {\n      kind: 'field',\n    },\n  },\n  {\n    key: 'tagValue',\n    field: 'tagValue',\n    name: 'Tag Values',\n    width: -1,\n    column: {\n      kind: 'field',\n    },\n  },\n  {\n    key: 'aggregate',\n    field: 'aggregate',\n    name: 'Avg Duration',\n    width: -1,\n    column: {\n      kind: 'field',\n    },\n    canSort: true,\n  },\n  {\n    key: 'frequency',\n    field: 'frequency',\n    name: 'Frequency',\n    width: -1,\n    column: {\n      kind: 'field',\n    },\n    canSort: true,\n  },\n  {\n    key: 'comparison',\n    field: 'comparison',\n    name: 'Compared To Avg',\n    width: -1,\n    column: {\n      kind: 'field',\n    },\n    canSort: true,\n  },\n  {\n    key: 'sumdelta',\n    field: 'sumdelta',\n    name: 'Total Time Lost',\n    width: -1,\n    column: {\n      kind: 'field',\n    },\n    canSort: true,\n  },\n];\n\nexport const getTransactionField = (\n  currentFilter: SpanOperationBreakdownFilter,\n  projects: Project[],\n  eventView: EventView\n) => {\n  const fieldFromFilter = SPAN_OPERATION_BREAKDOWN_FILTER_TO_FIELD[currentFilter];\n  if (fieldFromFilter) {\n    return fieldFromFilter;\n  }\n\n  const performanceType = platformAndConditionsToPerformanceType(projects, eventView);\n  if (performanceType === ProjectPerformanceType.FRONTEND) {\n    return 'measurements.lcp';\n  }\n\n  return 'transaction.duration';\n};\n\nconst getColumnsWithReplacedDuration = (\n  currentFilter: SpanOperationBreakdownFilter,\n  projects: Project[],\n  eventView: EventView\n) => {\n  const columns = TAG_EXPLORER_COLUMN_ORDER.map(c => ({...c}));\n  const durationColumn = columns.find(c => c.key === 'aggregate');\n\n  if (!durationColumn) {\n    return columns;\n  }\n\n  const fieldFromFilter = SPAN_OPERATION_BREAKDOWN_FILTER_TO_FIELD[currentFilter];\n  if (fieldFromFilter) {\n    durationColumn.name = 'Avg Span Duration';\n    return columns;\n  }\n\n  const performanceType = platformAndConditionsToPerformanceType(projects, eventView);\n  if (performanceType === ProjectPerformanceType.FRONTEND) {\n    durationColumn.name = 'Avg LCP';\n    return columns;\n  }\n\n  return columns;\n};\n\ntype TagValueProps = {\n  row: TableDataRow;\n};\n\nexport function TagValue(props: TagValueProps) {\n  return <div className=\"truncate\">{props.row.tags_value}</div>;\n}\n\ntype Props = {\n  currentFilter: SpanOperationBreakdownFilter;\n  eventView: EventView;\n  location: Location;\n  organization: Organization;\n  projects: Project[];\n  transactionName: string;\n};\n\ntype State = {\n  widths: number[];\n};\nexport class TagExplorer extends Component<Props> {\n  state: State = {\n    widths: [],\n  };\n\n  handleResizeColumn = (columnIndex: number, nextColumn: GridColumn) => {\n    const widths: number[] = [...this.state.widths];\n    widths[columnIndex] = nextColumn.width\n      ? Number(nextColumn.width)\n      : COL_WIDTH_UNDEFINED;\n    this.setState({widths});\n  };\n\n  getColumnOrder = (columns: GridColumnOrder[]) => {\n    const {widths} = this.state;\n    return columns.map((col: GridColumnOrder, i: number) => {\n      if (typeof widths[i] === 'number') {\n        return {...col, width: widths[i]};\n      }\n      return col;\n    });\n  };\n\n  onSortClick(currentSortKind?: string, currentSortField?: string) {\n    const {organization} = this.props;\n    trackAnalytics('performance_views.summary.tag_explorer.sort', {\n      organization,\n      field: currentSortField,\n      direction: currentSortKind,\n    });\n  }\n\n  renderHeadCell(\n    sortedEventView: EventView,\n    tableMeta: TableData['meta'],\n    column: TableColumn<ColumnKeys>,\n    columnInfo: TagColumn\n  ): React.ReactNode {\n    const {location} = this.props;\n    const align = fieldAlignment(column.key, column.type, tableMeta);\n    const field = {field: column.key, width: column.width};\n\n    function generateSortLink(): LocationDescriptorObject | undefined {\n      if (!tableMeta) {\n        return undefined;\n      }\n\n      const nextEventView = sortedEventView.sortOnField(field, tableMeta);\n      const {sort} = nextEventView.generateQueryStringObject();\n\n      return {\n        ...location,\n        query: {...location.query, [TAGS_CURSOR_NAME]: undefined, tagSort: sort},\n      };\n    }\n    const currentSort = sortedEventView.sortForField(field, tableMeta);\n    const canSort = isFieldSortable(field, tableMeta);\n\n    const currentSortKind = currentSort ? currentSort.kind : undefined;\n    const currentSortField = currentSort ? currentSort.field : undefined;\n\n    return (\n      <SortLink\n        align={align}\n        title={columnInfo.name}\n        direction={currentSortKind}\n        canSort={canSort}\n        generateSortLink={generateSortLink}\n        onClick={() => this.onSortClick(currentSortKind, currentSortField)}\n      />\n    );\n  }\n\n  renderHeadCellWithMeta = (\n    sortedEventView: EventView,\n    tableMeta: TableData['meta'],\n    columns: TagColumn[]\n  ) => {\n    return (column: TableColumn<ColumnKeys>, index: number): React.ReactNode =>\n      this.renderHeadCell(sortedEventView, tableMeta, column, columns[index]);\n  };\n\n  handleTagValueClick = (location: Location, tagKey: string, tagValue: string) => {\n    const {organization} = this.props;\n    trackAnalytics('performance_views.summary.tag_explorer.tag_value', {\n      organization,\n    });\n\n    const queryString = decodeScalar(location.query.query);\n    const conditions = new MutableSearch(queryString ?? '');\n\n    conditions.addFilterValues(tagKey, [tagValue]);\n\n    const query = conditions.formatString();\n    browserHistory.push({\n      pathname: location.pathname,\n      query: {\n        ...location.query,\n        query: String(query).trim(),\n      },\n    });\n  };\n\n  handleCellAction = (\n    column: TableColumn<ColumnKeys>,\n    tagValue: React.ReactText,\n    actionRow: any\n  ) => {\n    return (action: Actions) => {\n      const {eventView, location, organization} = this.props;\n      trackAnalytics('performance_views.summary.tag_explorer.cell_action', {\n        organization,\n      });\n\n      const searchConditions = normalizeSearchConditions(eventView.query);\n\n      updateQuery(searchConditions, action, {...column, name: actionRow.id}, tagValue);\n\n      browserHistory.push({\n        pathname: location.pathname,\n        query: {\n          ...location.query,\n          [TAGS_CURSOR_NAME]: undefined,\n          query: searchConditions.formatString(),\n        },\n      });\n    };\n  };\n\n  onTagKeyClick() {\n    const {organization} = this.props;\n    trackAnalytics('performance_views.summary.tag_explorer.visit_tag_key', {\n      organization,\n    });\n  }\n\n  renderBodyCell = (\n    parentProps: Props,\n    column: TableColumn<ColumnKeys>,\n    dataRow: TableDataRow\n  ): React.ReactNode => {\n    const value = dataRow[column.key];\n    const {location, organization, transactionName} = parentProps;\n\n    if (column.key === 'key') {\n      const target = tagsRouteWithQuery({\n        orgSlug: organization.slug,\n        transaction: transactionName,\n        projectID: decodeScalar(location.query.project),\n        query: {...location.query, tagKey: dataRow.tags_key},\n      });\n      return (\n        <Link to={target} onClick={() => this.onTagKeyClick()}>\n          {dataRow.tags_key}\n        </Link>\n      );\n    }\n\n    const allowActions = [Actions.ADD, Actions.EXCLUDE];\n\n    if (column.key === 'tagValue') {\n      const actionRow = {...dataRow, id: dataRow.tags_key};\n      return (\n        <CellAction\n          column={column}\n          dataRow={actionRow}\n          handleCellAction={this.handleCellAction(column, dataRow.tags_value, actionRow)}\n          allowActions={allowActions}\n        >\n          <div className=\"truncate\">{dataRow.tags_value}</div>\n        </CellAction>\n      );\n    }\n\n    if (column.key === 'frequency') {\n      return <AlignRight>{formatPercentage(dataRow.frequency, 0)}</AlignRight>;\n    }\n\n    if (column.key === 'comparison') {\n      const localValue = dataRow.comparison;\n      const pct = formatPercentage(localValue - 1, 0);\n      return (\n        <AlignRight>\n          {localValue > 1 ? t('+%s slower', pct) : t('%s faster', pct)}\n        </AlignRight>\n      );\n    }\n\n    if (column.key === 'aggregate') {\n      return (\n        <AlignRight>\n          <PerformanceDuration abbreviation milliseconds={dataRow.aggregate} />\n        </AlignRight>\n      );\n    }\n\n    if (column.key === 'sumdelta') {\n      return (\n        <AlignRight>\n          <PerformanceDuration abbreviation milliseconds={dataRow.sumdelta} />\n        </AlignRight>\n      );\n    }\n    return value;\n  };\n\n  renderBodyCellWithData = (parentProps: Props) => {\n    return (column: TableColumn<ColumnKeys>, dataRow: TableDataRow): React.ReactNode =>\n      this.renderBodyCell(parentProps, column, dataRow);\n  };\n\n  render() {\n    const {eventView, organization, location, currentFilter, projects, transactionName} =\n      this.props;\n\n    const tagSort = decodeScalar(location.query?.tagSort);\n    const cursor = decodeScalar(location.query?.[TAGS_CURSOR_NAME]);\n\n    const tagEventView = eventView.clone();\n    tagEventView.fields = TAG_EXPLORER_COLUMN_ORDER;\n\n    const tagSorts = fromSorts(tagSort);\n\n    const sortedEventView = tagEventView.withSorts(\n      tagSorts.length\n        ? tagSorts\n        : [\n            {\n              field: 'sumdelta',\n              kind: 'desc',\n            },\n          ]\n    );\n\n    const aggregateColumn = getTransactionField(currentFilter, projects, sortedEventView);\n\n    const adjustedColumns = getColumnsWithReplacedDuration(\n      currentFilter,\n      projects,\n      sortedEventView\n    );\n    const columns = this.getColumnOrder(adjustedColumns);\n\n    const columnSortBy = sortedEventView.getSorts();\n\n    return (\n      <SegmentExplorerQuery\n        eventView={sortedEventView}\n        orgSlug={organization.slug}\n        location={location}\n        aggregateColumn={aggregateColumn}\n        limit={5}\n        cursor={cursor}\n      >\n        {({isLoading, tableData, pageLinks}) => {\n          return (\n            <Fragment>\n              <GuideAnchor target=\"tag_explorer\">\n                <TagsHeader\n                  transactionName={transactionName}\n                  location={location}\n                  organization={organization}\n                  pageLinks={pageLinks}\n                />\n              </GuideAnchor>\n              <GridEditable\n                isLoading={isLoading}\n                data={tableData && tableData.data ? tableData.data : []}\n                columnOrder={columns}\n                columnSortBy={columnSortBy}\n                grid={{\n                  renderHeadCell: this.renderHeadCellWithMeta(\n                    sortedEventView,\n                    tableData?.meta || {},\n                    adjustedColumns\n                  ) as any,\n                  renderBodyCell: this.renderBodyCellWithData(this.props) as any,\n                  onResizeColumn: this.handleResizeColumn as any,\n                }}\n                location={location}\n              />\n            </Fragment>\n          );\n        }}\n      </SegmentExplorerQuery>\n    );\n  }\n}\n\ntype HeaderProps = {\n  location: Location;\n  organization: Organization;\n  pageLinks: string | null;\n  transactionName: string;\n};\n\nfunction TagsHeader(props: HeaderProps) {\n  const {pageLinks, organization, location, transactionName} = props;\n\n  const handleCursor: CursorHandler = (cursor, pathname, query) => {\n    trackAnalytics('performance_views.summary.tag_explorer.change_page', {\n      organization,\n    });\n    browserHistory.push({\n      pathname,\n      query: {...query, [TAGS_CURSOR_NAME]: cursor},\n    });\n  };\n\n  const handleViewAllTagsClick = () => {\n    trackAnalytics('performance_views.summary.tag_explorer.change_page', {\n      organization,\n    });\n  };\n\n  const viewAllTarget = tagsRouteWithQuery({\n    orgSlug: organization.slug,\n    transaction: transactionName,\n    projectID: decodeScalar(location.query.project),\n    query: {...location.query},\n  });\n\n  return (\n    <Header>\n      <div>\n        <SectionHeading>{t('Suspect Tags')}</SectionHeading>\n      </div>\n      <Button\n        onClick={handleViewAllTagsClick}\n        to={viewAllTarget}\n        size=\"xs\"\n        data-test-id=\"tags-explorer-open-tags\"\n      >\n        {t('View All Tags')}\n      </Button>\n      <StyledPagination pageLinks={pageLinks} onCursor={handleCursor} size=\"xs\" />\n    </Header>\n  );\n}\n\nconst AlignRight = styled('div')`\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n  width: 100%;\n`;\n\nconst Header = styled('div')`\n  display: grid;\n  grid-template-columns: 1fr auto auto;\n  margin-bottom: ${space(1)};\n  align-items: center;\n`;\n\nconst StyledPagination = styled(Pagination)`\n  margin: 0 0 0 ${space(1)};\n`;\n"],"names":["SEARCH_SPECIAL_CHARS_REGEXP","RegExp","NEGATION_OPERATOR","SEARCH_WILDCARD","STATIC_FIELD_TAGS_SET","Set","Object","keys","FIELD_TAGS","STATIC_FIELD_TAGS","reduce","tags","key","kind","FieldKind","STATIC_FIELD_TAGS_WITHOUT_TRACING","omit","TRACING_FIELDS","STATIC_SPAN_TAGS","SPAN_OP_BREAKDOWN_FIELDS","name","STATIC_SEMVER_TAGS","SEMVER_TAGS","SearchBar","props","maxSearchItems","organization","omitTags","fields","projectIds","includeSessionTagsValues","maxMenuHeight","customMeasurements","api","useApi","functionTags","useMemo","length","acc","item","has","field","isEquation","isCustomMeasurement","getFunctionTags","tagsWithKind","useEffect","getEventFieldValues","cache","clear","memoize","tag","query","endpointParams","projectIdStrings","map","String","isAggregateField","isMeasurement","Promise","resolve","isDeviceClass","DEVICE_CLASS_TAG_VALUES","fetchTagValues","orgSlug","slug","tagKey","search","includeTransactions","includeSessions","then","results","flatten","filter","_ref","defined","_ref2","Error","_ref3","getTagList","measurements","measurementsWithKind","getMeasurementTags","combinedTags","features","includes","assign","FieldKey","values","sort","a","b","toLowerCase","localeCompare","predefined","_jsx","Measurements","children","_ref4","SmartSearchBar","hasRecentSearches","savedSearchType","SavedSearchType","onGetTagValues","supportedTags","prepareQuery","replace","excludedTags","customPerformanceMetrics","displayName","withTags","PerformanceDuration","normalizedSeconds","nanoseconds","isNanoseconds","milliseconds","isMilliseconds","seconds","Duration","abbreviation","fixedDigits","getRequestFunction","_props","aggregateColumn","eventView","apiPayload","getEventsAPIPayload","location","allTagKeys","shouldRefetchData","prevProps","nextProps","SegmentExplorerQuery","GenericDiscoverQuery","route","getRequestPayload","WrappedComponent","WithTags","Component","constructor","arguments","_defineProperty","TagStore","this","setState","undefined","componentWillUnmount","unsubscribe","render","state","getDisplayName","TAGS_CURSOR_NAME","TAG_EXPLORER_COLUMN_ORDER","width","column","canSort","getTransactionField","currentFilter","projects","fieldFromFilter","SPAN_OPERATION_BREAKDOWN_FILTER_TO_FIELD","platformAndConditionsToPerformanceType","ProjectPerformanceType","TagValue","className","row","tags_value","TagExplorer","widths","columnIndex","nextColumn","Number","COL_WIDTH_UNDEFINED","columns","col","i","sortedEventView","tableMeta","index","renderHeadCell","tagValue","trackAnalytics","queryString","decodeScalar","conditions","MutableSearch","addFilterValues","formatString","browserHistory","pathname","trim","actionRow","action","searchConditions","normalizeSearchConditions","updateQuery","id","parentProps","dataRow","value","transactionName","target","tagsRouteWithQuery","transaction","projectID","project","tags_key","Link","to","onClick","onTagKeyClick","allowActions","Actions","CellAction","handleCellAction","AlignRight","formatPercentage","frequency","localValue","comparison","pct","t","aggregate","sumdelta","renderBodyCell","onSortClick","currentSortKind","currentSortField","direction","columnInfo","align","fieldAlignment","type","currentSort","sortForField","isFieldSortable","SortLink","title","generateSortLink","nextEventView","sortOnField","generateQueryStringObject","tagSort","cursor","tagEventView","clone","tagSorts","fromSorts","withSorts","adjustedColumns","getColumnsWithReplacedDuration","c","durationColumn","find","getColumnOrder","columnSortBy","getSorts","limit","isLoading","tableData","pageLinks","_jsxs","Fragment","GuideAnchor","TagsHeader","GridEditable","data","columnOrder","grid","renderHeadCellWithMeta","meta","renderBodyCellWithData","onResizeColumn","handleResizeColumn","viewAllTarget","Header","SectionHeading","Button","handleViewAllTagsClick","size","StyledPagination","onCursor","handleCursor","_styled","styles","space","Pagination"],"sourceRoot":""}