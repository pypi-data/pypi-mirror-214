{"version":3,"file":"chunks/app_views_settings_organizationApiKeys_organizationApiKeyDetails_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/utils/routeTitle.tsx","webpack:///./app/views/asyncView.tsx","webpack:///./app/views/settings/organizationApiKeys/organizationApiKeyDetails.tsx"],"sourcesContent":["function routeTitleGen(\n  routeName: string,\n  orgSlug: string,\n  withSentry: boolean = true,\n  projectSlug?: string\n): string {\n  const tmplBase = `${routeName} - ${orgSlug}`;\n  const tmpl = projectSlug ? `${tmplBase} - ${projectSlug}` : tmplBase;\n\n  return withSentry ? `${tmpl} - Sentry` : tmpl;\n}\n\nexport default routeTitleGen;\n","import AsyncComponent from 'sentry/components/asyncComponent';\nimport SentryDocumentTitle from 'sentry/components/sentryDocumentTitle';\n\ntype AsyncViewState = AsyncComponent['state'];\ntype AsyncViewProps = AsyncComponent['props'];\n\nexport default class AsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends AsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    return (\n      <SentryDocumentTitle title={this.getTitle()}>\n        {this.renderComponent() as React.ReactChild}\n      </SentryDocumentTitle>\n    );\n  }\n}\n","import {browserHistory, RouteComponentProps} from 'react-router';\n\nimport {addErrorMessage, addSuccessMessage} from 'sentry/actionCreators/indicator';\nimport ApiForm from 'sentry/components/forms/apiForm';\nimport MultipleCheckbox from 'sentry/components/forms/controls/multipleCheckbox';\nimport TextareaField from 'sentry/components/forms/fields/textareaField';\nimport TextField from 'sentry/components/forms/fields/textField';\nimport FormField from 'sentry/components/forms/formField';\nimport {Panel, PanelBody, PanelHeader} from 'sentry/components/panels';\nimport {API_ACCESS_SCOPES} from 'sentry/constants';\nimport {t} from 'sentry/locale';\nimport {Organization} from 'sentry/types';\nimport recreateRoute from 'sentry/utils/recreateRoute';\nimport routeTitleGen from 'sentry/utils/routeTitle';\nimport withOrganization from 'sentry/utils/withOrganization';\nimport AsyncView from 'sentry/views/asyncView';\nimport SettingsPageHeader from 'sentry/views/settings/components/settingsPageHeader';\n\nimport {DeprecatedApiKey} from './types';\n\ntype RouteParams = {\n  apiKey: string;\n};\n\ntype Props = RouteComponentProps<RouteParams, {}> & {\n  organization: Organization;\n};\n\ntype State = AsyncView['state'] & {\n  apiKey: DeprecatedApiKey;\n};\n\nclass OrganizationApiKeyDetails extends AsyncView<Props, State> {\n  getEndpoints(): ReturnType<AsyncView['getEndpoints']> {\n    const {organization} = this.props;\n    return [\n      [\n        'apiKey',\n        `/organizations/${organization.slug}/api-keys/${this.props.params.apiKey}/`,\n      ],\n    ];\n  }\n\n  getTitle() {\n    return routeTitleGen(t('Edit API Key'), this.props.organization.slug, false);\n  }\n\n  handleSubmitSuccess = () => {\n    addSuccessMessage('Saved changes');\n\n    // Go back to API list\n    browserHistory.push(\n      recreateRoute('', {\n        stepBack: -1,\n        routes: this.props.routes,\n        params: this.props.params,\n      })\n    );\n  };\n\n  handleSubmitError = () => {\n    addErrorMessage('Unable to save changes. Please try again.');\n  };\n\n  renderBody() {\n    const {organization} = this.props;\n    return (\n      <div>\n        <SettingsPageHeader title={t('Edit API Key')} />\n\n        <Panel>\n          <PanelHeader>{t('API Key')}</PanelHeader>\n          <ApiForm\n            apiMethod=\"PUT\"\n            apiEndpoint={`/organizations/${organization.slug}/api-keys/${this.props.params.apiKey}/`}\n            initialData={this.state.apiKey}\n            onSubmitSuccess={this.handleSubmitSuccess}\n            onSubmitError={this.handleSubmitError}\n            onCancel={() =>\n              browserHistory.push(\n                recreateRoute('', {\n                  stepBack: -1,\n                  routes: this.props.routes,\n                  params: this.props.params,\n                })\n              )\n            }\n          >\n            <PanelBody>\n              <TextField label={t('Label')} name=\"label\" />\n              <TextField label={t('API Key')} name=\"key\" disabled />\n\n              <FormField name=\"scope_list\" label={t('Scopes')} inline={false} required>\n                {({name, value, onChange}) => (\n                  <MultipleCheckbox value={value} onChange={onChange} name={name}>\n                    {API_ACCESS_SCOPES.map(scope => (\n                      <MultipleCheckbox.Item value={scope} key={scope}>\n                        {scope}\n                      </MultipleCheckbox.Item>\n                    ))}\n                  </MultipleCheckbox>\n                )}\n              </FormField>\n\n              <TextareaField\n                label={t('Allowed Domains')}\n                name=\"allowed_origins\"\n                placeholder=\"e.g. example.com or https://example.com\"\n                help=\"Separate multiple entries with a newline\"\n              />\n            </PanelBody>\n          </ApiForm>\n        </Panel>\n      </div>\n    );\n  }\n}\n\nexport default withOrganization(OrganizationApiKeyDetails);\n"],"names":["routeName","orgSlug","projectSlug","arguments","length","undefined","tmplBase","tmpl","AsyncView","AsyncComponent","getTitle","render","_jsx","SentryDocumentTitle","title","this","children","renderComponent","displayName","OrganizationApiKeyDetails","constructor","_defineProperty","addSuccessMessage","browserHistory","recreateRoute","stepBack","routes","props","params","addErrorMessage","getEndpoints","organization","slug","apiKey","routeTitleGen","t","renderBody","_jsxs","SettingsPageHeader","Panel","PanelHeader","ApiForm","apiMethod","apiEndpoint","initialData","state","onSubmitSuccess","handleSubmitSuccess","onSubmitError","handleSubmitError","onCancel","PanelBody","TextField","label","name","disabled","FormField","inline","required","_ref","value","onChange","MultipleCheckbox","API_ACCESS_SCOPES","scope","TextareaField","placeholder","help","withOrganization"],"sourceRoot":""}