"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_alerts_incidentRedirect_tsx"],{"./app/views/alerts/incidentRedirect.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>S});var r=s("../node_modules/react/index.js"),n=s("../node_modules/react-router/es/index.js"),a=s("./app/components/loadingError.tsx"),i=s("./app/components/loadingIndicator.tsx"),E=s("./app/utils/analytics.tsx"),R=s("./app/utils/useApi.tsx"),l=s("./app/utils/withDomainRequired.tsx"),o=s("./app/views/alerts/utils/apiCalls.tsx"),u=s("./app/views/alerts/utils/index.tsx"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function T(e){let{organization:t,params:s}=e;const T=(0,R.Z)(),[S,p]=(0,r.useState)(!1),A=(0,r.useCallback)((()=>{(0,E.Gi)("alert_details.viewed",{organization:t,alert_id:parseInt(s.alertId,10)})}),[t,s.alertId]),d=(0,r.useCallback)((async()=>{p(!1);try{const e=await(0,o.yN)(T,t.slug,s.alertId);n.browserHistory.replace((0,l.D)({pathname:(0,u.Gu)(t,e),query:{alert:e.identifier}}))}catch(e){p(!0)}}),[p,T,s.alertId,t]);return(0,r.useEffect)((()=>{d(),A()}),[d,A]),S?(0,c.tZ)(a.Z,{onRetry:d}):(0,c.tZ)(i.Z,{})}T.displayName="IncidentRedirect";const S=T},"./app/views/alerts/rules/metric/types.tsx":(e,t,s)=>{s.d(t,{F4:()=>a,GM:()=>R,LO:()=>S,Lm:()=>p,Tb:()=>c,Us:()=>T,XH:()=>u,Yh:()=>l,hd:()=>A,lK:()=>o,lT:()=>n,qz:()=>E,t6:()=>i});var r=s("./app/locale.tsx");let n,a,i,E,R,l,o,u,c,T;!function(e){e[e.ABOVE=0]="ABOVE",e[e.BELOW=1]="BELOW"}(n||(n={})),function(e){e.CRITICAL="critical",e.WARNING="warning",e.RESOLVE="resolve"}(a||(a={})),function(e){e.COUNT="count",e.CHANGE="change",e.PERCENT="percent"}(i||(i={})),function(e){e.ERRORS="events",e.TRANSACTIONS="transactions",e.GENERIC_METRICS="generic_metrics",e.SESSIONS="sessions",e.METRICS="metrics"}(E||(E={})),function(e){e.DEFAULT="default",e.ERROR="error",e.TRANSACTION="transaction",e.USER="user",e.SESSION="session"}(R||(R={})),function(e){e.ERROR_DEFAULT="error_default",e.DEFAULT="default",e.ERROR="error",e.TRANSACTION="transaction"}(l||(l={})),function(e){e.CRASH_FREE_SESSIONS="percentage(sessions_crashed, sessions) AS _crash_rate_alert_aggregate",e.CRASH_FREE_USERS="percentage(users_crashed, users) AS _crash_rate_alert_aggregate"}(o||(o={})),function(e){e.SIX_HOURS="6h",e.ONE_DAY="1d",e.THREE_DAYS="3d",e.SEVEN_DAYS="10000m",e.FOURTEEN_DAYS="14d",e.THIRTY_DAYS="30d"}(u||(u={})),function(e){e[e.ONE_MINUTE=1]="ONE_MINUTE",e[e.FIVE_MINUTES=5]="FIVE_MINUTES",e[e.TEN_MINUTES=10]="TEN_MINUTES",e[e.FIFTEEN_MINUTES=15]="FIFTEEN_MINUTES",e[e.THIRTY_MINUTES=30]="THIRTY_MINUTES",e[e.ONE_HOUR=60]="ONE_HOUR",e[e.TWO_HOURS=120]="TWO_HOURS",e[e.FOUR_HOURS=240]="FOUR_HOURS",e[e.ONE_DAY=1440]="ONE_DAY"}(c||(c={})),function(e){e.EMAIL="email",e.SLACK="slack",e.PAGERDUTY="pagerduty",e.MSTEAMS="msteams",e.SENTRY_APP="sentry_app"}(T||(T={}));const S={[T.EMAIL]:(0,r.t)("Emai​l"),[T.SLACK]:(0,r.t)("Slack"),[T.PAGERDUTY]:(0,r.t)("Pagerduty"),[T.MSTEAMS]:(0,r.t)("MS Teams"),[T.SENTRY_APP]:(0,r.t)("Notification")};let p;!function(e){e.SPECIFIC="specific",e.USER="user",e.TEAM="team",e.SENTRY_APP="sentry_app"}(p||(p={}));const A={[p.USER]:(0,r.t)("Member"),[p.TEAM]:(0,r.t)("Team")}},"./app/views/alerts/types.tsx":(e,t,s)=>{let r,n,a,i,E,R;s.d(t,{Gb:()=>E,XO:()=>R,lm:()=>n,ok:()=>r,vt:()=>a}),function(e){e.METRIC="metric",e.ISSUE="issue"}(r||(r={})),function(e){e[e.CREATED=0]="CREATED",e[e.DETECTED=1]="DETECTED",e[e.STATUS_CHANGE=2]="STATUS_CHANGE",e[e.COMMENT=3]="COMMENT",e[e.STARTED=4]="STARTED"}(n||(n={})),function(e){e[e.OPENED=1]="OPENED",e[e.CLOSED=2]="CLOSED",e[e.WARNING=10]="WARNING",e[e.CRITICAL=20]="CRITICAL"}(a||(a={})),function(e){e[e.MANUAL=1]="MANUAL",e[e.RULE_UPDATED=2]="RULE_UPDATED",e[e.RULE_TRIGGERED=3]="RULE_TRIGGERED"}(i||(i={})),function(e){e[e.PENDING=0]="PENDING",e[e.SNAPSHOT=4]="SNAPSHOT",e[e.DISABLED=5]="DISABLED"}(E||(E={})),function(e){e.METRIC="alert_rule",e.ISSUE="rule"}(R||(R={}))},"./app/views/alerts/utils/apiCalls.tsx":(e,t,s)=>{s.d(t,{dX:()=>n,hl:()=>a,yN:()=>i});const r=new(s("./app/api.tsx").KU);function n(e,t,s){return r.requestPromise(`/organizations/${e}/alert-rules/${t}/`,{query:s})}function a(e,t,s,n){return r.requestPromise(`/organizations/${e}/incidents/`,{query:{project:"-1",alertRule:t,includeSnapshots:!0,start:s,end:n,expand:["activities","seen_by","original_alert_rule"]}})}function i(e,t,s){return e.requestPromise(`/organizations/${t}/incidents/${s}/`)}},"./app/views/alerts/utils/index.tsx":(e,t,s)=>{s.d(t,{A4:()=>d,CM:()=>S,Eb:()=>N,Ey:()=>p,Gm:()=>T,Gu:()=>D,KC:()=>A,LI:()=>y,QR:()=>C,Vc:()=>_,g2:()=>f,lR:()=>O,qn:()=>I,t3:()=>U});var r=s("../node_modules/lodash/round.js"),n=s.n(r),a=s("./app/locale.tsx"),i=s("./app/types/index.tsx"),E=s("./app/utils.tsx"),R=(s("./app/utils/dates.tsx"),s("./app/utils/discover/charts.tsx")),l=s("./app/utils/discover/fields.tsx"),o=s("./app/utils/toArray.tsx"),u=s("./app/views/alerts/rules/metric/types.tsx"),c=s("./app/views/alerts/types.tsx");function T(e){return!e.hasOwnProperty("triggers")}const S={[u.qz.ERRORS]:(0,a.t)("Errors"),[u.qz.TRANSACTIONS]:(0,a.t)("Transactions"),[u.Yh.ERROR_DEFAULT]:"event.type:error OR event.type:default",[u.Yh.ERROR]:"event.type:error",[u.Yh.DEFAULT]:"event.type:default",[u.Yh.TRANSACTION]:"event.type:transaction"},p={[u.Yh.ERROR_DEFAULT]:{dataset:u.qz.ERRORS,eventTypes:[u.GM.ERROR,u.GM.DEFAULT]},[u.Yh.ERROR]:{dataset:u.qz.ERRORS,eventTypes:[u.GM.ERROR]},[u.Yh.DEFAULT]:{dataset:u.qz.ERRORS,eventTypes:[u.GM.DEFAULT]},[u.Yh.TRANSACTION]:{dataset:u.qz.TRANSACTIONS,eventTypes:[u.GM.TRANSACTION]}};function A(e,t){return e===u.qz.TRANSACTIONS||e===u.qz.GENERIC_METRICS?u.Yh.TRANSACTION:t?t.includes(u.GM.DEFAULT)&&t.includes(u.GM.ERROR)?u.Yh.ERROR_DEFAULT:t.includes(u.GM.DEFAULT)?u.Yh.DEFAULT:u.Yh.ERROR:u.Yh.ERROR}function d(e){let t=e.match(/\(?\bevent\.type:(error|default|transaction)\)?\WOR\W\(?event\.type:(error|default|transaction)\)?/i);return t?"default,error"!==t.slice(1,3).sort().join(",")?null:{source:u.Yh.ERROR_DEFAULT,query:e.replace(t[0],"").trim()}:(t=e.match(/(^|\s)event\.type:(error|default|transaction)/i),t&&u.Yh[t[2].toUpperCase()]?{source:u.Yh[t[2].toUpperCase()],query:e.replace(t[0],"").trim()}:null)}function N(e){return Object.values(u.lK).includes(e)}const _={[u.lK.CRASH_FREE_SESSIONS]:i.kI.SESSIONS,[u.lK.CRASH_FREE_USERS]:i.kI.USERS};function O(e,t,s){return N(s)?(0,E.ri)(e)?`${n()(e,2)}%`:"―":(0,R.gu)(e,(0,l.Px)(t))}function I(e,t,s){return N(s)?(0,E.ri)(e)?`${e}%`:"―":(0,R.CX)(e,(0,l.Px)(t))}const U=1.03;function C(e){return N(e)}function D(e,t){return`/organizations/${e.slug}/alerts/rules/details/${t.alertRule.status===c.Gb.SNAPSHOT&&t.alertRule.originalAlertRuleId?t.alertRule.originalAlertRuleId:t.alertRule.id}/`}function f(e){return Array.isArray(e)||""===e?"all":["open","closed"].includes(e)?e:"all"}const m=["myteams","unassigned"];function y(e){return void 0===e?m:""===e?[]:(0,o.Z)(e)}}}]);
//# sourceMappingURL=../sourcemaps/app_views_alerts_incidentRedirect_tsx.71bdd474282936951ed6de891df48098.js.map