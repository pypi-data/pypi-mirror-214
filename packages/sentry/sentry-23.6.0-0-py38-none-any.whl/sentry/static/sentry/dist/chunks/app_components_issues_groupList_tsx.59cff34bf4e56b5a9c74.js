"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_issues_groupList_tsx"],{"./app/components/issues/groupList.tsx":(e,t,s)=>{s.d(t,{Z:()=>L});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react/index.js")),n=s("../node_modules/react-router/es/index.js"),a=s("../node_modules/lodash/isEqual.js"),i=s.n(a),p=s("../node_modules/lodash/omit.js"),d=s.n(p),u=s("../node_modules/query-string/index.js"),l=s("./app/actionCreators/members.tsx"),h=s("./app/components/emptyStateWarning.tsx"),c=s("./app/components/loadingError.tsx"),m=s("./app/components/loadingIndicator.tsx"),g=s("./app/components/pagination.tsx"),y=s("./app/components/panels/index.tsx"),x=s("./app/components/replays/issuesReplayCountProvider.tsx"),w=s("./app/components/searchSyntax/parser.tsx"),Z=s("./app/components/searchSyntax/utils.tsx"),b=s("./app/components/stream/group.tsx"),f=s("./app/locale.tsx"),P=s("./app/stores/groupStore.tsx"),v=s("./app/utils/withApi.tsx"),q=s("./app/utils/withSentryRouter.tsx"),j=s("./app/views/alerts/rules/metric/details/relatedIssuesNotAvailable.tsx"),S=s("./app/components/issues/groupListHeader.tsx"),C=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class G extends o.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{loading:!0,error:!1,errorData:null,groups:[],pageLinks:null}),(0,r.Z)(this,"listener",P.Z.listen((()=>this.onGroupChange()),void 0)),(0,r.Z)(this,"fetchData",(async()=>{P.Z.loadInitialData([]);const{api:e,orgId:t,queryParams:s}=this.props;e.clear(),this.setState({loading:!0,error:!1,errorData:null}),(0,l.MA)(e,t).then((e=>{this.setState({memberList:(0,l.M4)(e)})}));const r=this.getGroupListEndpoint(),o=(0,w.UG)((s??this.getQueryParams()).query);if(o&&(0,Z.ly)({tree:o,noResultValue:!1,visitorTest:e=>{let{token:t,returnResult:s}=e;return t.type===w.WU.LOGIC_BOOLEAN?s(!0):null}}))this.setState({error:!0,errorData:{detail:j.H},loading:!1});else try{const[t,,s]=await e.requestPromise(r,{includeAllArgs:!0});P.Z.add(t),this.setState({error:!1,errorData:null,loading:!1,pageLinks:s?.getResponseHeader("Link")??null},(()=>{this.props.onFetchSuccess?.(this.state,this.handleCursorChange)}))}catch(e){this.setState({error:!0,errorData:e.responseJSON,loading:!1})}}))}componentDidMount(){this.fetchData()}shouldComponentUpdate(e,t){return!i()(this.state,t)||e.endpointPath!==this.props.endpointPath||e.query!==this.props.query||!i()(e.queryParams,this.props.queryParams)}componentDidUpdate(e){const t=["end"];e.orgId===this.props.orgId&&e.endpointPath===this.props.endpointPath&&e.query===this.props.query&&i()(d()(e.queryParams,t),d()(this.props.queryParams,t))||this.fetchData()}componentWillUnmount(){P.Z.reset(),this.listener?.()}getGroupListEndpoint(){const{orgId:e,endpointPath:t,queryParams:s}=this.props,r=t??`/organizations/${e}/issues/`,o=s??this.getQueryParams();return`${r}?${u.stringify(o)}`}getQueryParams(){const{location:e,query:t}=this.props,s=e.query;return s.limit=50,s.sort="new",s.query=t,s}handleCursorChange(e,t,s,r){const o=parseInt(s.page,10);let a=isNaN(o)?r:o+r;a<=0&&(e=void 0,a=void 0),n.browserHistory.push({pathname:t,query:{...s,cursor:e,page:a}})}onGroupChange(){const e=P.Z.getAllItems();i()(e,this.state.groups)||this.setState({groups:e})}render(){const{canSelectGroups:e,withChart:t,renderEmptyMessage:s,renderErrorMessage:r,withPagination:o,useFilteredStats:n,useTintRow:a,customStatsPeriod:i,queryParams:p,queryFilterDescription:d,narrowGroups:u,source:l}=this.props,{loading:w,error:Z,errorData:P,groups:v,memberList:q,pageLinks:j}=this.state;if(w)return(0,C.tZ)(m.Z,{});if(Z)return"function"==typeof r&&P?r(P,this.fetchData):(0,C.tZ)(c.Z,{onRetry:this.fetchData});if(0===v.length)return"function"==typeof s?s():(0,C.tZ)(y.s_,{children:(0,C.tZ)(y.N,{children:(0,C.tZ)(h.Z,{children:(0,C.tZ)("p",{children:(0,f.t)("There don't seem to be any events fitting the query.")})})})});const G="auto"===p?.groupStatsPeriod?p?.groupStatsPeriod:b.g;return(0,C.BX)(x.Z,{groupIds:v.map((e=>{let{id:t}=e;return t})),children:[(0,C.BX)(y.s_,{children:[(0,C.tZ)(S.Z,{withChart:!!t,narrowGroups:u}),(0,C.tZ)(y.N,{children:v.map((s=>{let{id:r,project:o}=s;const p=q?.hasOwnProperty(o.slug)?q[o.slug]:void 0;return(0,C.tZ)(b.Z,{id:r,canSelect:e,withChart:t,memberList:p,useFilteredStats:n,useTintRow:a,customStatsPeriod:i,statsPeriod:G,queryFilterDescription:d,narrowGroups:u,source:l},r)}))})]}),o&&(0,C.tZ)(g.Z,{pageLinks:j,onCursor:this.handleCursorChange})]})}}G.displayName="GroupList",(0,r.Z)(G,"defaultProps",{canSelectGroups:!0,withChart:!0,withPagination:!0,useFilteredStats:!0,useTintRow:!0,narrowGroups:!1});const L=(0,v.Z)((0,q.Z)(G))},"./app/components/issues/groupListHeader.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("./app/components/panels/index.tsx"),n=s("./app/locale.tsx"),a=s("./app/styles/space.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(e){let{withChart:t=!0,narrowGroups:s=!1,showLastTriggered:r=!1}=e;return(0,i.BX)(o.V9,{disablePadding:!0,children:[(0,i.tZ)(l,{children:(0,n.t)("Issue")}),t&&(0,i.tZ)(c,{narrowGroups:s,children:(0,n.t)("Graph")}),(0,i.tZ)(h,{children:(0,n.t)("events")}),(0,i.tZ)(h,{children:(0,n.t)("users")}),(0,i.tZ)(m,{narrowGroups:s,children:(0,n.t)("Assignee")}),r&&(0,i.tZ)(h,{children:(0,n.t)("Last Triggered")})]})}p.displayName="GroupListHeader";const d=p,u=(0,r.Z)("div",{target:"ev0gesp4"})("display:flex;align-self:center;margin:0 ",(0,a.D)(2),";color:",(e=>e.theme.subText),";"),l=(0,r.Z)(u,{target:"ev0gesp3"})("flex:1;width:66.66%;@media (min-width: ",(e=>e.theme.breakpoints.medium),"){width:50%;}"),h=(0,r.Z)(u,{target:"ev0gesp2"})("justify-content:flex-end;width:60px;white-space:nowrap;@media (min-width: ",(e=>e.theme.breakpoints.xlarge),"){width:80px;}"),c=(0,r.Z)(u,{target:"ev0gesp1"})("justify-content:space-between;width:160px;@media (max-width: ",(e=>e.narrowGroups?e.theme.breakpoints.xlarge:e.theme.breakpoints.large),"){display:none;}"),m=(0,r.Z)(u,{target:"ev0gesp0"})("justify-content:flex-end;width:80px;@media (max-width: ",(e=>e.narrowGroups?e.theme.breakpoints.large:e.theme.breakpoints.medium),"){display:none;}")},"./app/views/alerts/rules/metric/details/relatedIssuesNotAvailable.tsx":(e,t,s)=>{s.d(t,{H:()=>d,z:()=>u});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("./app/components/acl/feature.tsx"),n=s("./app/components/alert.tsx"),a=s("./app/components/button.tsx"),i=s("./app/components/panels/index.tsx"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d='Error parsing search query: Boolean statements containing "OR" or "AND" are not supported in this search';function u(e){let{buttonTo:t,buttonText:s}=e;return(0,p.tZ)(l,{type:"info",showIcon:!0,trailingItems:(0,p.tZ)(o.Z,{features:["discover-basic"],children:(0,p.tZ)(a.zx,{priority:"default",size:"xs",to:t,children:s})}),children:(0,p.tZ)("div",{"data-test-id":"loading-error-message",children:"Related Issues unavailable for this alert."})})}u.displayName="RelatedIssuesNotAvailable";const l=(0,r.Z)(n.bZ,{target:"e1qw7yyr0"})(i.s_," &{border-radius:0;border-width:1px 0;}")}}]);
//# sourceMappingURL=../sourcemaps/app_components_issues_groupList_tsx.45eae0aef59024c27479f40c06a74f79.js.map