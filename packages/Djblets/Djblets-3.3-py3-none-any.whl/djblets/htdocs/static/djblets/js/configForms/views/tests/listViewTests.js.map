{"version":3,"file":"listViewTests.js","names":["suite","describe","collection","list","listView","beforeEach","Backbone","Collection","text","model","Djblets","Config","ListItem","List","ListView","render","it","$items","$","expect","length","toBe","eq","strip","add","remove","at","reset"],"sources":["../../../../../../../static/djblets/js/configForms/views/tests/listViewTests.es6.js"],"sourcesContent":["suite('djblets/configForms/views/ListView', function() {\n    describe('Manages items', function() {\n        let collection;\n        let list;\n        let listView;\n\n        beforeEach(function() {\n            collection = new Backbone.Collection(\n                [\n                    {text: 'Item 1'},\n                    {text: 'Item 2'},\n                    {text: 'Item 3'},\n                ], {\n                    model: Djblets.Config.ListItem,\n                }\n            );\n\n            list = new Djblets.Config.List({}, {\n                collection: collection,\n            });\n\n            listView = new Djblets.Config.ListView({\n                model: list,\n            });\n            listView.render();\n        });\n\n        it('On render', function() {\n            const $items = listView.$('li');\n            expect($items.length).toBe(3);\n            expect($items.eq(0).text().strip()).toBe('Item 1');\n            expect($items.eq(1).text().strip()).toBe('Item 2');\n            expect($items.eq(2).text().strip()).toBe('Item 3');\n        });\n\n        it('On add', function() {\n            collection.add({\n                text: 'Item 4',\n            });\n\n            const $items = listView.$('li');\n            expect($items.length).toBe(4);\n            expect($items.eq(3).text().strip()).toBe('Item 4');\n        });\n\n        it('On remove', function() {\n            collection.remove(collection.at(0));\n\n            const $items = listView.$('li');\n            expect($items.length).toBe(2);\n            expect($items.eq(0).text().strip()).toBe('Item 2');\n        });\n\n        it('On reset', function() {\n            collection.reset([\n                {text: 'Foo'},\n                {text: 'Bar'},\n            ]);\n\n            const $items = listView.$('li');\n            expect($items.length).toBe(2);\n            expect($items.eq(0).text().strip()).toBe('Foo');\n            expect($items.eq(1).text().strip()).toBe('Bar');\n        });\n    });\n});\n"],"mappings":";;AAAAA,KAAK,CAAC,oCAAoC,EAAE,YAAW;EACnDC,QAAQ,CAAC,eAAe,EAAE,YAAW;IACjC,IAAIC,UAAU;IACd,IAAIC,IAAI;IACR,IAAIC,QAAQ;IAEZC,UAAU,CAAC,YAAW;MAClBH,UAAU,GAAG,IAAII,QAAQ,CAACC,UAAU,CAChC,CACI;QAACC,IAAI,EAAE;MAAQ,CAAC,EAChB;QAACA,IAAI,EAAE;MAAQ,CAAC,EAChB;QAACA,IAAI,EAAE;MAAQ,CAAC,CACnB,EAAE;QACCC,KAAK,EAAEC,OAAO,CAACC,MAAM,CAACC;MAC1B,CACJ,CAAC;MAEDT,IAAI,GAAG,IAAIO,OAAO,CAACC,MAAM,CAACE,IAAI,CAAC,CAAC,CAAC,EAAE;QAC/BX,UAAU,EAAEA;MAChB,CAAC,CAAC;MAEFE,QAAQ,GAAG,IAAIM,OAAO,CAACC,MAAM,CAACG,QAAQ,CAAC;QACnCL,KAAK,EAAEN;MACX,CAAC,CAAC;MACFC,QAAQ,CAACW,MAAM,CAAC,CAAC;IACrB,CAAC,CAAC;IAEFC,EAAE,CAAC,WAAW,EAAE,YAAW;MACvB,MAAMC,MAAM,GAAGb,QAAQ,CAACc,CAAC,CAAC,IAAI,CAAC;MAC/BC,MAAM,CAACF,MAAM,CAACG,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;MAC7BF,MAAM,CAACF,MAAM,CAACK,EAAE,CAAC,CAAC,CAAC,CAACd,IAAI,CAAC,CAAC,CAACe,KAAK,CAAC,CAAC,CAAC,CAACF,IAAI,CAAC,QAAQ,CAAC;MAClDF,MAAM,CAACF,MAAM,CAACK,EAAE,CAAC,CAAC,CAAC,CAACd,IAAI,CAAC,CAAC,CAACe,KAAK,CAAC,CAAC,CAAC,CAACF,IAAI,CAAC,QAAQ,CAAC;MAClDF,MAAM,CAACF,MAAM,CAACK,EAAE,CAAC,CAAC,CAAC,CAACd,IAAI,CAAC,CAAC,CAACe,KAAK,CAAC,CAAC,CAAC,CAACF,IAAI,CAAC,QAAQ,CAAC;IACtD,CAAC,CAAC;IAEFL,EAAE,CAAC,QAAQ,EAAE,YAAW;MACpBd,UAAU,CAACsB,GAAG,CAAC;QACXhB,IAAI,EAAE;MACV,CAAC,CAAC;MAEF,MAAMS,MAAM,GAAGb,QAAQ,CAACc,CAAC,CAAC,IAAI,CAAC;MAC/BC,MAAM,CAACF,MAAM,CAACG,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;MAC7BF,MAAM,CAACF,MAAM,CAACK,EAAE,CAAC,CAAC,CAAC,CAACd,IAAI,CAAC,CAAC,CAACe,KAAK,CAAC,CAAC,CAAC,CAACF,IAAI,CAAC,QAAQ,CAAC;IACtD,CAAC,CAAC;IAEFL,EAAE,CAAC,WAAW,EAAE,YAAW;MACvBd,UAAU,CAACuB,MAAM,CAACvB,UAAU,CAACwB,EAAE,CAAC,CAAC,CAAC,CAAC;MAEnC,MAAMT,MAAM,GAAGb,QAAQ,CAACc,CAAC,CAAC,IAAI,CAAC;MAC/BC,MAAM,CAACF,MAAM,CAACG,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;MAC7BF,MAAM,CAACF,MAAM,CAACK,EAAE,CAAC,CAAC,CAAC,CAACd,IAAI,CAAC,CAAC,CAACe,KAAK,CAAC,CAAC,CAAC,CAACF,IAAI,CAAC,QAAQ,CAAC;IACtD,CAAC,CAAC;IAEFL,EAAE,CAAC,UAAU,EAAE,YAAW;MACtBd,UAAU,CAACyB,KAAK,CAAC,CACb;QAACnB,IAAI,EAAE;MAAK,CAAC,EACb;QAACA,IAAI,EAAE;MAAK,CAAC,CAChB,CAAC;MAEF,MAAMS,MAAM,GAAGb,QAAQ,CAACc,CAAC,CAAC,IAAI,CAAC;MAC/BC,MAAM,CAACF,MAAM,CAACG,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;MAC7BF,MAAM,CAACF,MAAM,CAACK,EAAE,CAAC,CAAC,CAAC,CAACd,IAAI,CAAC,CAAC,CAACe,KAAK,CAAC,CAAC,CAAC,CAACF,IAAI,CAAC,KAAK,CAAC;MAC/CF,MAAM,CAACF,MAAM,CAACK,EAAE,CAAC,CAAC,CAAC,CAACd,IAAI,CAAC,CAAC,CAACe,KAAK,CAAC,CAAC,CAAC,CAACF,IAAI,CAAC,KAAK,CAAC;IACnD,CAAC,CAAC;EACN,CAAC,CAAC;AACN,CAAC,CAAC"}